/*! For license information please see 11cdaa76d93e3e29e182f89ef3670afb.0a3a67fc32d9a6263d82.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[58042],{891047:(e,n,t)=>{"use strict";function r(e){return new Promise(((n,t)=>{e.oncomplete=e.onsuccess=()=>n(e.result),e.onabort=e.onerror=()=>t(e.error)}))}function o(e,n){const t=indexedDB.open(e);t.onupgradeneeded=()=>t.result.createObjectStore(n);const o=r(t);return(e,t)=>o.then((r=>t(r.transaction(n,e).objectStore(n))))}let i;function a(){return i||(i=o("keyval-store","keyval")),i}function s(e,n=a()){return n("readonly",(n=>r(n.get(e))))}function l(e,n,t=a()){return t("readwrite",(t=>(t.put(n,e),r(t.transaction))))}function c(e,n=a()){return n("readwrite",(n=>(n.delete(e),r(n.transaction))))}t.d(n,{createStore:()=>o,del:()=>c,get:()=>s,set:()=>l})},559653:function(e,n,t){var r,o,i,a,s;"undefined"!=typeof self&&self,e.exports=(o=t(667294),i=t(86894),a=t(973935),s=t(211248),(()=>{var l={330:function(e,n,t){e.exports=function(){"use strict";function e(e,n){return e(n={exports:{}},n.exports),n.exports}"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self&&self;var n=e((function(e,n){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function n(e){return Array.isArray(e)?[]:{}}function t(t,r){return r&&!0===r.clone&&e(t)?i(n(t),t,r):t}function r(n,r,o){var a=n.slice();return r.forEach((function(r,s){void 0===a[s]?a[s]=t(r,o):e(r)?a[s]=i(n[s],r,o):-1===n.indexOf(r)&&a.push(t(r,o))})),a}function o(n,r,o){var a={};return e(n)&&Object.keys(n).forEach((function(e){a[e]=t(n[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&n[s]?a[s]=i(n[s],r[s],o):a[s]=t(r[s],o)})),a}function i(e,n,i){var a=Array.isArray(n),s=(i||{arrayMerge:r}).arrayMerge||r;return a?Array.isArray(e)?s(e,n,i):t(n,i):o(e,n,i)}return i.all=function(e,n){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,t){return i(e,t,n)}))},i}()})),r=e((function(e,n){n.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=n.default})),o=r.svg,i=r.xlink,a={};a[o.name]=o.uri,a[i.name]=i.uri;var s,l=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(n){return n+'="'+e[n].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(n(a,t||{}))+">"+e+"</svg>"},c=r.svg,u=r.xlink,d={attrs:(s={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},s[c.name]=c.uri,s[u.name]=u.uri,s)},A=function(e){this.config=n(d,e||{}),this.symbols=[]};A.prototype.add=function(e){var n=this.symbols,t=this.find(e.id);return t?(n[n.indexOf(t)]=e,!1):(n.push(e),!0)},A.prototype.remove=function(e){var n=this.symbols,t=this.find(e);return!!t&&(n.splice(n.indexOf(t),1),t.destroy(),!0)},A.prototype.find=function(e){return this.symbols.filter((function(n){return n.id===e}))[0]||null},A.prototype.has=function(e){return null!==this.find(e)},A.prototype.stringify=function(){var e=this.config.attrs,n=this.symbols.map((function(e){return e.stringify()})).join("");return l(n,e)},A.prototype.toString=function(){return this.stringify()},A.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var p=function(e){var n=e.id,t=e.viewBox,r=e.content;this.id=n,this.viewBox=t,this.content=r};p.prototype.stringify=function(){return this.content},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(n){return delete e[n]}))};var h=function(e){var n=!!document.importNode,t=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return n?document.importNode(t,!0):t},m=function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var t={isMounted:{}};return t.isMounted.get=function(){return!!this.node},n.createFromExistingNode=function(e){return new n({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},n.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},n.prototype.mount=function(e){if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,t=this.render();return this.node=t,n.appendChild(t),t},n.prototype.render=function(){var e=this.stringify();return h(l(e)).childNodes[0]},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(n.prototype,t),n}(p),f={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},g=function(e){return Array.prototype.slice.call(e,0)},C=function(){return/firefox/i.test(navigator.userAgent)},v=function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},E=function(){return/edge/i.test(navigator.userAgent)},_=function(e){return(e||window.location.href).split("#")[0]},b=function(e){angular.module("ng").run(["$rootScope",function(n){n.$on("$locationChangeSuccess",(function(n,t,r){var o,i,a;o=e,i={oldUrl:r,newUrl:t},(a=document.createEvent("CustomEvent")).initCustomEvent(o,!1,!1,i),window.dispatchEvent(a)}))}])},y=function(e,n){return void 0===n&&(n="linearGradient, radialGradient, pattern, mask, clipPath"),g(e.querySelectorAll("symbol")).forEach((function(e){g(e.querySelectorAll(n)).forEach((function(n){e.parentNode.insertBefore(n,e)}))})),e},B=r.xlink.uri,w="xlink:href",x=/[{}|\\\^\[\]`"<>]/g;function k(e){return e.replace(x,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}var D=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],S=D.map((function(e){return"["+e+"]"})).join(","),I=function(e,n,t,r){var o,i,a=k(t),s=k(r);(o=e.querySelectorAll(S),i=function(e){var n=e.localName,t=e.value;return-1!==D.indexOf(n)&&-1!==t.indexOf("url("+a)},g(o).reduce((function(e,n){if(!n.attributes)return e;var t=g(n.attributes),r=i?t.filter(i):t;return e.concat(r)}),[])).forEach((function(e){return e.value=e.value.replace(new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),s)})),function(e,n,t){g(e).forEach((function(e){var r=e.getAttribute(w);if(r&&0===r.indexOf(n)){var o=r.replace(n,t);e.setAttributeNS(B,w,o)}}))}(n,a,s)},F="mount",M="symbol_mount";return function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(f,t));var o,i=(o=o||Object.create(null),{on:function(e,n){(o[e]||(o[e]=[])).push(n)},off:function(e,n){o[e]&&o[e].splice(o[e].indexOf(n)>>>0,1)},emit:function(e,n){(o[e]||[]).map((function(e){e(n)})),(o["*"]||[]).map((function(t){t(e,n)}))}});this._emitter=i,this.node=null;var a=this.config;if(a.autoConfigure&&this._autoConfigure(t),a.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");i.on(F,(function(){return r.updateUrls("#",s)}))}var l=this._handleLocationChange.bind(this);this._handleLocationChange=l,a.listenLocationChangeEvent&&window.addEventListener(a.locationChangeEvent,l),a.locationChangeAngularEmitter&&b(a.locationChangeEvent),i.on(F,(function(e){a.moveGradientsOutsideSymbol&&y(e)})),i.on(M,(function(e){var n;a.moveGradientsOutsideSymbol&&y(e.parentNode),(v()||E())&&(n=[],g(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",n.push(e)})))}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var n=this.config;void 0===e.syncUrlsWithBaseTag&&(n.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(n.locationChangeAngularEmitter=void 0!==window.angular),void 0===e.moveGradientsOutsideSymbol&&(n.moveGradientsOutsideSymbol=C())},t.prototype._handleLocationChange=function(e){var n=e.detail,t=n.oldUrl,r=n.newUrl;this.updateUrls(t,r)},t.prototype.add=function(n){var t=e.prototype.add.call(this,n);return this.isMounted&&t&&(n.mount(this.node),this._emitter.emit(M,n.node)),t},t.prototype.attach=function(e){var n=this,t=this;if(t.isMounted)return t.node;var r="string"==typeof e?document.querySelector(e):e;return t.node=r,this.symbols.forEach((function(e){e.mount(t.node),n._emitter.emit(M,e.node)})),g(r.querySelectorAll("symbol")).forEach((function(e){var n=m.createFromExistingNode(e);n.node=e,t.add(n)})),this._emitter.emit(F,r),r},t.prototype.destroy=function(){var e=this,n=e.config,t=e.symbols,r=e._emitter;t.forEach((function(e){return e.destroy()})),r.off("*"),window.removeEventListener(n.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,n){void 0===e&&(e=this.config.mountTo),void 0===n&&(n=!1);var t=this;if(t.isMounted)return t.node;var r="string"==typeof e?document.querySelector(e):e,o=t.render();return this.node=o,n&&r.childNodes[0]?r.insertBefore(o,r.childNodes[0]):r.appendChild(o),this._emitter.emit(F,o),o},t.prototype.render=function(){return h(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,n){if(!this.isMounted)return!1;var t=document.querySelectorAll(this.config.usagesToUpdate);return I(this.node,t,_(e)+"#",_(n)+"#"),!0},Object.defineProperties(t.prototype,r),t}(A)}()},7499:function(e,n,t){e.exports=function(){"use strict";var e=function(e){var n=e.id,t=e.viewBox,r=e.content;this.id=n,this.viewBox=t,this.content=r};function n(e,n){return e(n={exports:{}},n.exports),n.exports}e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(n){return delete e[n]}))},"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self&&self;var r=n((function(e,n){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function n(e){return Array.isArray(e)?[]:{}}function t(t,r){return r&&!0===r.clone&&e(t)?i(n(t),t,r):t}function r(n,r,o){var a=n.slice();return r.forEach((function(r,s){void 0===a[s]?a[s]=t(r,o):e(r)?a[s]=i(n[s],r,o):-1===n.indexOf(r)&&a.push(t(r,o))})),a}function o(n,r,o){var a={};return e(n)&&Object.keys(n).forEach((function(e){a[e]=t(n[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&n[s]?a[s]=i(n[s],r[s],o):a[s]=t(r[s],o)})),a}function i(e,n,i){var a=Array.isArray(n),s=(i||{arrayMerge:r}).arrayMerge||r;return a?Array.isArray(e)?s(e,n,i):t(n,i):o(e,n,i)}return i.all=function(e,n){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,t){return i(e,t,n)}))},i}()})),o=n((function(e,n){n.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=n.default})),i=o.svg,a=o.xlink,s={};s[i.name]=i.uri,s[a.name]=a.uri;var l=function(e,n){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(n){return n+'="'+e[n].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(r(s,n||{}))+">"+e+"</svg>"};return function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var t={isMounted:{}};return t.isMounted.get=function(){return!!this.node},n.createFromExistingNode=function(e){return new n({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},n.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},n.prototype.mount=function(e){if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,t=this.render();return this.node=t,n.appendChild(t),t},n.prototype.render=function(){var e=this.stringify();return function(e){var n=!!document.importNode,t=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return n?document.importNode(t,!0):t}(l(e)).childNodes[0]},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(n.prototype,t),n}(e)}()},2197:(e,n,t)=>{"use strict";var r=t(176),o=t(494),i=t(8278),a=t(1386),s=t(502),l=t(8717);e.exports=function(e){var n,t=l(this),c=s(i(t,"length"));if(!a(e))throw new TypeError("mapperFunction must be a function");arguments.length>1&&(n=arguments[1]);var u=r(t,0);return o(u,t,c,0,1,e,n),u}},1954:(e,n,t)=>{"use strict";var r=t(3161),o=t(4203),i=t(2197),a=t(7925),s=a(),l=t(9158),c=o(s);r(c,{getPolyfill:a,implementation:i,shim:l}),e.exports=c},7925:(e,n,t)=>{"use strict";var r=t(2197);e.exports=function(){return Array.prototype.flatMap||r}},9158:(e,n,t)=>{"use strict";var r=t(3161),o=t(7925);e.exports=function(){var e=o();return r(Array.prototype,{flatMap:e},{flatMap:function(){return Array.prototype.flatMap!==e}}),e}},533:(e,n,t)=>{"use strict";var r=t(3926),o=t(4203),i=o(r("String.prototype.indexOf"));e.exports=function(e,n){var t=r(e,!!n);return"function"==typeof t&&i(e,".prototype.")>-1?o(t):t}},4203:(e,n,t)=>{"use strict";var r=t(22),o=t(3926),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),l=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var n=s(r,a,arguments);return l&&c&&l(n,"length").configurable&&c(n,"length",{value:1+u(0,e.length-(arguments.length-1))}),n};var d=function(){return s(r,i,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},1374:e=>{var n=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=n},2321:t=>{!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var r=typeof t;if("string"===r||"number"===r)e.push(t);else if(Array.isArray(t)){if(t.length){var a=i.apply(null,t);a&&e.push(a)}}else if("object"===r)if(t.toString===Object.prototype.toString)for(var s in t)o.call(t,s)&&t[s]&&e.push(s);else e.push(t.toString())}}return e.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(n,[]))||(e.exports=r)}()},4518:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),n.push(u))}},n}},6863:e=>{"use strict";e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}},6256:e=>{"use strict";var n="%[a-f0-9]{2}",t=new RegExp(n,"gi"),r=new RegExp("("+n+")+","gi");function o(e,n){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;n=n||1;var t=e.slice(0,n),r=e.slice(n);return Array.prototype.concat.call([],o(t),o(r))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var n=e.match(t),r=1;r<n.length;r++)n=(e=o(n,r).join("")).match(t);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(n){return function(e){for(var n={"%FE%FF":"��","%FF%FE":"��"},t=r.exec(e);t;){try{n[t[0]]=decodeURIComponent(t[0])}catch(e){var o=i(t[0]);o!==t[0]&&(n[t[0]]=o)}t=r.exec(e)}n["%C2"]="�";for(var a=Object.keys(n),s=0;s<a.length;s++){var l=a[s];e=e.replace(new RegExp(l,"g"),n[l])}return e}(e)}}},3161:(e,n,t)=>{"use strict";var r=t(586),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var e={};try{for(var n in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,n,t,r){var o;(!(n in e)||"function"==typeof(o=r)&&"[object Function]"===i.call(o)&&r())&&(l?s(e,n,{configurable:!0,enumerable:!1,value:t,writable:!0}):e[n]=t)},u=function(e,n){var t=arguments.length>2?arguments[2]:{},i=r(n);o&&(i=a.call(i,Object.getOwnPropertySymbols(n)));for(var s=0;s<i.length;s+=1)c(e,i[s],n[i[s]],t[i[s]])};u.supportsDescriptors=!!l,e.exports=u},1938:e=>{"use strict";e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]/g}},2957:(e,n,t)=>{"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=t(8973),i=t(2231),a=t(4898),s=t(9185),l=function(e,n){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof n||"number"!==n&&"string"!==n)throw new TypeError('hint must be "string" or "number"');var t,r,a,s="string"===n?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(t=e[s[a]],i(t)&&(r=t.call(e),o(r)))return r;throw new TypeError("No default value")},c=function(e,n){var t=e[n];if(null!=t){if(!i(t))throw new TypeError(t+" returned for property "+n+" of object "+e+" is not a function");return t}};e.exports=function(e){if(o(e))return e;var n,t="default";if(arguments.length>1&&(arguments[1]===String?t="string":arguments[1]===Number&&(t="number")),r&&(Symbol.toPrimitive?n=c(e,Symbol.toPrimitive):s(e)&&(n=Symbol.prototype.valueOf)),void 0!==n){var i=n.call(e,t);if(o(i))return i;throw new TypeError("unable to convert exotic object to primitive")}return"default"===t&&(a(e)||s(e))&&(t="string"),l(e,"default"===t?"number":t)}},1898:(e,n,t)=>{"use strict";var r=Object.prototype.toString,o=t(8973),i=t(2231),a=function(e){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===r.call(e)?String:Number)===String||n===Number){var t,a,s=n===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(i(e[s[a]])&&(t=e[s[a]](),o(t)))return t;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};e.exports=function(e){return o(e)?e:arguments.length>1?a(e,arguments[1]):a(e)}},8973:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},1646:e=>{"use strict";function n(e,n){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var l=i[a],c=Object.getOwnPropertyDescriptor(o,l);void 0!==c&&c.enumerable&&(t[l]=o[l])}}return t}e.exports={assign:n,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}}},980:e=>{"use strict";e.exports=function(e,n){for(var t={},r=Object.keys(e),o=Array.isArray(n),i=0;i<r.length;i++){var a=r[i],s=e[a];(o?-1!==n.indexOf(a):n(a,s,e))&&(t[a]=s)}return t}},9626:e=>{"use strict";var n="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(n+i);for(var a,s=t.call(arguments,1),l=function(){if(this instanceof a){var n=i.apply(this,s.concat(t.call(arguments)));return Object(n)===n?n:this}return i.apply(e,s.concat(t.call(arguments)))},c=Math.max(0,i.length-s.length),u=[],d=0;d<c;d++)u.push("$"+d);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),i.prototype){var A=function(){};A.prototype=i.prototype,a.prototype=new A,A.prototype=null}return a}},22:(e,n,t)=>{"use strict";var r=t(9626);e.exports=Function.prototype.bind||r},3926:(e,n,t)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=t(2849)(),A=Object.getPrototypeOf||function(e){return e.__proto__},p={},h="undefined"==typeof Uint8Array?r:A(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?A([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?A(A([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?A((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?A((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?A(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},f=function e(n){var t;if("%AsyncFunction%"===n)t=s("async function () {}");else if("%GeneratorFunction%"===n)t=s("function* () {}");else if("%AsyncGeneratorFunction%"===n)t=s("async function* () {}");else if("%AsyncGenerator%"===n){var r=e("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if("%AsyncIteratorPrototype%"===n){var o=e("%AsyncGenerator%");o&&(t=A(o.prototype))}return m[n]=t,t},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=t(22),v=t(8315),E=C.call(Function.call,Array.prototype.concat),_=C.call(Function.apply,Array.prototype.splice),b=C.call(Function.call,String.prototype.replace),y=C.call(Function.call,String.prototype.slice),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,w=/\\(\\)?/g,x=function(e){var n=y(e,0,1),t=y(e,-1);if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return b(e,B,(function(e,n,t,o){r[r.length]=t?b(o,w,"$1"):n||e})),r},k=function(e,n){var t,r=e;if(v(g,r)&&(r="%"+(t=g[r])[0]+"%"),v(m,r)){var i=m[r];if(i===p&&(i=f(r)),void 0===i&&!n)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:t,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,n){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof n)throw new a('"allowMissing" argument must be a boolean');var t=x(e),r=t.length>0?t[0]:"",i=k("%"+r+"%",n),s=i.name,c=i.value,u=!1,d=i.alias;d&&(r=d[0],_(t,E([0,1],d)));for(var A=1,p=!0;A<t.length;A+=1){var h=t[A],f=y(h,0,1),g=y(h,-1);if(('"'===f||"'"===f||"`"===f||'"'===g||"'"===g||"`"===g)&&f!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&p||(u=!0),v(m,s="%"+(r+="."+h)+"%"))c=m[s];else if(null!=c){if(!(h in c)){if(!n)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&A+1>=t.length){var C=l(c,h);c=(p=!!C)&&"get"in C&&!("originalValue"in C.get)?C.get:c[h]}else p=v(c,h),c=c[h];p&&!u&&(m[s]=c)}}return c}},2849:(e,n,t)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=t(2558);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},2558:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},n=Symbol("test"),t=Object(n);if("string"==typeof n)return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;for(n in e[n]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==n)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,n);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},8315:(e,n,t)=>{"use strict";var r=t(22);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},2231:e=>{"use strict";var n,t,r=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw t}}),t={},o((function(){throw 42}),null,n)}catch(e){e!==t&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(e){try{var n=r.call(e);return i.test(n)}catch(e){return!1}},s=Object.prototype.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,c="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};e.exports=o?function(e){if(e===c)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{o(e,null,n)}catch(e){if(e!==t)return!1}return!a(e)}:function(e){if(e===c)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(l)return function(e){try{return!a(e)&&(r.call(e),!0)}catch(e){return!1}}(e);if(a(e))return!1;var n=s.call(e);return"[object Function]"===n||"[object GeneratorFunction]"===n}},4898:e=>{"use strict";var n=Date.prototype.getDay,t=Object.prototype.toString,r="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(r?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===t.call(e))}},879:(e,n,t)=>{"use strict";var r,o,i,a,s=t(533),l=t(2558)()&&!!Symbol.toStringTag;if(l){r=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var c=function(){throw i};a={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var u=s("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=l?function(e){if(!e||"object"!=typeof e)return!1;var n=d(e,"lastIndex");if(!n||!r(n,"value"))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===u(e)}},9185:(e,n,t)=>{"use strict";var r=Object.prototype.toString;if(t(2849)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},7915:(e,n,t)=>{var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,u=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,A="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,f=Function.prototype.toString,g=String.prototype.match,C="function"==typeof BigInt?BigInt.prototype.valueOf:null,v=Object.getOwnPropertySymbols,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,_="function"==typeof Symbol&&"object"==typeof Symbol.iterator,b=Object.prototype.propertyIsEnumerable,y=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),B=t(4654).custom,w=B&&I(B)?B:null,x="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function k(e,n,t){var r="double"===(t.quoteStyle||n)?'"':"'";return r+e+r}function D(e){return String(e).replace(/"/g,"&quot;")}function S(e){return!("[object Array]"!==T(e)||x&&"object"==typeof e&&x in e)}function I(e){if(_)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!E)return!1;try{return E.call(e),!0}catch(e){}return!1}e.exports=function e(n,t,r,o){var s=t||{};if(M(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(M(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!M(s,"customInspect")||s.customInspect;if("boolean"!=typeof l)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(M(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return O(n,s);if("number"==typeof n)return 0===n?1/0/n>0?"0":"-0":String(n);if("bigint"==typeof n)return String(n)+"n";var m=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=m&&m>0&&"object"==typeof n)return S(n)?"[Array]":"[Object]";var v,b=function(e,n){var t;if("\t"===e.indent)t="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;t=Array(e.indent+1).join(" ")}return{base:t,prev:Array(n+1).join(t)}}(s,r);if(void 0===o)o=[];else if(P(o,n)>=0)return"[Circular]";function B(n,t,i){if(t&&(o=o.slice()).push(t),i){var a={depth:s.depth};return M(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(n,a,r+1,o)}return e(n,s,r+1,o)}if("function"==typeof n){var F=function(e){if(e.name)return e.name;var n=g.call(f.call(e),/^function\s*([\w$]+)/);return n?n[1]:null}(n),z=U(n,B);return"[Function"+(F?": "+F:" (anonymous)")+"]"+(z.length>0?" { "+z.join(", ")+" }":"")}if(I(n)){var W=_?String(n).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):E.call(n);return"object"!=typeof n||_?W:N(W)}if((v=n)&&"object"==typeof v&&("undefined"!=typeof HTMLElement&&v instanceof HTMLElement||"string"==typeof v.nodeName&&"function"==typeof v.getAttribute)){for(var H="<"+String(n.nodeName).toLowerCase(),q=n.attributes||[],Z=0;Z<q.length;Z++)H+=" "+q[Z].name+"="+k(D(q[Z].value),"double",s);return H+=">",n.childNodes&&n.childNodes.length&&(H+="..."),H+"</"+String(n.nodeName).toLowerCase()+">"}if(S(n)){if(0===n.length)return"[]";var V=U(n,B);return b&&!function(e){for(var n=0;n<e.length;n++)if(P(e[n],"\n")>=0)return!1;return!0}(V)?"["+R(V,b)+"]":"[ "+V.join(", ")+" ]"}if(function(e){return!("[object Error]"!==T(e)||x&&"object"==typeof e&&x in e)}(n)){var Y=U(n,B);return 0===Y.length?"["+String(n)+"]":"{ ["+String(n)+"] "+Y.join(", ")+" }"}if("object"==typeof n&&l){if(w&&"function"==typeof n[w])return n[w]();if("function"==typeof n.inspect)return n.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(n)){var G=[];return a.call(n,(function(e,t){G.push(B(t,n,!0)+" => "+B(e,n))})),L("Map",i.call(n),G,b)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(n)){var $=[];return u.call(n,(function(e){$.push(B(e,n))})),L("Set",c.call(n),$,b)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{A.call(e,A)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(n))return j("WeakMap");if(function(e){if(!A||!e||"object"!=typeof e)return!1;try{A.call(e,A);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(n))return j("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(n))return j("WeakRef");if(function(e){return!("[object Number]"!==T(e)||x&&"object"==typeof e&&x in e)}(n))return N(B(Number(n)));if(function(e){if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}(n))return N(B(C.call(n)));if(function(e){return!("[object Boolean]"!==T(e)||x&&"object"==typeof e&&x in e)}(n))return N(h.call(n));if(function(e){return!("[object String]"!==T(e)||x&&"object"==typeof e&&x in e)}(n))return N(B(String(n)));if(!function(e){return!("[object Date]"!==T(e)||x&&"object"==typeof e&&x in e)}(n)&&!function(e){return!("[object RegExp]"!==T(e)||x&&"object"==typeof e&&x in e)}(n)){var X=U(n,B),K=y?y(n)===Object.prototype:n instanceof Object||n.constructor===Object,Q=n instanceof Object?"":"null prototype",J=!K&&x&&Object(n)===n&&x in n?T(n).slice(8,-1):Q?"Object":"",ee=(K||"function"!=typeof n.constructor?"":n.constructor.name?n.constructor.name+" ":"")+(J||Q?"["+[].concat(J||[],Q||[]).join(": ")+"] ":"");return 0===X.length?ee+"{}":b?ee+"{"+R(X,b)+"}":ee+"{ "+X.join(", ")+" }"}return String(n)};var F=Object.prototype.hasOwnProperty||function(e){return e in this};function M(e,n){return F.call(e,n)}function T(e){return m.call(e)}function P(e,n){if(e.indexOf)return e.indexOf(n);for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1}function O(e,n){if(e.length>n.maxStringLength){var t=e.length-n.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return O(e.slice(0,n.maxStringLength),n)+r}return k(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,z),"single",n)}function z(e){var n=e.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return t?"\\"+t:"\\x"+(n<16?"0":"")+n.toString(16).toUpperCase()}function N(e){return"Object("+e+")"}function j(e){return e+" { ? }"}function L(e,n,t,r){return e+" ("+n+") {"+(r?R(t,r):t.join(", "))+"}"}function R(e,n){if(0===e.length)return"";var t="\n"+n.prev+n.base;return t+e.join(","+t)+"\n"+n.prev}function U(e,n){var t=S(e),r=[];if(t){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=M(e,o)?n(e[o],e):""}var i,a="function"==typeof v?v(e):[];if(_){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var l in e)M(e,l)&&(t&&String(Number(l))===l&&l<e.length||_&&i["$"+l]instanceof Symbol||(/[^\w$]/.test(l)?r.push(n(l,e)+": "+n(e[l],e)):r.push(l+": "+n(e[l],e))));if("function"==typeof v)for(var c=0;c<a.length;c++)b.call(e,a[c])&&r.push("["+n(a[c])+"]: "+n(e[a[c]],e));return r}},4420:(e,n,t)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=t(1115),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var n=e.constructor;return n&&n.prototype===e},A={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!A["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var n=null!==e&&"object"==typeof e,t="[object Function]"===i.call(e),r=a(e),s=n&&"[object String]"===i.call(e),A=[];if(!n&&!t&&!r)throw new TypeError("Object.keys called on a non-object");var h=c&&t;if(s&&e.length>0&&!o.call(e,0))for(var m=0;m<e.length;++m)A.push(String(m));if(r&&e.length>0)for(var f=0;f<e.length;++f)A.push(String(f));else for(var g in e)h&&"prototype"===g||!o.call(e,g)||A.push(String(g));if(l)for(var C=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}}(e),v=0;v<u.length;++v)C&&"constructor"===u[v]||!o.call(e,u[v])||A.push(u[v]);return A}}e.exports=r},586:(e,n,t)=>{"use strict";var r=Array.prototype.slice,o=t(1115),i=Object.keys,a=i?function(e){return i(e)}:t(4420),s=Object.keys;a.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)}):Object.keys=a,Object.keys||a},e.exports=a},1115:e=>{"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},6883:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function r(e){if(!(this instanceof r))return new r(e);this._=e}var o=r.prototype;function i(e,n){for(var t=0;t<e;t++)n(t)}function a(e,n,t){return function(e,n){i(n.length,(function(t){e(n[t],t,n)}))}((function(t,r,o){n=e(n,t,r,o)}),t),n}function s(e,n){return a((function(n,t,r,o){return n.concat([e(t,r,o)])}),[],n)}function l(e,n){var t={v:0,buf:n};return i(e,(function(){var e;t={v:t.v<<1|(e=t.buf,e[0]>>7),buf:function(e){var n=a((function(e,n,t,r){return e.concat(t===r.length-1?Buffer.from([n,0]).readUInt16BE(0):r.readUInt16BE(t))}),[],e);return Buffer.from(s((function(e){return(e<<1&65535)>>8}),n))}(t.buf)}})),t}function c(){return"undefined"!=typeof Buffer}function u(){if(!c())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function d(e){u();var n=a((function(e,n){return e+n}),0,e);if(n%8!=0)throw new Error("The bits ["+e.join(", ")+"] add up to "+n+" which is not an even number of bytes; the total should be divisible by 8");var t,o=n/8,i=(t=function(e){return e>48},a((function(e,n){return e||(t(n)?n:e)}),null,e));if(i)throw new Error(i+" bit range requested exceeds 48 bit (6 byte) Number max.");return new r((function(n,t){var r=o+t;return r>n.length?b(t,o.toString()+" bytes"):_(r,a((function(e,n){var t=l(n,e.buf);return{coll:e.coll.concat(t.v),buf:t.buf}}),{coll:[],buf:n.slice(t,r)},e).coll)}))}function A(e,n){return new r((function(t,r){return u(),r+n>t.length?b(r,n+" bytes for "+e):_(r+n,t.slice(r,r+n))}))}function p(e,n){if("number"!=typeof(t=n)||Math.floor(t)!==t||n<0||n>6)throw new Error(e+" requires integer length in range [0, 6].");var t}function h(e){return p("uintBE",e),A("uintBE("+e+")",e).map((function(n){return n.readUIntBE(0,e)}))}function m(e){return p("uintLE",e),A("uintLE("+e+")",e).map((function(n){return n.readUIntLE(0,e)}))}function f(e){return p("intBE",e),A("intBE("+e+")",e).map((function(n){return n.readIntBE(0,e)}))}function g(e){return p("intLE",e),A("intLE("+e+")",e).map((function(n){return n.readIntLE(0,e)}))}function C(e){return e instanceof r}function v(e){return"[object Array]"==={}.toString.call(e)}function E(e){return c()&&Buffer.isBuffer(e)}function _(e,n){return{status:!0,index:e,value:n,furthest:-1,expected:[]}}function b(e,n){return v(n)||(n=[n]),{status:!1,index:-1,value:null,furthest:e,expected:n}}function y(e,n){if(!n)return e;if(e.furthest>n.furthest)return e;var t=e.furthest===n.furthest?function(e,n){if(function(){if(void 0!==r._supportsSet)return r._supportsSet;var e="undefined"!=typeof Set;return r._supportsSet=e,e}()&&Array.from){for(var t=new Set(e),o=0;o<n.length;o++)t.add(n[o]);var i=Array.from(t);return i.sort(),i}for(var a={},s=0;s<e.length;s++)a[e[s]]=!0;for(var l=0;l<n.length;l++)a[n[l]]=!0;var c=[];for(var u in a)({}).hasOwnProperty.call(a,u)&&c.push(u);return c.sort(),c}(e.expected,n.expected):n.expected;return{status:e.status,index:e.index,value:e.value,furthest:n.furthest,expected:t}}var B={};function w(e,n){if(E(e))return{offset:n,line:-1,column:-1};e in B||(B[e]={});for(var t=B[e],r=0,o=0,i=0,a=n;a>=0;){if(a in t){r=t[a].line,0===i&&(i=t[a].lineStart);break}("\n"===e.charAt(a)||"\r"===e.charAt(a)&&"\n"!==e.charAt(a+1))&&(o++,0===i&&(i=a+1)),a--}var s=r+o,l=n-i;return t[n]={line:s,lineStart:i},{offset:n,line:s+1,column:l+1}}function x(e){if(!C(e))throw new Error("not a parser: "+e)}function k(e,n){return"string"==typeof e?e.charAt(n):e[n]}function D(e){if("number"!=typeof e)throw new Error("not a number: "+e)}function S(e){if("function"!=typeof e)throw new Error("not a function: "+e)}function I(e){if("string"!=typeof e)throw new Error("not a string: "+e)}function F(e,n){return new Array(n+1).join(e)}function M(e,n,t){var r=n-e.length;return r<=0?e:F(t,r)+e}function T(e,n,t,r){return{from:e-n>0?e-n:0,to:e+t>r?r:e+t}}function P(e,n){var t,r,o,i,l,c=n.index,u=c.offset,d=1;if(u===e.length)return"Got the end of the input";if(E(e)){var A=u-u%8,p=u-A,h=T(A,40,40,e.length),m=s((function(e){return s((function(e){return M(e.toString(16),2,"0")}),e)}),function(e,n){var t=e.length,r=[],o=0;if(t<=8)return[e.slice()];for(var i=0;i<t;i++)r[o]||r.push([]),r[o].push(e[i]),(i+1)%8==0&&o++;return r}(e.slice(h.from,h.to).toJSON().data));i=function(e){return 0===e.from&&1===e.to?{from:e.from,to:e.to}:{from:e.from/8,to:Math.floor(e.to/8)}}(h),r=A/8,t=3*p,p>=4&&(t+=1),d=2,o=s((function(e){return e.length<=4?e.join(" "):e.slice(0,4).join(" ")+"  "+e.slice(4).join(" ")}),m),(l=(8*(i.to>0?i.to-1:i.to)).toString(16).length)<2&&(l=2)}else{var f=e.split(/\r\n|[\n\r\u2028\u2029]/);t=c.column-1,r=c.line-1,i=T(r,2,3,f.length),o=f.slice(i.from,i.to),l=i.to.toString().length}var g=r-i.from;return E(e)&&(l=(8*(i.to>0?i.to-1:i.to)).toString(16).length)<2&&(l=2),a((function(n,r,o){var a,s=o===g,c=s?"> ":"  ";return a=E(e)?M((8*(i.from+o)).toString(16),l,"0"):M((i.from+o+1).toString(),l," "),[].concat(n,[c+a+" | "+r],s?["  "+F(" ",l)+" | "+M("",t," ")+F("^",d)]:[])}),[],o).join("\n")}function O(e,n){return["\n","-- PARSING FAILED "+F("-",50),"\n\n",P(e,n),"\n\n",(t=n.expected,1===t.length?"Expected:\n\n"+t[0]:"Expected one of the following: \n\n"+t.join(", ")),"\n"].join("");var t}function z(e){return void 0!==e.flags?e.flags:[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.unicode?"u":"",e.sticky?"y":""].join("")}function N(){for(var e=[].slice.call(arguments),n=e.length,t=0;t<n;t+=1)x(e[t]);return r((function(t,r){for(var o,i=new Array(n),a=0;a<n;a+=1){if(!(o=y(e[a]._(t,r),o)).status)return o;i[a]=o.value,r=o.index}return y(_(r,i),o)}))}function j(){var e=[].slice.call(arguments);if(0===e.length)throw new Error("seqMap needs at least one argument");var n=e.pop();return S(n),N.apply(null,e).map((function(e){return n.apply(null,e)}))}function L(){var e=[].slice.call(arguments),n=e.length;if(0===n)return Z("zero alternates");for(var t=0;t<n;t+=1)x(e[t]);return r((function(n,t){for(var r,o=0;o<e.length;o+=1)if((r=y(e[o]._(n,t),r)).status)return r;return r}))}function R(e,n){return U(e,n).or(q([]))}function U(e,n){return x(e),x(n),j(e,n.then(e).many(),(function(e,n){return[e].concat(n)}))}function W(e){I(e);var n="'"+e+"'";return r((function(t,r){var o=r+e.length,i=t.slice(r,o);return i===e?_(o,i):b(r,n)}))}function H(e,n){!function(e){if(!(e instanceof RegExp))throw new Error("not a regexp: "+e);for(var n=z(e),t=0;t<n.length;t++){var r=n.charAt(t);if("i"!==r&&"m"!==r&&"u"!==r&&"s"!==r)throw new Error('unsupported regexp flag "'+r+'": '+e)}}(e),arguments.length>=2?D(n):n=0;var t=function(e){return RegExp("^(?:"+e.source+")",z(e))}(e),o=""+e;return r((function(e,r){var i=t.exec(e.slice(r));if(i){if(0<=n&&n<=i.length){var a=i[0],s=i[n];return _(r+a.length,s)}return b(r,"valid match group (0 to "+i.length+") in "+o)}return b(r,o)}))}function q(e){return r((function(n,t){return _(t,e)}))}function Z(e){return r((function(n,t){return b(t,e)}))}function V(e){if(C(e))return r((function(n,t){var r=e._(n,t);return r.index=t,r.value="",r}));if("string"==typeof e)return V(W(e));if(e instanceof RegExp)return V(H(e));throw new Error("not a string, regexp, or parser: "+e)}function Y(e){return x(e),r((function(n,t){var r=e._(n,t),o=n.slice(t,r.index);return r.status?b(t,'not "'+o+'"'):_(t,null)}))}function G(e){return S(e),r((function(n,t){var r=k(n,t);return t<n.length&&e(r)?_(t+1,r):b(t,"a character/byte matching "+e)}))}function $(e,n){arguments.length<2&&(n=e,e=void 0);var t=r((function(e,r){return t._=n()._,t._(e,r)}));return e?t.desc(e):t}function X(){return Z("fantasy-land/empty")}o.parse=function(e){if("string"!=typeof e&&!E(e))throw new Error(".parse must be called with a string or Buffer as its argument");var n,t=this.skip(ee)._(e,0);return n=t.status?{status:!0,value:t.value}:{status:!1,index:w(e,t.furthest),expected:t.expected},delete B[e],n},o.tryParse=function(e){var n=this.parse(e);if(n.status)return n.value;var t=O(e,n),r=new Error(t);throw r.type="ParsimmonError",r.result=n,r},o.assert=function(e,n){return this.chain((function(t){return e(t)?q(t):Z(n)}))},o.or=function(e){return L(this,e)},o.trim=function(e){return this.wrap(e,e)},o.wrap=function(e,n){return j(e,this,n,(function(e,n){return n}))},o.thru=function(e){return e(this)},o.then=function(e){return x(e),N(this,e).map((function(e){return e[1]}))},o.many=function(){var e=this;return r((function(n,t){for(var r=[],o=void 0;;){if(!(o=y(e._(n,t),o)).status)return y(_(t,r),o);if(t===o.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");t=o.index,r.push(o.value)}}))},o.tieWith=function(e){return I(e),this.map((function(n){if(function(e){if(!v(e))throw new Error("not an array: "+e)}(n),n.length){I(n[0]);for(var t=n[0],r=1;r<n.length;r++)I(n[r]),t+=e+n[r];return t}return""}))},o.tie=function(){return this.tieWith("")},o.times=function(e,n){var t=this;return arguments.length<2&&(n=e),D(e),D(n),r((function(r,o){for(var i=[],a=void 0,s=void 0,l=0;l<e;l+=1){if(s=y(a=t._(r,o),s),!a.status)return s;o=a.index,i.push(a.value)}for(;l<n&&(s=y(a=t._(r,o),s),a.status);l+=1)o=a.index,i.push(a.value);return y(_(o,i),s)}))},o.result=function(e){return this.map((function(){return e}))},o.atMost=function(e){return this.times(0,e)},o.atLeast=function(e){return j(this.times(e),this.many(),(function(e,n){return e.concat(n)}))},o.map=function(e){S(e);var n=this;return r((function(t,r){var o=n._(t,r);return o.status?y(_(o.index,e(o.value)),o):o}))},o.contramap=function(e){S(e);var n=this;return r((function(t,r){var o=n.parse(e(t.slice(r)));return o.status?_(r+t.length,o.value):o}))},o.promap=function(e,n){return S(e),S(n),this.contramap(e).map(n)},o.skip=function(e){return N(this,e).map((function(e){return e[0]}))},o.mark=function(){return j(K,this,K,(function(e,n,t){return{start:e,value:n,end:t}}))},o.node=function(e){return j(K,this,K,(function(n,t,r){return{name:e,value:t,start:n,end:r}}))},o.sepBy=function(e){return R(this,e)},o.sepBy1=function(e){return U(this,e)},o.lookahead=function(e){return this.skip(V(e))},o.notFollowedBy=function(e){return this.skip(Y(e))},o.desc=function(e){v(e)||(e=[e]);var n=this;return r((function(t,r){var o=n._(t,r);return o.status||(o.expected=e),o}))},o.fallback=function(e){return this.or(q(e))},o.ap=function(e){return j(e,this,(function(e,n){return e(n)}))},o.chain=function(e){var n=this;return r((function(t,r){var o=n._(t,r);return o.status?y(e(o.value)._(t,o.index),o):o}))},o.concat=o.or,o.empty=X,o.of=q,o["fantasy-land/ap"]=o.ap,o["fantasy-land/chain"]=o.chain,o["fantasy-land/concat"]=o.concat,o["fantasy-land/empty"]=o.empty,o["fantasy-land/of"]=o.of,o["fantasy-land/map"]=o.map;var K=r((function(e,n){return _(n,w(e,n))})),Q=r((function(e,n){return n>=e.length?b(n,"any character/byte"):_(n+1,k(e,n))})),J=r((function(e,n){return _(e.length,e.slice(n))})),ee=r((function(e,n){return n<e.length?b(n,"EOF"):_(n,null)})),ne=H(/[0-9]/).desc("a digit"),te=H(/[0-9]*/).desc("optional digits"),re=H(/[a-z]/i).desc("a letter"),oe=H(/[a-z]*/i).desc("optional letters"),ie=H(/\s*/).desc("optional whitespace"),ae=H(/\s+/).desc("whitespace"),se=W("\r"),le=W("\n"),ce=W("\r\n"),ue=L(ce,le,se).desc("newline"),de=L(ue,ee);r.all=J,r.alt=L,r.any=Q,r.cr=se,r.createLanguage=function(e){var n={};for(var t in e)({}).hasOwnProperty.call(e,t)&&function(t){n[t]=$((function(){return e[t](n)}))}(t);return n},r.crlf=ce,r.custom=function(e){return r(e(_,b))},r.digit=ne,r.digits=te,r.empty=X,r.end=de,r.eof=ee,r.fail=Z,r.formatError=O,r.index=K,r.isParser=C,r.lazy=$,r.letter=re,r.letters=oe,r.lf=le,r.lookahead=V,r.makeFailure=b,r.makeSuccess=_,r.newline=ue,r.noneOf=function(e){return G((function(n){return e.indexOf(n)<0})).desc("none of '"+e+"'")},r.notFollowedBy=Y,r.of=q,r.oneOf=function(e){for(var n=e.split(""),t=0;t<n.length;t++)n[t]="'"+n[t]+"'";return G((function(n){return e.indexOf(n)>=0})).desc(n)},r.optWhitespace=ie,r.Parser=r,r.range=function(e,n){return G((function(t){return e<=t&&t<=n})).desc(e+"-"+n)},r.regex=H,r.regexp=H,r.sepBy=R,r.sepBy1=U,r.seq=N,r.seqMap=j,r.seqObj=function(){for(var e,n={},t=0,o=(e=arguments,Array.prototype.slice.call(e)),i=o.length,a=0;a<i;a+=1){var s=o[a];if(!C(s)){if(v(s)&&2===s.length&&"string"==typeof s[0]&&C(s[1])){var l=s[0];if(Object.prototype.hasOwnProperty.call(n,l))throw new Error("seqObj: duplicate key "+l);n[l]=!0,t++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(0===t)throw new Error("seqObj expects at least one named parser, found zero");return r((function(e,n){for(var t,r={},a=0;a<i;a+=1){var s,l;if(v(o[a])?(s=o[a][0],l=o[a][1]):(s=null,l=o[a]),!(t=y(l._(e,n),t)).status)return t;s&&(r[s]=t.value),n=t.index}return y(_(n,r),t)}))},r.string=W,r.succeed=q,r.takeWhile=function(e){return S(e),r((function(n,t){for(var r=t;r<n.length&&e(k(n,r));)r++;return _(r,n.slice(t,r))}))},r.test=G,r.whitespace=ae,r["fantasy-land/empty"]=X,r["fantasy-land/of"]=q,r.Binary={bitSeq:d,bitSeqObj:function(e){u();var n={},t=0,r=s((function(e){if(v(e)){var r=e;if(2!==r.length)throw new Error("["+r.join(", ")+"] should be length 2, got length "+r.length);if(I(r[0]),D(r[1]),Object.prototype.hasOwnProperty.call(n,r[0]))throw new Error("duplicate key in bitSeqObj: "+r[0]);return n[r[0]]=!0,t++,r}return D(e),[null,e]}),e);if(t<1)throw new Error("bitSeqObj expects at least one named pair, got ["+e.join(", ")+"]");var o=s((function(e){return e[0]}),r);return d(s((function(e){return e[1]}),r)).map((function(e){return a((function(e,n){return null!==n[0]&&(e[n[0]]=n[1]),e}),{},s((function(n,t){return[n,e[t]]}),o))}))},byte:function(e){if(u(),D(e),e>255)throw new Error("Value specified to byte constructor ("+e+"=0x"+e.toString(16)+") is larger in value than a single byte.");var n=(e>15?"0x":"0x0")+e.toString(16);return r((function(t,r){var o=k(t,r);return o===e?_(r+1,o):b(r,n)}))},buffer:function(e){return A("buffer",e).map((function(e){return Buffer.from(e)}))},encodedString:function(e,n){return A("string",n).map((function(n){return n.toString(e)}))},uintBE:h,uint8BE:h(1),uint16BE:h(2),uint32BE:h(4),uintLE:m,uint8LE:m(1),uint16LE:m(2),uint32LE:m(4),intBE:f,int8BE:f(1),int16BE:f(2),int32BE:f(4),intLE:g,int8LE:g(1),int16LE:g(2),int32LE:g(4),floatBE:A("floatBE",4).map((function(e){return e.readFloatBE(0)})),floatLE:A("floatLE",4).map((function(e){return e.readFloatLE(0)})),doubleBE:A("doubleBE",8).map((function(e){return e.readDoubleBE(0)})),doubleLE:A("doubleLE",8).map((function(e){return e.readDoubleLE(0)}))},e.exports=r}])},2522:(e,n,t)=>{"use strict";var r=t(5245);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,n,t,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function n(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:i,resetWarningCache:o};return t.PropTypes=t,t}},6723:(e,n,t)=>{e.exports=t(2522)()},5245:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4790:(e,n,t)=>{"use strict";const r=t(5821),o=t(6256),i=t(9426),a=t(980),s=Symbol("encodeFragmentIdentifier");function l(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,n){return n.encode?n.strict?r(e):encodeURIComponent(e):e}function u(e,n){return n.decode?o(e):e}function d(e){return Array.isArray(e)?e.sort():"object"==typeof e?d(Object.keys(e)).sort(((e,n)=>Number(e)-Number(n))).map((n=>e[n])):e}function A(e){const n=e.indexOf("#");return-1!==n&&(e=e.slice(0,n)),e}function p(e){const n=(e=A(e)).indexOf("?");return-1===n?"":e.slice(n+1)}function h(e,n){return n.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!n.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,n){l((n=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},n)).arrayFormatSeparator);const t=function(e){let n;switch(e.arrayFormat){case"index":return(e,t,r)=>{n=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),n?(void 0===r[e]&&(r[e]={}),r[e][n[1]]=t):r[e]=t};case"bracket":return(e,t,r)=>{n=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),n?void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=[t]:r[e]=t};case"comma":case"separator":return(n,t,r)=>{const o="string"==typeof t&&t.includes(e.arrayFormatSeparator),i="string"==typeof t&&!o&&u(t,e).includes(e.arrayFormatSeparator);t=i?u(t,e):t;const a=o||i?t.split(e.arrayFormatSeparator).map((n=>u(n,e))):null===t?t:u(t,e);r[n]=a};case"bracket-separator":return(n,t,r)=>{const o=/(\[\])$/.test(n);if(n=n.replace(/\[\]$/,""),!o)return void(r[n]=t?u(t,e):t);const i=null===t?[]:t.split(e.arrayFormatSeparator).map((n=>u(n,e)));void 0!==r[n]?r[n]=[].concat(r[n],i):r[n]=i};default:return(e,n,t)=>{void 0!==t[e]?t[e]=[].concat(t[e],n):t[e]=n}}}(n),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const o of e.split("&")){if(""===o)continue;let[e,a]=i(n.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(n.arrayFormat)?a:u(a,n),t(u(e,n),a,r)}for(const e of Object.keys(r)){const t=r[e];if("object"==typeof t&&null!==t)for(const e of Object.keys(t))t[e]=h(t[e],n);else r[e]=h(t,n)}return!1===n.sort?r:(!0===n.sort?Object.keys(r).sort():Object.keys(r).sort(n.sort)).reduce(((e,n)=>{const t=r[n];return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)?e[n]=d(t):e[n]=t,e}),Object.create(null))}n.extract=p,n.parse=m,n.stringify=(e,n)=>{if(!e)return"";l((n=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},n)).arrayFormatSeparator);const t=t=>n.skipNull&&null==e[t]||n.skipEmptyString&&""===e[t],r=function(e){switch(e.arrayFormat){case"index":return n=>(t,r)=>{const o=t.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?t:null===r?[...t,[c(n,e),"[",o,"]"].join("")]:[...t,[c(n,e),"[",c(o,e),"]=",c(r,e)].join("")]};case"bracket":return n=>(t,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?t:null===r?[...t,[c(n,e),"[]"].join("")]:[...t,[c(n,e),"[]=",c(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const n="bracket-separator"===e.arrayFormat?"[]=":"=";return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[c(t,e),n,c(o,e)].join("")]:[[r,c(o,e)].join(e.arrayFormatSeparator)])}default:return n=>(t,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?t:null===r?[...t,c(n,e)]:[...t,[c(n,e),"=",c(r,e)].join("")]}}(n),o={};for(const n of Object.keys(e))t(n)||(o[n]=e[n]);const i=Object.keys(o);return!1!==n.sort&&i.sort(n.sort),i.map((t=>{const o=e[t];return void 0===o?"":null===o?c(t,n):Array.isArray(o)?0===o.length&&"bracket-separator"===n.arrayFormat?c(t,n)+"[]":o.reduce(r(t),[]).join("&"):c(t,n)+"="+c(o,n)})).filter((e=>e.length>0)).join("&")},n.parseUrl=(e,n)=>{n=Object.assign({decode:!0},n);const[t,r]=i(e,"#");return Object.assign({url:t.split("?")[0]||"",query:m(p(e),n)},n&&n.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,n)}:{})},n.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[s]:!0},t);const r=A(e.url).split("?")[0]||"",o=n.extract(e.url),i=n.parse(o,{sort:!1}),a=Object.assign(i,e.query);let l=n.stringify(a,t);l&&(l=`?${l}`);let u=function(e){let n="";const t=e.indexOf("#");return-1!==t&&(n=e.slice(t)),n}(e.url);return e.fragmentIdentifier&&(u=`#${t[s]?c(e.fragmentIdentifier,t):e.fragmentIdentifier}`),`${r}${l}${u}`},n.pick=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[s]:!1},r);const{url:o,query:i,fragmentIdentifier:l}=n.parseUrl(e,r);return n.stringifyUrl({url:o,query:a(i,t),fragmentIdentifier:l},r)},n.exclude=(e,t,r)=>{const o=Array.isArray(t)?e=>!t.includes(e):(e,n)=>!t(e,n);return n.pick(e,o,r)}},3137:function(e,n,t){!function(e,n){"use strict";function t(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}})),n.default=e,Object.freeze(n)}var r=t(n);function o(e,n){return(o=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var i={error:null},a=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).state=i,n.resetErrorBoundary=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];null==n.props.onReset||(e=n.props).onReset.apply(e,r),n.reset()},n}var t,a;a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,o(t,a),n.getDerivedStateFromError=function(e){return{error:e}};var s=n.prototype;return s.reset=function(){this.setState(i)},s.componentDidCatch=function(e,n){var t,r;null==(t=(r=this.props).onError)||t.call(r,e,n)},s.componentDidUpdate=function(e,n){var t,r,o,i,a=this.state.error,s=this.props.resetKeys;null!==a&&null!==n.error&&(void 0===(o=e.resetKeys)&&(o=[]),void 0===(i=s)&&(i=[]),o.length!==i.length||o.some((function(e,n){return!Object.is(e,i[n])})))&&(null==(t=(r=this.props).onResetKeysChange)||t.call(r,e.resetKeys,s),this.reset())},s.render=function(){var e=this.state.error,n=this.props,t=n.fallbackRender,o=n.FallbackComponent,i=n.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(i))return i;if("function"==typeof t)return t(a);if(o)return r.createElement(o,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},n}(r.Component);e.ErrorBoundary=a,e.useErrorHandler=function(e){var n=r.useState(null),t=n[0],o=n[1];if(null!=e)throw e;if(null!=t)throw t;return o},e.withErrorBoundary=function(e,n){var t=function(t){return r.createElement(a,n,r.createElement(e,t))},o=e.displayName||e.name||"Unknown";return t.displayName="withErrorBoundary("+o+")",t},Object.defineProperty(e,"__esModule",{value:!0})}(n,t(4098))},9426:e=>{"use strict";e.exports=(e,n)=>{if("string"!=typeof e||"string"!=typeof n)throw new TypeError("Expected the arguments to be of type `string`");if(""===n)return[e];const t=e.indexOf(n);return-1===t?[e]:[e.slice(0,t),e.slice(t+n.length)]}},5821:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},9207:(e,n,t)=>{"use strict";var r=t(502),o=t(6338),i=t(8643),a=t(533)("String.prototype.slice");e.exports=function(e){var n,t=i(this),s=o(t),l=r(s.length);arguments.length>1&&(n=arguments[1]);var c=void 0===n?"":o(n);""===c&&(c=" ");var u=r(e);if(u<=l)return s;for(var d=u-l;c.length<d;){var A=c.length,p=d-A;c+=A>p?a(c,0,p):c}return(c.length>d?a(c,0,d):c)+s}},8327:(e,n,t)=>{"use strict";var r=t(3161),o=t(8643),i=t(4203),a=t(9207),s=t(3988),l=t(2683),c=i.apply(s()),u=function(e,n){o(e);var t=[n];return arguments.length>2&&t.push(arguments[2]),c(e,t)};r(u,{getPolyfill:s,implementation:a,shim:l}),e.exports=u},3988:(e,n,t)=>{"use strict";var r=t(9207);e.exports=function(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:r}},2683:(e,n,t)=>{"use strict";var r=t(3988),o=t(3161);e.exports=function(){var e=r();return o(String.prototype,{padStart:e},{padStart:function(){return String.prototype.padStart!==e}}),e}},2170:function(e,n,t){e.exports=function(){"use strict";function e(e,n){return e(n={exports:{}},n.exports),n.exports}"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self&&self;var n=e((function(e,n){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function n(e){return Array.isArray(e)?[]:{}}function t(t,r){return r&&!0===r.clone&&e(t)?i(n(t),t,r):t}function r(n,r,o){var a=n.slice();return r.forEach((function(r,s){void 0===a[s]?a[s]=t(r,o):e(r)?a[s]=i(n[s],r,o):-1===n.indexOf(r)&&a.push(t(r,o))})),a}function o(n,r,o){var a={};return e(n)&&Object.keys(n).forEach((function(e){a[e]=t(n[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&n[s]?a[s]=i(n[s],r[s],o):a[s]=t(r[s],o)})),a}function i(e,n,i){var a=Array.isArray(n),s=(i||{arrayMerge:r}).arrayMerge||r;return a?Array.isArray(e)?s(e,n,i):t(n,i):o(e,n,i)}return i.all=function(e,n){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,t){return i(e,t,n)}))},i}()})),r=e((function(e,n){n.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=n.default})),o=r.svg,i=r.xlink,a={};a[o.name]=o.uri,a[i.name]=i.uri;var s,l=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(n){return n+'="'+e[n].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(n(a,t||{}))+">"+e+"</svg>"},c=r.svg,u=r.xlink,d={attrs:(s={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},s[c.name]=c.uri,s[u.name]=u.uri,s)},A=function(e){this.config=n(d,e||{}),this.symbols=[]};A.prototype.add=function(e){var n=this.symbols,t=this.find(e.id);return t?(n[n.indexOf(t)]=e,!1):(n.push(e),!0)},A.prototype.remove=function(e){var n=this.symbols,t=this.find(e);return!!t&&(n.splice(n.indexOf(t),1),t.destroy(),!0)},A.prototype.find=function(e){return this.symbols.filter((function(n){return n.id===e}))[0]||null},A.prototype.has=function(e){return null!==this.find(e)},A.prototype.stringify=function(){var e=this.config.attrs,n=this.symbols.map((function(e){return e.stringify()})).join("");return l(n,e)},A.prototype.toString=function(){return this.stringify()},A.prototype.destroy=function(){this.symbols.forEach((function(e){return e.destroy()}))};var p=function(e){var n=e.id,t=e.viewBox,r=e.content;this.id=n,this.viewBox=t,this.content=r};p.prototype.stringify=function(){return this.content},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(n){return delete e[n]}))};var h=function(e){var n=!!document.importNode,t=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return n?document.importNode(t,!0):t},m=function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var t={isMounted:{}};return t.isMounted.get=function(){return!!this.node},n.createFromExistingNode=function(e){return new n({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},n.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},n.prototype.mount=function(e){if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,t=this.render();return this.node=t,n.appendChild(t),t},n.prototype.render=function(){var e=this.stringify();return h(l(e)).childNodes[0]},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(n.prototype,t),n}(p),f={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},g=function(e){return Array.prototype.slice.call(e,0)},C=function(){return/firefox/i.test(navigator.userAgent)},v=function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},E=function(){return/edge/i.test(navigator.userAgent)},_=function(e){return(e||window.location.href).split("#")[0]},b=function(e){angular.module("ng").run(["$rootScope",function(n){n.$on("$locationChangeSuccess",(function(n,t,r){var o,i,a;o=e,i={oldUrl:r,newUrl:t},(a=document.createEvent("CustomEvent")).initCustomEvent(o,!1,!1,i),window.dispatchEvent(a)}))}])},y=function(e,n){return void 0===n&&(n="linearGradient, radialGradient, pattern"),g(e.querySelectorAll("symbol")).forEach((function(e){g(e.querySelectorAll(n)).forEach((function(n){e.parentNode.insertBefore(n,e)}))})),e},B=r.xlink.uri,w="xlink:href",x=/[{}|\\\^\[\]`"<>]/g;function k(e){return e.replace(x,(function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()}))}var D=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],S=D.map((function(e){return"["+e+"]"})).join(","),I=function(e,n,t,r){var o,i,a=k(t),s=k(r);(o=e.querySelectorAll(S),i=function(e){var n=e.localName,t=e.value;return-1!==D.indexOf(n)&&-1!==t.indexOf("url("+a)},g(o).reduce((function(e,n){if(!n.attributes)return e;var t=g(n.attributes),r=i?t.filter(i):t;return e.concat(r)}),[])).forEach((function(e){return e.value=e.value.replace(new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),s)})),function(e,n,t){g(e).forEach((function(e){var r=e.getAttribute(w);if(r&&0===r.indexOf(n)){var o=r.replace(n,t);e.setAttributeNS(B,w,o)}}))}(n,a,s)},F="mount",M="symbol_mount";return function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(f,t));var o,i=(o=o||Object.create(null),{on:function(e,n){(o[e]||(o[e]=[])).push(n)},off:function(e,n){o[e]&&o[e].splice(o[e].indexOf(n)>>>0,1)},emit:function(e,n){(o[e]||[]).map((function(e){e(n)})),(o["*"]||[]).map((function(t){t(e,n)}))}});this._emitter=i,this.node=null;var a=this.config;if(a.autoConfigure&&this._autoConfigure(t),a.syncUrlsWithBaseTag){var s=document.getElementsByTagName("base")[0].getAttribute("href");i.on(F,(function(){return r.updateUrls("#",s)}))}var l=this._handleLocationChange.bind(this);this._handleLocationChange=l,a.listenLocationChangeEvent&&window.addEventListener(a.locationChangeEvent,l),a.locationChangeAngularEmitter&&b(a.locationChangeEvent),i.on(F,(function(e){a.moveGradientsOutsideSymbol&&y(e)})),i.on(M,(function(e){var n;a.moveGradientsOutsideSymbol&&y(e.parentNode),(v()||E())&&(n=[],g(e.querySelectorAll("style")).forEach((function(e){e.textContent+="",n.push(e)})))}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var n=this.config;void 0===e.syncUrlsWithBaseTag&&(n.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(n.locationChangeAngularEmitter=void 0!==window.angular),void 0===e.moveGradientsOutsideSymbol&&(n.moveGradientsOutsideSymbol=C())},t.prototype._handleLocationChange=function(e){var n=e.detail,t=n.oldUrl,r=n.newUrl;this.updateUrls(t,r)},t.prototype.add=function(n){var t=e.prototype.add.call(this,n);return this.isMounted&&t&&(n.mount(this.node),this._emitter.emit(M,n.node)),t},t.prototype.attach=function(e){var n=this,t=this;if(t.isMounted)return t.node;var r="string"==typeof e?document.querySelector(e):e;return t.node=r,this.symbols.forEach((function(e){e.mount(t.node),n._emitter.emit(M,e.node)})),g(r.querySelectorAll("symbol")).forEach((function(e){var n=m.createFromExistingNode(e);n.node=e,t.add(n)})),this._emitter.emit(F,r),r},t.prototype.destroy=function(){var e=this,n=e.config,t=e.symbols,r=e._emitter;t.forEach((function(e){return e.destroy()})),r.off("*"),window.removeEventListener(n.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,n){void 0===e&&(e=this.config.mountTo),void 0===n&&(n=!1);var t=this;if(t.isMounted)return t.node;var r="string"==typeof e?document.querySelector(e):e,o=t.render();return this.node=o,n&&r.childNodes[0]?r.insertBefore(o,r.childNodes[0]):r.appendChild(o),this._emitter.emit(F,o),o},t.prototype.render=function(){return h(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,n){if(!this.isMounted)return!1;var t=document.querySelectorAll(this.config.usagesToUpdate);return I(this.node,t,_(e)+"#",_(n)+"#"),!0},Object.defineProperties(t.prototype,r),t}(A)}()},7508:function(e,n,t){e.exports=function(){"use strict";var e=function(e){var n=e.id,t=e.viewBox,r=e.content;this.id=n,this.viewBox=t,this.content=r};function n(e,n){return e(n={exports:{}},n.exports),n.exports}e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach((function(n){return delete e[n]}))},"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self&&self;var r=n((function(e,n){e.exports=function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function n(e){return Array.isArray(e)?[]:{}}function t(t,r){return r&&!0===r.clone&&e(t)?i(n(t),t,r):t}function r(n,r,o){var a=n.slice();return r.forEach((function(r,s){void 0===a[s]?a[s]=t(r,o):e(r)?a[s]=i(n[s],r,o):-1===n.indexOf(r)&&a.push(t(r,o))})),a}function o(n,r,o){var a={};return e(n)&&Object.keys(n).forEach((function(e){a[e]=t(n[e],o)})),Object.keys(r).forEach((function(s){e(r[s])&&n[s]?a[s]=i(n[s],r[s],o):a[s]=t(r[s],o)})),a}function i(e,n,i){var a=Array.isArray(n),s=(i||{arrayMerge:r}).arrayMerge||r;return a?Array.isArray(e)?s(e,n,i):t(n,i):o(e,n,i)}return i.all=function(e,n){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,t){return i(e,t,n)}))},i}()})),o=n((function(e,n){n.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=n.default})),i=o.svg,a=o.xlink,s={};s[i.name]=i.uri,s[a.name]=a.uri;var l=function(e,n){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map((function(n){return n+'="'+e[n].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(r(s,n||{}))+">"+e+"</svg>"};return function(e){function n(){e.apply(this,arguments)}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var t={isMounted:{}};return t.isMounted.get=function(){return!!this.node},n.createFromExistingNode=function(e){return new n({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},n.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},n.prototype.mount=function(e){if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,t=this.render();return this.node=t,n.appendChild(t),t},n.prototype.render=function(){var e=this.stringify();return function(e){var n=!!document.importNode,t=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return n?document.importNode(t,!0):t}(l(e)).childNodes[0]},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(n.prototype,t),n}(e)}()},8075:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,"[data-simplebar]{position:relative;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;align-content:flex-start;align-items:flex-start}.simplebar-wrapper{overflow:hidden;width:inherit;height:inherit;max-width:inherit;max-height:inherit}.simplebar-mask{direction:inherit;position:absolute;overflow:hidden;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:auto!important;height:auto!important;z-index:0}.simplebar-offset{direction:inherit!important;box-sizing:inherit!important;resize:none!important;position:absolute;top:0;left:0;bottom:0;right:0;padding:0;margin:0;-webkit-overflow-scrolling:touch}.simplebar-content-wrapper{direction:inherit;box-sizing:border-box!important;position:relative;display:block;height:100%;width:auto;max-width:100%;max-height:100%;scrollbar-width:none;-ms-overflow-style:none}.simplebar-content-wrapper::-webkit-scrollbar,.simplebar-hide-scrollbar::-webkit-scrollbar{width:0;height:0}.simplebar-content:after,.simplebar-content:before{content:' ';display:table}.simplebar-placeholder{max-height:100%;max-width:100%;width:100%;pointer-events:none}.simplebar-height-auto-observer-wrapper{box-sizing:inherit!important;height:100%;width:100%;max-width:1px;position:relative;float:left;max-height:1px;overflow:hidden;z-index:-1;padding:0;margin:0;pointer-events:none;flex-grow:inherit;flex-shrink:0;flex-basis:0}.simplebar-height-auto-observer{box-sizing:inherit;display:block;opacity:0;position:absolute;top:0;left:0;height:1000%;width:1000%;min-height:1px;min-width:1px;overflow:hidden;pointer-events:none;z-index:-1}.simplebar-track{z-index:1;position:absolute;right:0;bottom:0;pointer-events:none;overflow:hidden}[data-simplebar].simplebar-dragging .simplebar-content{pointer-events:none;user-select:none;-webkit-user-select:none}[data-simplebar].simplebar-dragging .simplebar-track{pointer-events:all}.simplebar-scrollbar{position:absolute;left:0;right:0;min-height:10px}.simplebar-scrollbar:before{position:absolute;content:'';background:#000;border-radius:7px;left:2px;right:2px;opacity:0;transition:opacity .2s .5s linear}.simplebar-hover .simplebar-scrollbar:before,.simplebar-mouse-entered .simplebar-scrollbar:before,.simplebar-scrolling .simplebar-scrollbar:before{opacity:.5;transition-delay:0s;transition-duration:0s}.simplebar-scrollbar.simplebar-visible:before{opacity:.5;transition-delay:0s;transition-duration:0s}.simplebar-track.simplebar-vertical{top:0;width:11px}.simplebar-scrollbar:before{top:2px;bottom:2px;left:2px;right:2px}.simplebar-track.simplebar-horizontal{left:0;height:11px}.simplebar-track.simplebar-horizontal .simplebar-scrollbar{right:auto;left:0;top:0;bottom:0;min-height:0;min-width:10px;width:auto}[data-simplebar-direction=rtl] .simplebar-track.simplebar-vertical{right:auto;left:0}.simplebar-dummy-scrollbar-size{direction:rtl;position:fixed;opacity:0;visibility:hidden;height:500px;width:500px;overflow-y:hidden;overflow-x:scroll;-ms-overflow-style:scrollbar!important}.simplebar-dummy-scrollbar-size>div{width:200%;height:200%;margin:10px 0}.simplebar-hide-scrollbar{position:fixed;left:0;visibility:hidden;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}\n","",{version:3,sources:["webpack://./node_modules/simplebar-react/dist/simplebar.min.css"],names:[],mappings:"AAAA,iBAAiB,iBAAiB,CAAC,qBAAqB,CAAC,cAAc,CAAC,0BAA0B,CAAC,wBAAwB,CAAC,sBAAsB,CAAC,mBAAmB,eAAe,CAAC,aAAa,CAAC,cAAc,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,gBAAgB,iBAAiB,CAAC,iBAAiB,CAAC,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,SAAS,CAAC,kBAAkB,2BAA2B,CAAC,4BAA4B,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,gCAAgC,CAAC,2BAA2B,iBAAiB,CAAC,+BAA+B,CAAC,iBAAiB,CAAC,aAAa,CAAC,WAAW,CAAC,UAAU,CAAC,cAAc,CAAC,eAAe,CAAC,oBAAoB,CAAC,uBAAuB,CAAC,2FAA2F,OAAO,CAAC,QAAQ,CAAC,mDAAmD,WAAW,CAAC,aAAa,CAAC,uBAAuB,eAAe,CAAC,cAAc,CAAC,UAAU,CAAC,mBAAmB,CAAC,wCAAwC,4BAA4B,CAAC,WAAW,CAAC,UAAU,CAAC,aAAa,CAAC,iBAAiB,CAAC,UAAU,CAAC,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,aAAa,CAAC,YAAY,CAAC,gCAAgC,kBAAkB,CAAC,aAAa,CAAC,SAAS,CAAC,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,WAAW,CAAC,cAAc,CAAC,aAAa,CAAC,eAAe,CAAC,mBAAmB,CAAC,UAAU,CAAC,iBAAiB,SAAS,CAAC,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,mBAAmB,CAAC,eAAe,CAAC,uDAAuD,mBAAmB,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,qDAAqD,kBAAkB,CAAC,qBAAqB,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,4BAA4B,iBAAiB,CAAC,UAAU,CAAC,eAAe,CAAC,iBAAiB,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,iCAAiC,CAAC,mJAAmJ,UAAU,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,8CAA8C,UAAU,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,oCAAoC,KAAK,CAAC,UAAU,CAAC,4BAA4B,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,SAAS,CAAC,sCAAsC,MAAM,CAAC,WAAW,CAAC,2DAA2D,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,cAAc,CAAC,UAAU,CAAC,mEAAmE,UAAU,CAAC,MAAM,CAAC,gCAAgC,aAAa,CAAC,cAAc,CAAC,SAAS,CAAC,iBAAiB,CAAC,YAAY,CAAC,WAAW,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,sCAAsC,CAAC,oCAAoC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,0BAA0B,cAAc,CAAC,MAAM,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,uBAAuB",sourcesContent:["[data-simplebar]{position:relative;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;align-content:flex-start;align-items:flex-start}.simplebar-wrapper{overflow:hidden;width:inherit;height:inherit;max-width:inherit;max-height:inherit}.simplebar-mask{direction:inherit;position:absolute;overflow:hidden;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:auto!important;height:auto!important;z-index:0}.simplebar-offset{direction:inherit!important;box-sizing:inherit!important;resize:none!important;position:absolute;top:0;left:0;bottom:0;right:0;padding:0;margin:0;-webkit-overflow-scrolling:touch}.simplebar-content-wrapper{direction:inherit;box-sizing:border-box!important;position:relative;display:block;height:100%;width:auto;max-width:100%;max-height:100%;scrollbar-width:none;-ms-overflow-style:none}.simplebar-content-wrapper::-webkit-scrollbar,.simplebar-hide-scrollbar::-webkit-scrollbar{width:0;height:0}.simplebar-content:after,.simplebar-content:before{content:' ';display:table}.simplebar-placeholder{max-height:100%;max-width:100%;width:100%;pointer-events:none}.simplebar-height-auto-observer-wrapper{box-sizing:inherit!important;height:100%;width:100%;max-width:1px;position:relative;float:left;max-height:1px;overflow:hidden;z-index:-1;padding:0;margin:0;pointer-events:none;flex-grow:inherit;flex-shrink:0;flex-basis:0}.simplebar-height-auto-observer{box-sizing:inherit;display:block;opacity:0;position:absolute;top:0;left:0;height:1000%;width:1000%;min-height:1px;min-width:1px;overflow:hidden;pointer-events:none;z-index:-1}.simplebar-track{z-index:1;position:absolute;right:0;bottom:0;pointer-events:none;overflow:hidden}[data-simplebar].simplebar-dragging .simplebar-content{pointer-events:none;user-select:none;-webkit-user-select:none}[data-simplebar].simplebar-dragging .simplebar-track{pointer-events:all}.simplebar-scrollbar{position:absolute;left:0;right:0;min-height:10px}.simplebar-scrollbar:before{position:absolute;content:'';background:#000;border-radius:7px;left:2px;right:2px;opacity:0;transition:opacity .2s .5s linear}.simplebar-hover .simplebar-scrollbar:before,.simplebar-mouse-entered .simplebar-scrollbar:before,.simplebar-scrolling .simplebar-scrollbar:before{opacity:.5;transition-delay:0s;transition-duration:0s}.simplebar-scrollbar.simplebar-visible:before{opacity:.5;transition-delay:0s;transition-duration:0s}.simplebar-track.simplebar-vertical{top:0;width:11px}.simplebar-scrollbar:before{top:2px;bottom:2px;left:2px;right:2px}.simplebar-track.simplebar-horizontal{left:0;height:11px}.simplebar-track.simplebar-horizontal .simplebar-scrollbar{right:auto;left:0;top:0;bottom:0;min-height:0;min-width:10px;width:auto}[data-simplebar-direction=rtl] .simplebar-track.simplebar-vertical{right:auto;left:0}.simplebar-dummy-scrollbar-size{direction:rtl;position:fixed;opacity:0;visibility:hidden;height:500px;width:500px;overflow-y:hidden;overflow-x:scroll;-ms-overflow-style:scrollbar!important}.simplebar-dummy-scrollbar-size>div{width:200%;height:200%;margin:10px 0}.simplebar-hide-scrollbar{position:fixed;left:0;visibility:hidden;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}\n"],sourceRoot:""}]);const s=a},5076:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".MEConfig *,\n.MEConfig *::before,\n.MEConfig *::after {\n  box-sizing: border-box;\n}\n\n.MEConfig * {\n  scrollbar-width: none;\n}\n\n/**\n* Итоговый селектор не имеет веса, поэтому перекроет только браузерные стили\n*/\n@supports selector(A:where(B)) {\n  :where(.MEConfig) * {\n    margin: 0;\n    padding: 0;\n  }\n}\n\n/**\n* Без поддержки :where селектор без веса сгененерировать ресет под классом\n* без высокой специфичности не получится.\n* Универсальные селекторы менее специфичны, чем селекторы с тегами,\n* но если стили ресета подключатся после основных, то все равно отработают.\n* Поэтому выбираем более специфичные селекторы, но ограничиваем список элементов,\n* чтобы с меньшей вероятности задеть более частые элементы\n*/\n@supports not (selector(A:where(B))) {\n  .MEConfig p,\n  .MEConfig ul,\n  .MEConfig ol,\n  .MEConfig li,\n  .MEConfig h1,\n  .MEConfig h2,\n  .MEConfig h3,\n  .MEConfig h4,\n  .MEConfig h5,\n  .MEConfig h6,\n  .MEConfig figure {\n    margin: 0;\n    padding: 0;\n  }\n}\n\n.MEConfig img {\n  max-width: 100%;\n}\n\n.MEConfig {\n  --fcZIndex: 1500;\n  --basefont: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue',\n    Geneva, 'Noto Sans Armenian', 'Noto Sans Bengali', 'Noto Sans Cherokee',\n    'Noto Sans Devanagari', 'Noto Sans Ethiopic', 'Noto Sans Georgian',\n    'Noto Sans Hebrew', 'Noto Sans Kannada', 'Noto Sans Khmer', 'Noto Sans Lao',\n    'Noto Sans Osmanya', 'Noto Sans Tamil', 'Noto Sans Telugu', 'Noto Sans Thai',\n    sans-serif, Arial, Tahoma, verdana;\n  --font: var(--palette-vk-font, var(--basefont));\n  -webkit-font-smoothing: subpixel-antialiased;\n  font-family: var(--font);\n}\n\n.MEConfig *::-webkit-scrollbar {\n  display: none;\n}\n\n.MEConfig .simplebar-scrollbar::before {\n  background-color: var(--icon_tertiary);\n  width: 6px;\n  border-radius: 3px;\n}\n\n.MEApp {\n  --historyPaddingRight: 30px;\n  --historyPaddingBottom: 40px;\n  --historyPaddingLeft: 20px;\n  --messageFontSize: 16px;\n  --messageLineHeight: 20px;\n  --messageMaxWidth: 75%;\n  --messageVerticalIndent: 8px;\n  --messageHorizontalIndent: 12px;\n  --messageBorderRadius: 16px;\n  --messageAttachmentIndent: 5px;\n  --messageKeyboardIndent: 8px;\n  --messageDateFontSize: 11px;\n  --messageDateLineHeight: 12px;\n  --messageDateMarginLeft: 8px;\n}\n\n.FCApp,\n.SAKApp {\n  --historyPadding: 0 16px 12px 8px;\n  --historyPaddingRight: 16px;\n  --historyPaddingBottom: 30px;\n  --historyPaddingLeft: 8px;\n  --messageFontSize: 13px;\n  --messageLineHeight: 16px;\n  --messageMaxWidth: 260px;\n  --messageVerticalIndent: 7px;\n  --messageHorizontalIndent: 10px;\n  --messageBorderRadius: 14px;\n  --messageAttachmentIndent: 4px;\n  --messageKeyboardIndent: 8px;\n  --messageDateFontSize: 9px;\n  --messageDateLineHeight: 10px;\n  --messageDateMarginLeft: 3px;\n}\n","",{version:3,sources:["webpack://./src/browser/styles/base.css"],names:[],mappings:"AAAA;;;EAGE,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;;CAEC;AACD;EACE;IACE,SAAS;IACT,UAAU;EACZ;AACF;;AAEA;;;;;;;CAOC;AACD;EACE;;;;;;;;;;;IAWE,SAAS;IACT,UAAU;EACZ;AACF;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,gBAAgB;EAChB;;;;;sCAKoC;EACpC,+CAA+C;EAC/C,4CAA4C;EAC5C,wBAAwB;AAC1B;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,sCAAsC;EACtC,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,2BAA2B;EAC3B,4BAA4B;EAC5B,0BAA0B;EAC1B,uBAAuB;EACvB,yBAAyB;EACzB,sBAAsB;EACtB,4BAA4B;EAC5B,+BAA+B;EAC/B,2BAA2B;EAC3B,8BAA8B;EAC9B,4BAA4B;EAC5B,2BAA2B;EAC3B,6BAA6B;EAC7B,4BAA4B;AAC9B;;AAEA;;EAEE,iCAAiC;EACjC,2BAA2B;EAC3B,4BAA4B;EAC5B,yBAAyB;EACzB,uBAAuB;EACvB,yBAAyB;EACzB,wBAAwB;EACxB,4BAA4B;EAC5B,+BAA+B;EAC/B,2BAA2B;EAC3B,8BAA8B;EAC9B,4BAA4B;EAC5B,0BAA0B;EAC1B,6BAA6B;EAC7B,4BAA4B;AAC9B",sourcesContent:[".MEConfig *,\n.MEConfig *::before,\n.MEConfig *::after {\n  box-sizing: border-box;\n}\n\n.MEConfig * {\n  scrollbar-width: none;\n}\n\n/**\n* Итоговый селектор не имеет веса, поэтому перекроет только браузерные стили\n*/\n@supports selector(A:where(B)) {\n  :where(.MEConfig) * {\n    margin: 0;\n    padding: 0;\n  }\n}\n\n/**\n* Без поддержки :where селектор без веса сгененерировать ресет под классом\n* без высокой специфичности не получится.\n* Универсальные селекторы менее специфичны, чем селекторы с тегами,\n* но если стили ресета подключатся после основных, то все равно отработают.\n* Поэтому выбираем более специфичные селекторы, но ограничиваем список элементов,\n* чтобы с меньшей вероятности задеть более частые элементы\n*/\n@supports not (selector(A:where(B))) {\n  .MEConfig p,\n  .MEConfig ul,\n  .MEConfig ol,\n  .MEConfig li,\n  .MEConfig h1,\n  .MEConfig h2,\n  .MEConfig h3,\n  .MEConfig h4,\n  .MEConfig h5,\n  .MEConfig h6,\n  .MEConfig figure {\n    margin: 0;\n    padding: 0;\n  }\n}\n\n.MEConfig img {\n  max-width: 100%;\n}\n\n.MEConfig {\n  --fcZIndex: 1500;\n  --basefont: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue',\n    Geneva, 'Noto Sans Armenian', 'Noto Sans Bengali', 'Noto Sans Cherokee',\n    'Noto Sans Devanagari', 'Noto Sans Ethiopic', 'Noto Sans Georgian',\n    'Noto Sans Hebrew', 'Noto Sans Kannada', 'Noto Sans Khmer', 'Noto Sans Lao',\n    'Noto Sans Osmanya', 'Noto Sans Tamil', 'Noto Sans Telugu', 'Noto Sans Thai',\n    sans-serif, Arial, Tahoma, verdana;\n  --font: var(--palette-vk-font, var(--basefont));\n  -webkit-font-smoothing: subpixel-antialiased;\n  font-family: var(--font);\n}\n\n.MEConfig *::-webkit-scrollbar {\n  display: none;\n}\n\n.MEConfig .simplebar-scrollbar::before {\n  background-color: var(--icon_tertiary);\n  width: 6px;\n  border-radius: 3px;\n}\n\n.MEApp {\n  --historyPaddingRight: 30px;\n  --historyPaddingBottom: 40px;\n  --historyPaddingLeft: 20px;\n  --messageFontSize: 16px;\n  --messageLineHeight: 20px;\n  --messageMaxWidth: 75%;\n  --messageVerticalIndent: 8px;\n  --messageHorizontalIndent: 12px;\n  --messageBorderRadius: 16px;\n  --messageAttachmentIndent: 5px;\n  --messageKeyboardIndent: 8px;\n  --messageDateFontSize: 11px;\n  --messageDateLineHeight: 12px;\n  --messageDateMarginLeft: 8px;\n}\n\n.FCApp,\n.SAKApp {\n  --historyPadding: 0 16px 12px 8px;\n  --historyPaddingRight: 16px;\n  --historyPaddingBottom: 30px;\n  --historyPaddingLeft: 8px;\n  --messageFontSize: 13px;\n  --messageLineHeight: 16px;\n  --messageMaxWidth: 260px;\n  --messageVerticalIndent: 7px;\n  --messageHorizontalIndent: 10px;\n  --messageBorderRadius: 14px;\n  --messageAttachmentIndent: 4px;\n  --messageKeyboardIndent: 8px;\n  --messageDateFontSize: 9px;\n  --messageDateLineHeight: 10px;\n  --messageDateMarginLeft: 3px;\n}\n"],sourceRoot:""}]);const s=a},1019:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachActiveCall {\n}\n\n.AttachActiveCall__info {\n  overflow: hidden;\n}\n\n.AttachActiveCall__title,\n.AttachActiveCall__description {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.AttachActiveCall__title {\n  font: 13px / 16px var(--font);\n  font-weight: 500;\n}\n\n.AttachActiveCall__description {\n  font: 12px / 14px var(--font);\n  opacity: 0.4;\n}\n\n.AttachActiveCall__join {\n  cursor: pointer;\n}\n\n/* Полноразмерный */\n.AttachActiveCall--full {\n  display: flex;\n}\n\n.AttachActiveCall--full .AttachActiveCall__info {\n  display: flex;\n  margin-right: auto;\n}\n\n.AttachActiveCall__userList {\n  margin-right: 8px;\n}\n\n.AttachActiveCall--full .AttachActiveCall__infoWrapper {\n  overflow: hidden;\n}\n\n.AttachActiveCall--full .AttachActiveCall__join {\n  margin-left: 32px;\n}\n\n/* Компактный */\n.AttachActiveCall--compact {\n  min-width: 175px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__infoWrapper {\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin-top: 6px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__userList {\n  margin-right: 6px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__join {\n  margin-top: 8px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachActiveCall/AttachActiveCall.css"],names:[],mappings:"AAAA;AACA;;AAEA;EACE,gBAAgB;AAClB;;AAEA;;EAEE,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;AAClB;;AAEA;EACE,6BAA6B;EAC7B,gBAAgB;AAClB;;AAEA;EACE,6BAA6B;EAC7B,YAAY;AACd;;AAEA;EACE,eAAe;AACjB;;AAEA,mBAAmB;AACnB;EACE,aAAa;AACf;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;AACnB;;AAEA,eAAe;AACf;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,eAAe;AACjB",sourcesContent:[".AttachActiveCall {\n}\n\n.AttachActiveCall__info {\n  overflow: hidden;\n}\n\n.AttachActiveCall__title,\n.AttachActiveCall__description {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.AttachActiveCall__title {\n  font: 13px / 16px var(--font);\n  font-weight: 500;\n}\n\n.AttachActiveCall__description {\n  font: 12px / 14px var(--font);\n  opacity: 0.4;\n}\n\n.AttachActiveCall__join {\n  cursor: pointer;\n}\n\n/* Полноразмерный */\n.AttachActiveCall--full {\n  display: flex;\n}\n\n.AttachActiveCall--full .AttachActiveCall__info {\n  display: flex;\n  margin-right: auto;\n}\n\n.AttachActiveCall__userList {\n  margin-right: 8px;\n}\n\n.AttachActiveCall--full .AttachActiveCall__infoWrapper {\n  overflow: hidden;\n}\n\n.AttachActiveCall--full .AttachActiveCall__join {\n  margin-left: 32px;\n}\n\n/* Компактный */\n.AttachActiveCall--compact {\n  min-width: 175px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__infoWrapper {\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin-top: 6px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__userList {\n  margin-right: 6px;\n}\n\n.AttachActiveCall--compact .AttachActiveCall__join {\n  margin-top: 8px;\n}\n"],sourceRoot:""}]);const s=a},2540:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachAudio {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'button title title'\n    'button artist duration';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 4px;\n}\n\n.AttachAudio__play {\n  grid-area: button;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 0;\n  background: var(--accent);\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  color: var(--white); /* @TODO: correct token */\n  outline: none;\n  cursor: pointer;\n  padding: 4px 7px 7px 9px;\n}\n\n.AttachAudio--playing .AttachAudio__play {\n  padding: 4px 8px;\n}\n\n.AttachAudio__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachAudio__artist {\n  grid-area: artist;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  height: var(--messageLineHeight);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.AttachAudio__duration {\n  position: relative;\n  grid-area: duration;\n  font: 12px / calc(var(--messageLineHeight) - 2px) var(--font);\n  height: var(--messageLineHeight);\n  color: var(--text_secondary);\n  text-align: right;\n  white-space: nowrap;\n}\n\n/**\n * Трик, который решает 2 задачи:\n * 1. Создаёт экологичный отступ между артистом и временем записи\n * 2. Выравнивает артиста и длительность записи по базовой линии\n */\n.AttachAudio__duration::before,\n.AttachAudio__durationIn::before {\n  content: '\\00a0\\00a0';\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  visibility: hidden;\n}\n\n/**\n * - В атрибуте data-filler лежит строка вида «-000:00», которая представляет\n * из себя максимальную по длине строку, которая может отрендериться в блоке.\n * - Логика основана на том, что ноль во всех используемых шрифтах будет самым\n * широким символом.\n * - Нужно для того, чтобы аттач отрендерился с такой минимальной шириной, \n * с которой мы можем менять содержимое блока с длительностью так, чтобы текст \n * всегда влазил и выглядил хорошо\n */\n.AttachAudio__duration::after {\n  content: attr(data-filler);\n  visibility: hidden;\n}\n\n.AttachAudio__durationIn {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachAudio/AttachAudio.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB;;4BAE0B;EAC1B,oCAAoC;EACpC,2BAA2B;EAC3B,YAAY;AACd;;AAEA;EACE,iBAAiB;EACjB,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,SAAS;EACT,yBAAyB;EACzB,wDAAwD;EACxD,mBAAmB,EAAE,yBAAyB;EAC9C,aAAa;EACb,eAAe;EACf,wBAAwB;AAC1B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,uEAAuE;EACvE,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,iBAAiB;EACjB,mEAAmE;EACnE,gCAAgC;EAChC,4BAA4B;EAC5B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,6DAA6D;EAC7D,gCAAgC;EAChC,4BAA4B;EAC5B,iBAAiB;EACjB,mBAAmB;AACrB;;AAEA;;;;EAIE;AACF;;EAEE,qBAAqB;EACrB,mEAAmE;EACnE,kBAAkB;AACpB;;AAEA;;;;;;;;EAQE;AACF;EACE,0BAA0B;EAC1B,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;AACT",sourcesContent:[".AttachAudio {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'button title title'\n    'button artist duration';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 4px;\n}\n\n.AttachAudio__play {\n  grid-area: button;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 0;\n  background: var(--accent);\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  color: var(--white); /* @TODO: correct token */\n  outline: none;\n  cursor: pointer;\n  padding: 4px 7px 7px 9px;\n}\n\n.AttachAudio--playing .AttachAudio__play {\n  padding: 4px 8px;\n}\n\n.AttachAudio__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachAudio__artist {\n  grid-area: artist;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  height: var(--messageLineHeight);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.AttachAudio__duration {\n  position: relative;\n  grid-area: duration;\n  font: 12px / calc(var(--messageLineHeight) - 2px) var(--font);\n  height: var(--messageLineHeight);\n  color: var(--text_secondary);\n  text-align: right;\n  white-space: nowrap;\n}\n\n/**\n * Трик, который решает 2 задачи:\n * 1. Создаёт экологичный отступ между артистом и временем записи\n * 2. Выравнивает артиста и длительность записи по базовой линии\n */\n.AttachAudio__duration::before,\n.AttachAudio__durationIn::before {\n  content: '\\00a0\\00a0';\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  visibility: hidden;\n}\n\n/**\n * - В атрибуте data-filler лежит строка вида «-000:00», которая представляет\n * из себя максимальную по длине строку, которая может отрендериться в блоке.\n * - Логика основана на том, что ноль во всех используемых шрифтах будет самым\n * широким символом.\n * - Нужно для того, чтобы аттач отрендерился с такой минимальной шириной, \n * с которой мы можем менять содержимое блока с длительностью так, чтобы текст \n * всегда влазил и выглядил хорошо\n */\n.AttachAudio__duration::after {\n  content: attr(data-filler);\n  visibility: hidden;\n}\n\n.AttachAudio__durationIn {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n"],sourceRoot:""}]);const s=a},4863:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachAudioPlaylist__icon {\n  width: 100%;\n  height: 100%;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachAudioPlaylist/AttachAudioPlaylist.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,qDAAqD;EACrD,qCAAqC,EAAE,yBAAyB;EAChE,eAAe;EACf,wDAAwD;EACxD,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,4BAA4B,EAAE,yBAAyB;AACzD",sourcesContent:[".AttachAudioPlaylist__icon {\n  width: 100%;\n  height: 100%;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n"],sourceRoot:""}]);const s=a},5138:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachCard,\n.AttachCard:hover {\n  text-decoration: none;\n  color: var(--text_primary);\n  display: flex;\n  justify-content: stretch;\n  border-radius: var(--messageBorderRadius);\n  max-width: none;\n}\n\n.AttachCard--withBackground {\n  color: #fff; /* @TODO: correct token */\n}\n\n.AttachCard__pic {\n  flex: 0 0 auto;\n  width: calc(4 * var(--messageLineHeight));\n  height: calc(4 * var(--messageLineHeight));\n  border-radius: var(--messageBorderRadius) 0 0 var(--messageBorderRadius);\n}\n\n.AttachCard__img {\n  object-fit: cover;\n  border-radius: inherit;\n  width: 100%;\n  height: 100%;\n}\n\n.AttachCard--inBubble .AttachCard__pic {\n  width: calc(3.5 * var(--messageLineHeight));\n  height: calc(3.5 * var(--messageLineHeight));\n  border-radius: calc(\n    var(--messageBorderRadius) - var(--messageAttachmentIndent)\n  ); /* Радиус сообщения минус внутренний отступ для аттача */\n}\n\n.AttachCard__main {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 1 auto;\n  overflow: hidden;\n  padding: 0 calc(0.5 * var(--messageLineHeight));\n  border-radius: 0 var(--messageBorderRadius) var(--messageBorderRadius) 0;\n}\n\n.AttachCard__content {\n  min-height: calc(3 * var(--messageLineHeight));\n}\n\n/**\n * Перебиваем специфичность в vkcom «[dir] h2»\n */\n.AttachCard__title.AttachCard__title {\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  margin: 0;\n  padding: 0;\n}\n\n.AttachCard--withLongTitle .AttachCard__title {\n  white-space: normal;\n  word-wrap: break-word;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n.AttachCard__caption {\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n}\n\n.AttachCard__meta {\n  color: var(--text_secondary);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  margin-right: 4ch;\n}\n\n.AttachCard--withBackground .AttachCard__meta {\n  color: rgba(255, 255, 255, 0.72); /* @TODO: correct token */\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachCard/AttachCard.css"],names:[],mappings:"AAAA;;EAEE,qBAAqB;EACrB,0BAA0B;EAC1B,aAAa;EACb,wBAAwB;EACxB,yCAAyC;EACzC,eAAe;AACjB;;AAEA;EACE,WAAW,EAAE,yBAAyB;AACxC;;AAEA;EACE,cAAc;EACd,yCAAyC;EACzC,0CAA0C;EAC1C,wEAAwE;AAC1E;;AAEA;EACE,iBAAiB;EACjB,sBAAsB;EACtB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,2CAA2C;EAC3C,4CAA4C;EAC5C;;GAEC,EAAE,wDAAwD;AAC7D;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,cAAc;EACd,gBAAgB;EAChB,+CAA+C;EAC/C,wEAAwE;AAC1E;;AAEA;EACE,8CAA8C;AAChD;;AAEA;;EAEE;AACF;EACE,uEAAuE;EACvE,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;EACf,uBAAuB;EACvB,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,mBAAmB;EACnB,qBAAqB;EACrB,oBAAoB;EACpB,qBAAqB;EACrB,4BAA4B;AAC9B;;AAEA;EACE,uEAAuE;EACvE,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;EACf,uBAAuB;AACzB;;AAEA;EACE,4BAA4B;EAC5B,mEAAmE;EACnE,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;EACf,uBAAuB;EACvB,iBAAiB;AACnB;;AAEA;EACE,gCAAgC,EAAE,yBAAyB;AAC7D",sourcesContent:[".AttachCard,\n.AttachCard:hover {\n  text-decoration: none;\n  color: var(--text_primary);\n  display: flex;\n  justify-content: stretch;\n  border-radius: var(--messageBorderRadius);\n  max-width: none;\n}\n\n.AttachCard--withBackground {\n  color: #fff; /* @TODO: correct token */\n}\n\n.AttachCard__pic {\n  flex: 0 0 auto;\n  width: calc(4 * var(--messageLineHeight));\n  height: calc(4 * var(--messageLineHeight));\n  border-radius: var(--messageBorderRadius) 0 0 var(--messageBorderRadius);\n}\n\n.AttachCard__img {\n  object-fit: cover;\n  border-radius: inherit;\n  width: 100%;\n  height: 100%;\n}\n\n.AttachCard--inBubble .AttachCard__pic {\n  width: calc(3.5 * var(--messageLineHeight));\n  height: calc(3.5 * var(--messageLineHeight));\n  border-radius: calc(\n    var(--messageBorderRadius) - var(--messageAttachmentIndent)\n  ); /* Радиус сообщения минус внутренний отступ для аттача */\n}\n\n.AttachCard__main {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 1 auto;\n  overflow: hidden;\n  padding: 0 calc(0.5 * var(--messageLineHeight));\n  border-radius: 0 var(--messageBorderRadius) var(--messageBorderRadius) 0;\n}\n\n.AttachCard__content {\n  min-height: calc(3 * var(--messageLineHeight));\n}\n\n/**\n * Перебиваем специфичность в vkcom «[dir] h2»\n */\n.AttachCard__title.AttachCard__title {\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  margin: 0;\n  padding: 0;\n}\n\n.AttachCard--withLongTitle .AttachCard__title {\n  white-space: normal;\n  word-wrap: break-word;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n.AttachCard__caption {\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n}\n\n.AttachCard__meta {\n  color: var(--text_secondary);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  text-overflow: ellipsis;\n  margin-right: 4ch;\n}\n\n.AttachCard--withBackground .AttachCard__meta {\n  color: rgba(255, 255, 255, 0.72); /* @TODO: correct token */\n}\n"],sourceRoot:""}]);const s=a},1012:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachDoc {\n  max-width: none;\n  text-decoration: none;\n  color: var(--text_primary);\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'icon title'\n    'icon meta';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 0 calc(0.5 * var(--messageHorizontalIndent)) 0 0;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.AttachDoc__icon {\n  width: 40px;\n  height: 40px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n\n.AttachDoc__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachDoc__meta {\n  grid-area: meta;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: start;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachDoc/AttachDoc.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,qBAAqB;EACrB,0BAA0B;EAC1B,aAAa;EACb,mBAAmB;EACnB;;eAEa;EACb,oCAAoC;EACpC,2BAA2B;EAC3B,yDAAyD;EACzD,mEAAmE;AACrE;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,qDAAqD;EACrD,qCAAqC,EAAE,yBAAyB;EAChE,eAAe;EACf,wDAAwD;EACxD,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,4BAA4B,EAAE,yBAAyB;AACzD;;AAEA;EACE,gBAAgB;EAChB,uEAAuE;EACvE,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,mEAAmE;EACnE,4BAA4B;EAC5B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;EACvB,iBAAiB;AACnB",sourcesContent:[".AttachDoc {\n  max-width: none;\n  text-decoration: none;\n  color: var(--text_primary);\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'icon title'\n    'icon meta';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 0 calc(0.5 * var(--messageHorizontalIndent)) 0 0;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.AttachDoc__icon {\n  width: 40px;\n  height: 40px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n\n.AttachDoc__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachDoc__meta {\n  grid-area: meta;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: start;\n}\n"],sourceRoot:""}]);const s=a},5972:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachGeo {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachGeo--inBubble {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - 0.25 * var(--messageLineHeight)\n  );\n}\n\n.AttachGeo__mapImage {\n  border-radius: var(--borderRadius);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachGeo/AttachGeo.css"],names:[],mappings:"AAAA;EACE,0CAA0C;;EAE1C,aAAa;EACb,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE;;GAEC;AACH;;AAEA;EACE,kCAAkC;AACpC",sourcesContent:[".AttachGeo {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachGeo--inBubble {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - 0.25 * var(--messageLineHeight)\n  );\n}\n\n.AttachGeo__mapImage {\n  border-radius: var(--borderRadius);\n}\n"],sourceRoot:""}]);const s=a},4998:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachGift {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n}\n\n.AttachGift__image {\n  width: 208px;\n  height: 208px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: #fff; /* @TODO: correct token */\n  margin: calc(8px - var(--messageVerticalIndent))\n    calc(8px - var(--messageHorizontalIndent)) var(--messageVerticalIndent);\n  max-width: none;\n  color: var(--text_secondary);\n}\n\n.AttachGift__title {\n  display: inline-flex;\n  align-items: center;\n}\n\n.AttachGift__title--withMessage {\n  margin-bottom: 4px;\n}\n\n.AttachGift__titleIcon {\n  margin-right: 4px;\n  flex-shrink: 0;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachGift/AttachGift.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,iBAAiB;AACnB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,qDAAqD;EACrD,gBAAgB,EAAE,yBAAyB;EAC3C;2EACyE;EACzE,eAAe;EACf,4BAA4B;AAC9B;;AAEA;EACE,oBAAoB;EACpB,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;EACjB,cAAc;AAChB",sourcesContent:[".AttachGift {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n}\n\n.AttachGift__image {\n  width: 208px;\n  height: 208px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: #fff; /* @TODO: correct token */\n  margin: calc(8px - var(--messageVerticalIndent))\n    calc(8px - var(--messageHorizontalIndent)) var(--messageVerticalIndent);\n  max-width: none;\n  color: var(--text_secondary);\n}\n\n.AttachGift__title {\n  display: inline-flex;\n  align-items: center;\n}\n\n.AttachGift__title--withMessage {\n  margin-bottom: 4px;\n}\n\n.AttachGift__titleIcon {\n  margin-right: 4px;\n  flex-shrink: 0;\n}\n"],sourceRoot:""}]);const s=a},2283:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachLink {\n  max-width: 0;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachLink/AttachLink.css"],names:[],mappings:"AAAA;EACE,YAAY;AACd",sourcesContent:[".AttachLink {\n  max-width: 0;\n}\n"],sourceRoot:""}]);const s=a},813:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachMarket__priceOld {\n  text-decoration: line-through;\n  padding-left: 5px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachMarket/AttachMarket.css"],names:[],mappings:"AAAA;EACE,6BAA6B;EAC7B,iBAAiB;AACnB",sourcesContent:[".AttachMarket__priceOld {\n  text-decoration: line-through;\n  padding-left: 5px;\n}\n"],sourceRoot:""}]);const s=a},7436:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,"/** Специфичность для vkcom */\n.AttachMiniApp.AttachMiniApp {\n  display: flex;\n  text-decoration: none;\n}\n\n.AttachMiniApp__cover {\n  position: relative;\n  user-select: none;\n}\n\n.AttachMiniApp__cover,\n.AttachMiniApp__coverImage {\n  width: 40px;\n  min-width: 40px;\n  height: 40px;\n\n  display: block;\n  box-sizing: border-box;\n  border-radius: 10px;\n}\n\n.AttachMiniApp__cover::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  pointer-events: none;\n\n  border-radius: 10px;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.08) inset;\n}\n\n.AttachMiniApp__fields {\n  margin-left: 8px;\n\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: flex-start;\n\n  overflow: hidden;\n}\n\n/** Специфичность для vkcom */\n.AttachMiniApp__fields .AttachMiniApp__fieldsTitle,\n.AttachMiniApp__fields .AttachMiniApp__fieldsDescription {\n  font-style: normal;\n  color: var(--text_primary);\n\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin: 0;\n}\n\n.AttachMiniApp__fieldsTitle {\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 16px;\n}\n\n.AttachMiniApp__fieldsDescription {\n  font-size: 12px;\n  font-weight: normal;\n\n  line-height: 14px;\n  margin-top: 2px;\n  opacity: 0.4;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachMiniApp/AttachMiniApp.css"],names:[],mappings:"AAAA,6BAA6B;AAC7B;EACE,aAAa;EACb,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;;EAEE,WAAW;EACX,eAAe;EACf,YAAY;;EAEZ,cAAc;EACd,sBAAsB;EACtB,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,QAAQ;EACR,OAAO;EACP,oBAAoB;;EAEpB,mBAAmB;EACnB,iDAAiD;AACnD;;AAEA;EACE,gBAAgB;;EAEhB,aAAa;EACb,uBAAuB;EACvB,sBAAsB;EACtB,uBAAuB;;EAEvB,gBAAgB;AAClB;;AAEA,6BAA6B;AAC7B;;EAEE,kBAAkB;EAClB,0BAA0B;;EAE1B,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,SAAS;AACX;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,mBAAmB;;EAEnB,iBAAiB;EACjB,eAAe;EACf,YAAY;AACd",sourcesContent:["/** Специфичность для vkcom */\n.AttachMiniApp.AttachMiniApp {\n  display: flex;\n  text-decoration: none;\n}\n\n.AttachMiniApp__cover {\n  position: relative;\n  user-select: none;\n}\n\n.AttachMiniApp__cover,\n.AttachMiniApp__coverImage {\n  width: 40px;\n  min-width: 40px;\n  height: 40px;\n\n  display: block;\n  box-sizing: border-box;\n  border-radius: 10px;\n}\n\n.AttachMiniApp__cover::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  pointer-events: none;\n\n  border-radius: 10px;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.08) inset;\n}\n\n.AttachMiniApp__fields {\n  margin-left: 8px;\n\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: flex-start;\n\n  overflow: hidden;\n}\n\n/** Специфичность для vkcom */\n.AttachMiniApp__fields .AttachMiniApp__fieldsTitle,\n.AttachMiniApp__fields .AttachMiniApp__fieldsDescription {\n  font-style: normal;\n  color: var(--text_primary);\n\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin: 0;\n}\n\n.AttachMiniApp__fieldsTitle {\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 16px;\n}\n\n.AttachMiniApp__fieldsDescription {\n  font-size: 12px;\n  font-weight: normal;\n\n  line-height: 14px;\n  margin-top: 2px;\n  opacity: 0.4;\n}\n"],sourceRoot:""}]);const s=a},7820:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachMiniCard {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'icon title'\n    'icon meta';\n  grid-template-columns: auto 1fr;\n  grid-template-rows: 1fr 1fr;\n  text-decoration: none;\n  color: var(--text_primary);\n  margin-right: calc(0.5 * var(--messageHorizontalIndent));\n}\n\n.AttachMiniCard__icon {\n  width: 40px;\n  height: 40px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n\n.AttachMiniCard__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachMiniCard__meta {\n  grid-area: meta;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachMiniCard/AttachMiniCard.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB;;eAEa;EACb,+BAA+B;EAC/B,2BAA2B;EAC3B,qBAAqB;EACrB,0BAA0B;EAC1B,wDAAwD;AAC1D;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,qDAAqD;EACrD,qCAAqC,EAAE,yBAAyB;EAChE,eAAe;EACf,wDAAwD;EACxD,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,4BAA4B,EAAE,yBAAyB;AACzD;;AAEA;EACE,gBAAgB;EAChB,uEAAuE;EACvE,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,mEAAmE;EACnE,4BAA4B;EAC5B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB",sourcesContent:[".AttachMiniCard {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'icon title'\n    'icon meta';\n  grid-template-columns: auto 1fr;\n  grid-template-rows: 1fr 1fr;\n  text-decoration: none;\n  color: var(--text_primary);\n  margin-right: calc(0.5 * var(--messageHorizontalIndent));\n}\n\n.AttachMiniCard__icon {\n  width: 40px;\n  height: 40px;\n  border-radius: calc(var(--messageBorderRadius) - 4px);\n  background: var(--background_content); /* @TODO: correct token */\n  grid-area: icon;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--im_attach_tint); /* @TODO: correct token */\n}\n\n.AttachMiniCard__title {\n  grid-area: title;\n  font: 500 var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-self: end;\n}\n\n.AttachMiniCard__meta {\n  grid-area: meta;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n"],sourceRoot:""}]);const s=a},9189:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachPhotos {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachPhotos--inBubble {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - 0.25 * var(--messageLineHeight)\n  );\n}\n\n.AttachPhotos__link {\n  margin: 0 0 1px;\n  max-width: 100%;\n}\n\n.AttachPhotos__link:last-child {\n  margin: 0;\n}\n\n.AttachPhotos__img {\n  display: block;\n  width: 100%;\n  border-radius: 2px;\n}\n\n.AttachPhotos__link:first-child .AttachPhotos__img {\n  border-top-left-radius: var(--borderRadius);\n  border-top-right-radius: var(--borderRadius);\n}\n\n.AttachPhotos__link:last-child .AttachPhotos__img {\n  border-bottom-right-radius: var(--borderRadius);\n  border-bottom-left-radius: var(--borderRadius);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachPhotos/AttachPhotos.css"],names:[],mappings:"AAAA;EACE,0CAA0C;;EAE1C,aAAa;EACb,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE;;GAEC;AACH;;AAEA;EACE,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,cAAc;EACd,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,2CAA2C;EAC3C,4CAA4C;AAC9C;;AAEA;EACE,+CAA+C;EAC/C,8CAA8C;AAChD",sourcesContent:[".AttachPhotos {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachPhotos--inBubble {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - 0.25 * var(--messageLineHeight)\n  );\n}\n\n.AttachPhotos__link {\n  margin: 0 0 1px;\n  max-width: 100%;\n}\n\n.AttachPhotos__link:last-child {\n  margin: 0;\n}\n\n.AttachPhotos__img {\n  display: block;\n  width: 100%;\n  border-radius: 2px;\n}\n\n.AttachPhotos__link:first-child .AttachPhotos__img {\n  border-top-left-radius: var(--borderRadius);\n  border-top-right-radius: var(--borderRadius);\n}\n\n.AttachPhotos__link:last-child .AttachPhotos__img {\n  border-bottom-right-radius: var(--borderRadius);\n  border-bottom-left-radius: var(--borderRadius);\n}\n"],sourceRoot:""}]);const s=a},71:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachSticker__static {\n  width: 100%;\n  height: 100%;\n}\n\n.AttachSticker--size-72 {\n  width: 72px;\n  height: 72px;\n}\n\n.AttachSticker--size-96 {\n  width: 96px;\n  height: 96px;\n}\n\n.AttachSticker--size-128 {\n  width: 128px;\n  height: 128px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachSticker/AttachSticker.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,aAAa;AACf",sourcesContent:[".AttachSticker__static {\n  width: 100%;\n  height: 100%;\n}\n\n.AttachSticker--size-72 {\n  width: 72px;\n  height: 72px;\n}\n\n.AttachSticker--size-96 {\n  width: 96px;\n  height: 96px;\n}\n\n.AttachSticker--size-128 {\n  width: 128px;\n  height: 128px;\n}\n"],sourceRoot:""}]);const s=a},7160:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachVideos {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachVideos__item {\n  --borderRadiusTop: var(--borderRadius);\n  --borderRadiusBottom: var(--borderRadius);\n\n  border-radius: var(--borderRadiusTop) var(--borderRadiusTop)\n    var(--borderRadiusBottom) var(--borderRadiusBottom);\n  overflow: hidden;\n}\n\n.AttachVideos__item + .AttachVideos__item {\n  margin-top: 2px;\n}\n\n.AttachVideos--inBubble .AttachVideos__item {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - var(--messageAttachmentIndent)\n  );\n}\n\n.AttachVideos--inBubble .AttachVideos__item:nth-child(n + 2) {\n  --borderRadiusTop: 0;\n}\n\n.AttachVideos--inBubble .AttachVideos__item:nth-last-child(n + 2) {\n  --borderRadiusBottom: 0;\n}\n\n.AttachVideos__video {\n  display: block;\n  position: relative;\n  width: 216px;\n  min-width: 100%;\n  height: 0;\n  background: center / cover no-repeat;\n}\n\n.AttachVideos__videoDuration {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  margin: 8px;\n  padding: 5px 8px;\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.4); /* @TODO: correct token */\n  color: #fff; /* @TODO: correct token */\n  font-size: 12px;\n  line-height: 1;\n}\n\n.AttachVideos__videoPlay {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 50px;\n  height: 50px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(0, 0, 0, 0.5); /* @TODO: correct token */\n  border-radius: 50%;\n  color: #fff; /* @TODO: correct token */\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachVideos/AttachVideos.css"],names:[],mappings:"AAAA;EACE,0CAA0C;;EAE1C,aAAa;EACb,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE,sCAAsC;EACtC,yCAAyC;;EAEzC;uDACqD;EACrD,gBAAgB;AAClB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE;;GAEC;AACH;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;EACZ,eAAe;EACf,SAAS;EACT,oCAAoC;AACtC;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,8BAA8B,EAAE,yBAAyB;EACzD,WAAW,EAAE,yBAAyB;EACtC,eAAe;EACf,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,QAAQ;EACR,SAAS;EACT,gCAAgC;EAChC,8BAA8B,EAAE,yBAAyB;EACzD,kBAAkB;EAClB,WAAW,EAAE,yBAAyB;AACxC",sourcesContent:[".AttachVideos {\n  --borderRadius: var(--messageBorderRadius);\n\n  display: flex;\n  flex-direction: column;\n  max-width: none;\n}\n\n.AttachVideos__item {\n  --borderRadiusTop: var(--borderRadius);\n  --borderRadiusBottom: var(--borderRadius);\n\n  border-radius: var(--borderRadiusTop) var(--borderRadiusTop)\n    var(--borderRadiusBottom) var(--borderRadiusBottom);\n  overflow: hidden;\n}\n\n.AttachVideos__item + .AttachVideos__item {\n  margin-top: 2px;\n}\n\n.AttachVideos--inBubble .AttachVideos__item {\n  --borderRadius: calc(\n    var(--messageBorderRadius) - var(--messageAttachmentIndent)\n  );\n}\n\n.AttachVideos--inBubble .AttachVideos__item:nth-child(n + 2) {\n  --borderRadiusTop: 0;\n}\n\n.AttachVideos--inBubble .AttachVideos__item:nth-last-child(n + 2) {\n  --borderRadiusBottom: 0;\n}\n\n.AttachVideos__video {\n  display: block;\n  position: relative;\n  width: 216px;\n  min-width: 100%;\n  height: 0;\n  background: center / cover no-repeat;\n}\n\n.AttachVideos__videoDuration {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  margin: 8px;\n  padding: 5px 8px;\n  border-radius: 3px;\n  background: rgba(0, 0, 0, 0.4); /* @TODO: correct token */\n  color: #fff; /* @TODO: correct token */\n  font-size: 12px;\n  line-height: 1;\n}\n\n.AttachVideos__videoPlay {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 50px;\n  height: 50px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(0, 0, 0, 0.5); /* @TODO: correct token */\n  border-radius: 50%;\n  color: #fff; /* @TODO: correct token */\n}\n"],sourceRoot:""}]);const s=a},178:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachVoice {\n  width: fit-content; /* с фиксированной шириной волны, кнопка расшифровки не должна улетать */\n  padding: 0 4px;\n}\n\n.AttachVoice__player {\n  display: flex; /* fallback */\n  display: grid;\n  grid-template:\n    'icon track button' 20px\n    'icon duration .' auto\n    / min-content auto min-content;\n  align-items: center;\n  cursor: pointer;\n}\n\n.AttachVoice__play {\n  grid-area: icon;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  background: none;\n  border: 0;\n  color: var(--accent);\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  outline: none;\n  cursor: pointer;\n}\n\n.AttachVoice__playIcon {\n  transition: all 0.14s;\n}\n\n.AttachVoice__play:active .AttachVoice__playIcon {\n  transform: scale(0.88);\n  opacity: 0.88;\n}\n\n.AttachVoice__track {\n  grid-area: track;\n  height: 12px;\n  position: relative;\n}\n\n.AttachVoice__track:empty::before {\n  content: 'This is a very long text that should take the whole available space so the maximum available space for the wave can be observed and used for the wave that is supposed to take all this space. Probably this should be even longer. Or maybe even a bit longer';\n  display: block;\n  color: transparent;\n  max-width: 100%;\n}\n\n.AttachVoice__svg {\n  display: block;\n  height: 12px;\n  max-width: 100%;\n}\n\n.AttachVoice__svg--shadow {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.AttachVoice__path,\n.AttachVoice__progress {\n  stroke-linejoin: round;\n  stroke-linecap: round;\n  fill: none;\n  stroke: var(--accent);\n}\n\n.AttachVoice--active .AttachVoice__path,\n.AttachVoice--active .AttachVoice__progress {\n  transition: clip-path 0.25s linear;\n}\n\n.AttachVoice--active .AttachVoice__path {\n  stroke: var(--accent);\n  opacity: 0.4;\n}\n\n.AttachVoice__asrButton {\n  grid-area: button;\n  margin-left: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 20px;\n  border: 0;\n  background: none;\n  border-radius: 8px;\n  color: var(--accent);\n  position: relative; /* for background pseudo */\n  isolation: isolate; /* stack for background pseudo */\n  cursor: pointer;\n}\n\n.AttachVoice__asrButton::before {\n  content: '';\n  border-radius: inherit;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: var(--accent);\n  opacity: 0.12;\n  transition: opacity 0.14s;\n  z-index: -1;\n}\n\n.AttachVoice__asrButton:hover::before,\n.AttachVoice__asrButton:focus::before {\n  opacity: 0.24;\n}\n\n.AttachVoice__asrButton--processing {\n  /* @TODO: анимация для состояния, когда для голосового ещё не сгенерирована транскрипция на сервере */\n}\n\n.AttachVoice__duration {\n  grid-area: duration;\n  font: 11px / 14px var(--font); /* @TODO разобраться с относительным размером */\n  color: var(--accent);\n}\n\n.AttachVoice__transcript {\n  margin-top: var(--messageVerticalIndent);\n  padding-left: 12px;\n  position: relative; /* anchors pseudo border */\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_primary);\n}\n\n.AttachVoice__transcript::before {\n  content: '';\n  width: 2px;\n  height: 100%;\n  border-radius: 1px;\n  background-color: var(--im_forward_line_tint);\n  position: absolute;\n  top: 0;\n  left: 2px;\n}\n\n.AttachVoice__transcriptEditedLabel {\n  color: var(--text_subhead);\n}\n\n.AttachVoice__transcriptStub {\n  opacity: 0.4;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachVoice/AttachVoice.css"],names:[],mappings:"AAAA;EACE,kBAAkB,EAAE,wEAAwE;EAC5F,cAAc;AAChB;;AAEA;EACE,aAAa,EAAE,aAAa;EAC5B,aAAa;EACb;;;kCAGgC;EAChC,mBAAmB;EACnB,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,SAAS;EACT,oBAAoB;EACpB,wDAAwD;EACxD,aAAa;EACb,eAAe;AACjB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,sBAAsB;EACtB,aAAa;AACf;;AAEA;EACE,gBAAgB;EAChB,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,yQAAyQ;EACzQ,cAAc;EACd,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;AACT;;AAEA;;EAEE,sBAAsB;EACtB,qBAAqB;EACrB,UAAU;EACV,qBAAqB;AACvB;;AAEA;;EAEE,kCAAkC;AACpC;;AAEA;EACE,qBAAqB;EACrB,YAAY;AACd;;AAEA;EACE,iBAAiB;EACjB,gBAAgB;EAChB,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,SAAS;EACT,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,kBAAkB,EAAE,0BAA0B;EAC9C,kBAAkB,EAAE,gCAAgC;EACpD,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,sBAAsB;EACtB,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,yBAAyB;EACzB,aAAa;EACb,yBAAyB;EACzB,WAAW;AACb;;AAEA;;EAEE,aAAa;AACf;;AAEA;EACE,qGAAqG;AACvG;;AAEA;EACE,mBAAmB;EACnB,6BAA6B,EAAE,+CAA+C;EAC9E,oBAAoB;AACtB;;AAEA;EACE,wCAAwC;EACxC,kBAAkB;EAClB,kBAAkB,EAAE,0BAA0B;EAC9C,mEAAmE;EACnE,0BAA0B;AAC5B;;AAEA;EACE,WAAW;EACX,UAAU;EACV,YAAY;EACZ,kBAAkB;EAClB,6CAA6C;EAC7C,kBAAkB;EAClB,MAAM;EACN,SAAS;AACX;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,YAAY;AACd",sourcesContent:[".AttachVoice {\n  width: fit-content; /* с фиксированной шириной волны, кнопка расшифровки не должна улетать */\n  padding: 0 4px;\n}\n\n.AttachVoice__player {\n  display: flex; /* fallback */\n  display: grid;\n  grid-template:\n    'icon track button' 20px\n    'icon duration .' auto\n    / min-content auto min-content;\n  align-items: center;\n  cursor: pointer;\n}\n\n.AttachVoice__play {\n  grid-area: icon;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  background: none;\n  border: 0;\n  color: var(--accent);\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n  outline: none;\n  cursor: pointer;\n}\n\n.AttachVoice__playIcon {\n  transition: all 0.14s;\n}\n\n.AttachVoice__play:active .AttachVoice__playIcon {\n  transform: scale(0.88);\n  opacity: 0.88;\n}\n\n.AttachVoice__track {\n  grid-area: track;\n  height: 12px;\n  position: relative;\n}\n\n.AttachVoice__track:empty::before {\n  content: 'This is a very long text that should take the whole available space so the maximum available space for the wave can be observed and used for the wave that is supposed to take all this space. Probably this should be even longer. Or maybe even a bit longer';\n  display: block;\n  color: transparent;\n  max-width: 100%;\n}\n\n.AttachVoice__svg {\n  display: block;\n  height: 12px;\n  max-width: 100%;\n}\n\n.AttachVoice__svg--shadow {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.AttachVoice__path,\n.AttachVoice__progress {\n  stroke-linejoin: round;\n  stroke-linecap: round;\n  fill: none;\n  stroke: var(--accent);\n}\n\n.AttachVoice--active .AttachVoice__path,\n.AttachVoice--active .AttachVoice__progress {\n  transition: clip-path 0.25s linear;\n}\n\n.AttachVoice--active .AttachVoice__path {\n  stroke: var(--accent);\n  opacity: 0.4;\n}\n\n.AttachVoice__asrButton {\n  grid-area: button;\n  margin-left: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 20px;\n  border: 0;\n  background: none;\n  border-radius: 8px;\n  color: var(--accent);\n  position: relative; /* for background pseudo */\n  isolation: isolate; /* stack for background pseudo */\n  cursor: pointer;\n}\n\n.AttachVoice__asrButton::before {\n  content: '';\n  border-radius: inherit;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: var(--accent);\n  opacity: 0.12;\n  transition: opacity 0.14s;\n  z-index: -1;\n}\n\n.AttachVoice__asrButton:hover::before,\n.AttachVoice__asrButton:focus::before {\n  opacity: 0.24;\n}\n\n.AttachVoice__asrButton--processing {\n  /* @TODO: анимация для состояния, когда для голосового ещё не сгенерирована транскрипция на сервере */\n}\n\n.AttachVoice__duration {\n  grid-area: duration;\n  font: 11px / 14px var(--font); /* @TODO разобраться с относительным размером */\n  color: var(--accent);\n}\n\n.AttachVoice__transcript {\n  margin-top: var(--messageVerticalIndent);\n  padding-left: 12px;\n  position: relative; /* anchors pseudo border */\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_primary);\n}\n\n.AttachVoice__transcript::before {\n  content: '';\n  width: 2px;\n  height: 100%;\n  border-radius: 1px;\n  background-color: var(--im_forward_line_tint);\n  position: absolute;\n  top: 0;\n  left: 2px;\n}\n\n.AttachVoice__transcriptEditedLabel {\n  color: var(--text_subhead);\n}\n\n.AttachVoice__transcriptStub {\n  opacity: 0.4;\n}\n"],sourceRoot:""}]);const s=a},9263:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AttachWall {\n  position: relative;\n  margin-top: var(--messageVerticalIndent);\n  padding: 0 0 0 var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.AttachWall::before {\n  border-radius: 1px 1px 0 0;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 2px;\n  content: '';\n  background: var(--im_forward_line_tint);\n}\n\n.AttachWall__link {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.AttachWall__link:hover {\n  text-decoration: underline;\n}\n\n.AttachWall__link--post {\n  border: 1px solid var(--text_link);\n  width: 100%;\n  border-radius: 4px;\n  padding: 4px 30px;\n  font: 500 13px / 16px var(--font);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: var(--messageHorizontalIndent);\n}\n\n.AttachWall__link--post:hover {\n  text-decoration: none;\n}\n\n.AttachWall__link--text {\n  padding: 1px 0;\n}\n\n.AttachWall__info {\n  font: 500 12px / 14px var(--font);\n  letter-spacing: 0.005em;\n  color: var(--text_primary);\n  opacity: 0.4;\n}\n\n.AttachWall__info--with-message {\n  margin-top: calc(0.5 * var(--messageHorizontalIndent));\n}\n\n.AttachWall__header {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'avatar title'\n    'avatar date';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  margin-bottom: var(--messageVerticalIndent);\n}\n\n.AttachWall__avatar {\n  grid-area: avatar;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n}\n\n.AttachWall__titleLink {\n  grid-area: title;\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.AttachWall__date {\n  grid-area: date;\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.AttachWall__message {\n  display: block;\n  margin-bottom: var(--messageHorizontalIndent);\n}\n\n.AttachWall__attaches {\n  max-width: none;\n  display: grid;\n  grid-template-columns: 100%;\n  gap: calc(0.5 * var(--messageVerticalIndent));\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AttachWall/AttachWall.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,wCAAwC;EACxC,6CAA6C;EAC7C,mEAAmE;AACrE;;AAEA;EACE,0BAA0B;EAC1B,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,UAAU;EACV,WAAW;EACX,uCAAuC;AACzC;;AAEA;EACE,qBAAqB;EACrB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,kCAAkC;EAClC,WAAW;EACX,kBAAkB;EAClB,iBAAiB;EACjB,iCAAiC;EACjC,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,0CAA0C;AAC5C;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,iCAAiC;EACjC,uBAAuB;EACvB,0BAA0B;EAC1B,YAAY;AACd;;AAEA;EACE,sDAAsD;AACxD;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB;;iBAEe;EACf,oCAAoC;EACpC,2BAA2B;EAC3B,2CAA2C;AAC7C;;AAEA;EACE,iBAAiB;EACjB,wDAAwD;AAC1D;;AAEA;EACE,gBAAgB;EAChB,uBAAuB;EACvB,sEAAsE;EACtE,qBAAqB;EACrB,uBAAuB;EACvB,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,4BAA4B;EAC5B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,6CAA6C;AAC/C;;AAEA;EACE,eAAe;EACf,aAAa;EACb,2BAA2B;EAC3B,6CAA6C;AAC/C",sourcesContent:[".AttachWall {\n  position: relative;\n  margin-top: var(--messageVerticalIndent);\n  padding: 0 0 0 var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.AttachWall::before {\n  border-radius: 1px 1px 0 0;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 2px;\n  content: '';\n  background: var(--im_forward_line_tint);\n}\n\n.AttachWall__link {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.AttachWall__link:hover {\n  text-decoration: underline;\n}\n\n.AttachWall__link--post {\n  border: 1px solid var(--text_link);\n  width: 100%;\n  border-radius: 4px;\n  padding: 4px 30px;\n  font: 500 13px / 16px var(--font);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: var(--messageHorizontalIndent);\n}\n\n.AttachWall__link--post:hover {\n  text-decoration: none;\n}\n\n.AttachWall__link--text {\n  padding: 1px 0;\n}\n\n.AttachWall__info {\n  font: 500 12px / 14px var(--font);\n  letter-spacing: 0.005em;\n  color: var(--text_primary);\n  opacity: 0.4;\n}\n\n.AttachWall__info--with-message {\n  margin-top: calc(0.5 * var(--messageHorizontalIndent));\n}\n\n.AttachWall__header {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'avatar title'\n    'avatar date';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  margin-bottom: var(--messageVerticalIndent);\n}\n\n.AttachWall__avatar {\n  grid-area: avatar;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n}\n\n.AttachWall__titleLink {\n  grid-area: title;\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.AttachWall__date {\n  grid-area: date;\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.AttachWall__message {\n  display: block;\n  margin-bottom: var(--messageHorizontalIndent);\n}\n\n.AttachWall__attaches {\n  max-width: none;\n  display: grid;\n  grid-template-columns: 100%;\n  gap: calc(0.5 * var(--messageVerticalIndent));\n}\n"],sourceRoot:""}]);const s=a},443:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Attachments {\n  max-width: none;\n  display: grid;\n  grid-template-columns: 100%;\n  gap: calc(0.5 * var(--messageVerticalIndent));\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Attachments/Attachments.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,aAAa;EACb,2BAA2B;EAC3B,6CAA6C;AAC/C",sourcesContent:[".Attachments {\n  max-width: none;\n  display: grid;\n  grid-template-columns: 100%;\n  gap: calc(0.5 * var(--messageVerticalIndent));\n}\n"],sourceRoot:""}]);const s=a},6355:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".MEAvatar {\n  position: relative;\n  text-align: center;\n  border-radius: 50%;\n  flex: 0 0 auto;\n}\n\n.MEAvatar__imgWrapper {\n  width: 100%;\n  height: 100%;\n  border-radius: inherit;\n  z-index: 0; /* stack for activity indicator */\n}\n\n.MEAvatar__img {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: inherit;\n}\n\n.MEAvatar__activityIndicator,\n.MEAvatar__imgWrapper::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-radius: inherit;\n}\n\n.MEAvatar__activityIndicator {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff; /* @TODO: correct token */\n  z-index: 1; /* pops indicator on top of underlay */\n}\n\n/* animatable underlay for indicator */\n.MEAvatar__imgWrapper::after {\n  content: '';\n  background: rgba(0, 0, 0, 0.4); /* @TODO: correct token */\n  opacity: 0;\n  transition: opacity 0.14s ease;\n}\n\n.MEAvatar--withActivity .MEAvatar__imgWrapper::after {\n  opacity: 1;\n}\n\n.MEAvatar__svg {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  visibility: visible;\n}\n\n.MEAvatar__shadow {\n  fill: none;\n  stroke: rgba(0, 0, 0, 0.08); /* @TODO: correct token */\n  stroke-width: 2px;\n}\n\n.MEAvatar__me {\n  position: absolute;\n  right: 2px;\n  bottom: 2px;\n  width: 10px;\n  height: 10px;\n  fill: #2787f5; /* @TODO: correct token */\n}\n\n.MEAvatar--size-24 .MEAvatar__me,\n.MEAvatar--size-32 .MEAvatar__me {\n  right: 0;\n  bottom: 0;\n}\n\n.MEAvatar__mobile {\n  color: #4bb34b; /* @TODO: correct token -- designers */\n  position: absolute;\n  right: 3px;\n  bottom: 1px;\n}\n\n.MEAvatar--size-40 .MEAvatar__mobile {\n  right: 2px;\n}\n\n.MEAvatar--size-32 .MEAvatar__mobile {\n  right: 1px;\n  bottom: -1px;\n}\n\n.MEAvatar--size-24 .MEAvatar__mobile {\n  right: 0;\n  bottom: -1px;\n}\n\n.MEAvatar__online {\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  background-color: #4bb34b; /* @TODO: correct token -- designers */\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n}\n\n.MEAvatar--size-32 .MEAvatar__online {\n  right: 1px;\n  bottom: 1px;\n}\n\n.MEAvatar--size-24 .MEAvatar__online {\n  right: 0;\n  bottom: 0;\n}\n\n.MEAvatar__call {\n  position: absolute;\n  top: 1px;\n  right: -3px;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #50c750, #32b332);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.MEAvatar--emptyCall .MEAvatar__call {\n  background: linear-gradient(135deg, #b1b6bd, #99a2ad);\n}\n\n.MEAvatar--size-40 .MEAvatar__call,\n.MEAvatar--size-32 .MEAvatar__call {\n  top: 0;\n}\n\n.MEAvatar__callIcon {\n  width: 10px;\n  height: 10px;\n  fill: #fff; /* @TODO: correct token */\n}\n\n@media not all and (min-resolution: 0.001dpcm) {\n  @supports (-webkit-appearance: none) {\n    .MEAvatar {\n      transform: translate3d(0, 0, 0); /* Хак для сафари */\n    }\n  }\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Avatar/Avatar.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,kBAAkB;EAClB,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,UAAU,EAAE,iCAAiC;AAC/C;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,sBAAsB;AACxB;;AAEA;;EAEE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW,EAAE,yBAAyB;EACtC,UAAU,EAAE,sCAAsC;AACpD;;AAEA,sCAAsC;AACtC;EACE,WAAW;EACX,8BAA8B,EAAE,yBAAyB;EACzD,UAAU;EACV,8BAA8B;AAChC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,UAAU;EACV,mBAAmB;AACrB;;AAEA;EACE,UAAU;EACV,2BAA2B,EAAE,yBAAyB;EACtD,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,WAAW;EACX,YAAY;EACZ,aAAa,EAAE,yBAAyB;AAC1C;;AAEA;;EAEE,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,cAAc,EAAE,sCAAsC;EACtD,kBAAkB;EAClB,UAAU;EACV,WAAW;AACb;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,UAAU;EACV,YAAY;AACd;;AAEA;EACE,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,yBAAyB,EAAE,sCAAsC;EACjE,UAAU;EACV,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,UAAU;EACV,WAAW;AACb;;AAEA;EACE,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,WAAW;EACX,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,qDAAqD;EACrD,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,qDAAqD;AACvD;;AAEA;;EAEE,MAAM;AACR;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,UAAU,EAAE,yBAAyB;AACvC;;AAEA;EACE;IACE;MACE,+BAA+B,EAAE,mBAAmB;IACtD;EACF;AACF",sourcesContent:[".MEAvatar {\n  position: relative;\n  text-align: center;\n  border-radius: 50%;\n  flex: 0 0 auto;\n}\n\n.MEAvatar__imgWrapper {\n  width: 100%;\n  height: 100%;\n  border-radius: inherit;\n  z-index: 0; /* stack for activity indicator */\n}\n\n.MEAvatar__img {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: inherit;\n}\n\n.MEAvatar__activityIndicator,\n.MEAvatar__imgWrapper::after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-radius: inherit;\n}\n\n.MEAvatar__activityIndicator {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff; /* @TODO: correct token */\n  z-index: 1; /* pops indicator on top of underlay */\n}\n\n/* animatable underlay for indicator */\n.MEAvatar__imgWrapper::after {\n  content: '';\n  background: rgba(0, 0, 0, 0.4); /* @TODO: correct token */\n  opacity: 0;\n  transition: opacity 0.14s ease;\n}\n\n.MEAvatar--withActivity .MEAvatar__imgWrapper::after {\n  opacity: 1;\n}\n\n.MEAvatar__svg {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  visibility: visible;\n}\n\n.MEAvatar__shadow {\n  fill: none;\n  stroke: rgba(0, 0, 0, 0.08); /* @TODO: correct token */\n  stroke-width: 2px;\n}\n\n.MEAvatar__me {\n  position: absolute;\n  right: 2px;\n  bottom: 2px;\n  width: 10px;\n  height: 10px;\n  fill: #2787f5; /* @TODO: correct token */\n}\n\n.MEAvatar--size-24 .MEAvatar__me,\n.MEAvatar--size-32 .MEAvatar__me {\n  right: 0;\n  bottom: 0;\n}\n\n.MEAvatar__mobile {\n  color: #4bb34b; /* @TODO: correct token -- designers */\n  position: absolute;\n  right: 3px;\n  bottom: 1px;\n}\n\n.MEAvatar--size-40 .MEAvatar__mobile {\n  right: 2px;\n}\n\n.MEAvatar--size-32 .MEAvatar__mobile {\n  right: 1px;\n  bottom: -1px;\n}\n\n.MEAvatar--size-24 .MEAvatar__mobile {\n  right: 0;\n  bottom: -1px;\n}\n\n.MEAvatar__online {\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  background-color: #4bb34b; /* @TODO: correct token -- designers */\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n}\n\n.MEAvatar--size-32 .MEAvatar__online {\n  right: 1px;\n  bottom: 1px;\n}\n\n.MEAvatar--size-24 .MEAvatar__online {\n  right: 0;\n  bottom: 0;\n}\n\n.MEAvatar__call {\n  position: absolute;\n  top: 1px;\n  right: -3px;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #50c750, #32b332);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.MEAvatar--emptyCall .MEAvatar__call {\n  background: linear-gradient(135deg, #b1b6bd, #99a2ad);\n}\n\n.MEAvatar--size-40 .MEAvatar__call,\n.MEAvatar--size-32 .MEAvatar__call {\n  top: 0;\n}\n\n.MEAvatar__callIcon {\n  width: 10px;\n  height: 10px;\n  fill: #fff; /* @TODO: correct token */\n}\n\n@media not all and (min-resolution: 0.001dpcm) {\n  @supports (-webkit-appearance: none) {\n    .MEAvatar {\n      transform: translate3d(0, 0, 0); /* Хак для сафари */\n    }\n  }\n}\n"],sourceRoot:""}]);const s=a},522:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AvatarFavorites {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(91.54deg, #70b2ff, #5c9ce6);\n  border-radius: 50%;\n  color: #fff; /* @TODO: correct token */\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AvatarFavorites/AvatarFavorites.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,uDAAuD;EACvD,kBAAkB;EAClB,WAAW,EAAE,yBAAyB;AACxC",sourcesContent:[".AvatarFavorites {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(91.54deg, #70b2ff, #5c9ce6);\n  border-radius: 50%;\n  color: #fff; /* @TODO: correct token */\n}\n"],sourceRoot:""}]);const s=a},6661:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AvatarNoPhoto {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff; /* @TODO: correct token */\n  border-radius: 50%;\n  font: 600 18px/16px var(--font);\n}\n\n.AvatarNoPhoto--color-0 {\n  background: radial-gradient(circle at center 0px, #ff6952, #e6404b);\n}\n.AvatarNoPhoto--color-1 {\n  background: radial-gradient(circle at center 0px, #ffb829, #fa7f14);\n}\n.AvatarNoPhoto--color-2 {\n  background: radial-gradient(circle at center 0px, #ffdc50, #f2b40b);\n}\n.AvatarNoPhoto--color-3 {\n  background: radial-gradient(circle at center 0px, #78e070, #46b864);\n}\n.AvatarNoPhoto--color-4 {\n  background: radial-gradient(circle at center 0px, #78f1fa, #46bddb);\n}\n.AvatarNoPhoto--color-5 {\n  background: radial-gradient(circle at center 0px, #e664fa, #a73ddb);\n}\n.AvatarNoPhoto--color-mr {\n  background: radial-gradient(circle at center 0px, #66ccff, #3f8ae0);\n}\n.AvatarNoPhoto--color-ext {\n  background: radial-gradient(circle at center 0px, #bac2cc, #8c97a3);\n}\n\n.AvatarNoPhoto--size-24 {\n  width: 24px;\n  height: 24px;\n  font-size: 11px;\n  line-height: 15px;\n}\n\n.AvatarNoPhoto--size-32 {\n  width: 32px;\n  height: 32px;\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.AvatarNoPhoto--size-34 {\n  width: 34px;\n  height: 34px;\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.AvatarNoPhoto--size-40 {\n  width: 40px;\n  height: 40px;\n  font-size: 14px;\n}\n\n.AvatarNoPhoto--size-44 {\n  width: 44px;\n  height: 44px;\n  font-size: 15px;\n}\n\n.AvatarNoPhoto--size-46 {\n  width: 46px;\n  height: 46px;\n  font-size: 16px;\n}\n\n.AvatarNoPhoto--size-48 {\n  width: 48px;\n  height: 48px;\n  font-size: 16px;\n}\n\n.AvatarNoPhoto--size-50 {\n  width: 50px;\n  height: 50px;\n  font-size: 17px;\n}\n\n.AvatarNoPhoto--size-56 {\n  width: 56px;\n  height: 56px;\n  font-size: 17px;\n}\n\n.AvatarNoPhoto--size-64 {\n  width: 64px;\n  height: 64px;\n  font-size: 19px;\n}\n\n.AvatarNoPhoto--size-72 {\n  width: 72px;\n  height: 72px;\n  font-size: 26px;\n}\n\n.AvatarNoPhoto--size-80 {\n  width: 80px;\n  height: 80px;\n  font-size: 28px;\n}\n\n.AvatarNoPhoto--size-100 {\n  width: 100px;\n  height: 100px;\n  font-size: 34px;\n}\n\n.AvatarNoPhoto--size-160 {\n  width: 160px;\n  height: 160px;\n  font-size: 54px;\n}\n\n.AvatarNoPhoto--size-200 {\n  width: 200px;\n  height: 200px;\n  font-size: 67px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AvatarNoPhoto/AvatarNoPhoto.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW,EAAE,yBAAyB;EACtC,kBAAkB;EAClB,+BAA+B;AACjC;;AAEA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;AACA;EACE,mEAAmE;AACrE;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,eAAe;AACjB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,eAAe;AACjB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,eAAe;AACjB",sourcesContent:[".AvatarNoPhoto {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff; /* @TODO: correct token */\n  border-radius: 50%;\n  font: 600 18px/16px var(--font);\n}\n\n.AvatarNoPhoto--color-0 {\n  background: radial-gradient(circle at center 0px, #ff6952, #e6404b);\n}\n.AvatarNoPhoto--color-1 {\n  background: radial-gradient(circle at center 0px, #ffb829, #fa7f14);\n}\n.AvatarNoPhoto--color-2 {\n  background: radial-gradient(circle at center 0px, #ffdc50, #f2b40b);\n}\n.AvatarNoPhoto--color-3 {\n  background: radial-gradient(circle at center 0px, #78e070, #46b864);\n}\n.AvatarNoPhoto--color-4 {\n  background: radial-gradient(circle at center 0px, #78f1fa, #46bddb);\n}\n.AvatarNoPhoto--color-5 {\n  background: radial-gradient(circle at center 0px, #e664fa, #a73ddb);\n}\n.AvatarNoPhoto--color-mr {\n  background: radial-gradient(circle at center 0px, #66ccff, #3f8ae0);\n}\n.AvatarNoPhoto--color-ext {\n  background: radial-gradient(circle at center 0px, #bac2cc, #8c97a3);\n}\n\n.AvatarNoPhoto--size-24 {\n  width: 24px;\n  height: 24px;\n  font-size: 11px;\n  line-height: 15px;\n}\n\n.AvatarNoPhoto--size-32 {\n  width: 32px;\n  height: 32px;\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.AvatarNoPhoto--size-34 {\n  width: 34px;\n  height: 34px;\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.AvatarNoPhoto--size-40 {\n  width: 40px;\n  height: 40px;\n  font-size: 14px;\n}\n\n.AvatarNoPhoto--size-44 {\n  width: 44px;\n  height: 44px;\n  font-size: 15px;\n}\n\n.AvatarNoPhoto--size-46 {\n  width: 46px;\n  height: 46px;\n  font-size: 16px;\n}\n\n.AvatarNoPhoto--size-48 {\n  width: 48px;\n  height: 48px;\n  font-size: 16px;\n}\n\n.AvatarNoPhoto--size-50 {\n  width: 50px;\n  height: 50px;\n  font-size: 17px;\n}\n\n.AvatarNoPhoto--size-56 {\n  width: 56px;\n  height: 56px;\n  font-size: 17px;\n}\n\n.AvatarNoPhoto--size-64 {\n  width: 64px;\n  height: 64px;\n  font-size: 19px;\n}\n\n.AvatarNoPhoto--size-72 {\n  width: 72px;\n  height: 72px;\n  font-size: 26px;\n}\n\n.AvatarNoPhoto--size-80 {\n  width: 80px;\n  height: 80px;\n  font-size: 28px;\n}\n\n.AvatarNoPhoto--size-100 {\n  width: 100px;\n  height: 100px;\n  font-size: 34px;\n}\n\n.AvatarNoPhoto--size-160 {\n  width: 160px;\n  height: 160px;\n  font-size: 54px;\n}\n\n.AvatarNoPhoto--size-200 {\n  width: 200px;\n  height: 200px;\n  font-size: 67px;\n}\n"],sourceRoot:""}]);const s=a},4802:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".AvatarSimple {\n  position: relative;\n  text-align: center;\n  border-radius: 50%;\n  overflow: hidden;\n  display: flex;\n}\n\n.AvatarSimple--size-24 {\n  width: 24px;\n  height: 24px;\n}\n.AvatarSimple--size-32 {\n  width: 32px;\n  height: 32px;\n}\n.AvatarSimple--size-40 {\n  width: 40px;\n  height: 40px;\n}\n.AvatarSimple--size-44 {\n  width: 44px;\n  height: 44px;\n}\n.AvatarSimple--size-46 {\n  width: 46px;\n  height: 46px;\n}\n.AvatarSimple--size-64 {\n  width: 64px;\n  height: 64px;\n}\n.AvatarSimple--size-80 {\n  width: 80px;\n  height: 80px;\n}\n\n.AvatarSimple__img {\n  width: 100%;\n  height: auto;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/AvatarSimple/AvatarSimple.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,kBAAkB;EAClB,kBAAkB;EAClB,gBAAgB;EAChB,aAAa;AACf;;AAEA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;EACX,YAAY;AACd",sourcesContent:[".AvatarSimple {\n  position: relative;\n  text-align: center;\n  border-radius: 50%;\n  overflow: hidden;\n  display: flex;\n}\n\n.AvatarSimple--size-24 {\n  width: 24px;\n  height: 24px;\n}\n.AvatarSimple--size-32 {\n  width: 32px;\n  height: 32px;\n}\n.AvatarSimple--size-40 {\n  width: 40px;\n  height: 40px;\n}\n.AvatarSimple--size-44 {\n  width: 44px;\n  height: 44px;\n}\n.AvatarSimple--size-46 {\n  width: 46px;\n  height: 46px;\n}\n.AvatarSimple--size-64 {\n  width: 64px;\n  height: 64px;\n}\n.AvatarSimple--size-80 {\n  width: 80px;\n  height: 80px;\n}\n\n.AvatarSimple__img {\n  width: 100%;\n  height: auto;\n}\n"],sourceRoot:""}]);const s=a},8238:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".BotButton__linkButton,\n.BotButton__linkButton:hover {\n  text-decoration: none;\n}\n\n.BotButton__vkpay {\n  display: flex;\n  align-items: center;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/BotButton/BotButton.css"],names:[],mappings:"AAAA;;EAEE,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB",sourcesContent:[".BotButton__linkButton,\n.BotButton__linkButton:hover {\n  text-decoration: none;\n}\n\n.BotButton__vkpay {\n  display: flex;\n  align-items: center;\n}\n"],sourceRoot:""}]);const s=a},1260:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".BotKeyboard--full {\n  padding: 8px;\n  border-top: 1px solid var(--separator_alternate);\n  max-height: 210px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.BotKeyboard--inline {\n  padding-top: 8px;\n  margin-left: calc(\n    var(--messageKeyboardIndent) - var(--messageHorizontalIndent)\n  );\n  margin-right: calc(\n    var(--messageKeyboardIndent) - var(--messageHorizontalIndent)\n  );\n  display: flex;\n  flex-direction: column;\n}\n\n.BotKeyboard__row {\n  display: flex;\n  margin-bottom: 8px;\n}\n\n.BotKeyboard--inline .BotKeyboard__row {\n  display: grid;\n  gap: 8px;\n  grid-template-columns: 1fr 1fr;\n}\n\n.BotKeyboard--inline .BotKeyboard__button:last-child:nth-child(odd) {\n  grid-column: 1/3;\n}\n\n.BotKeyboard__row:last-child {\n  margin-bottom: 0;\n}\n\n.BotKeyboard__button {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  width: 100%;\n}\n\n.BotKeyboard__button:not(:last-child) {\n  margin-right: 8px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/BotKeyboard/BotKeyboard.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,gDAAgD;EAChD,iBAAiB;EACjB,gBAAgB;EAChB,kBAAkB;EAClB,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB;;GAEC;EACD;;GAEC;EACD,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,QAAQ;EACR,8BAA8B;AAChC;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,uBAAuB;EACvB,gBAAgB;EAChB,WAAW;AACb;;AAEA;EACE,iBAAiB;AACnB",sourcesContent:[".BotKeyboard--full {\n  padding: 8px;\n  border-top: 1px solid var(--separator_alternate);\n  max-height: 210px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.BotKeyboard--inline {\n  padding-top: 8px;\n  margin-left: calc(\n    var(--messageKeyboardIndent) - var(--messageHorizontalIndent)\n  );\n  margin-right: calc(\n    var(--messageKeyboardIndent) - var(--messageHorizontalIndent)\n  );\n  display: flex;\n  flex-direction: column;\n}\n\n.BotKeyboard__row {\n  display: flex;\n  margin-bottom: 8px;\n}\n\n.BotKeyboard--inline .BotKeyboard__row {\n  display: grid;\n  gap: 8px;\n  grid-template-columns: 1fr 1fr;\n}\n\n.BotKeyboard--inline .BotKeyboard__button:last-child:nth-child(odd) {\n  grid-column: 1/3;\n}\n\n.BotKeyboard__row:last-child {\n  margin-bottom: 0;\n}\n\n.BotKeyboard__button {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  width: 100%;\n}\n\n.BotKeyboard__button:not(:last-child) {\n  margin-right: 8px;\n}\n"],sourceRoot:""}]);const s=a},5946:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".BotTemplateControls {\n  padding: 8px;\n  border-radius: 14px;\n  background: var(--im_bubble_incoming);\n  overflow: hidden;\n  width: 260px;\n  text-decoration: none;\n  min-height: 118px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.BotTemplateControls__photo {\n  margin: -8px -8px 0 -8px;\n  width: 260px;\n  height: 158px;\n  background-size: cover;\n  margin-bottom: 8px;\n}\n\n.BotTemplateControls__title {\n  margin-bottom: 4px;\n}\n\n.BotTemplateControls__description {\n  margin-bottom: 8px;\n  color: var(--text_subhead);\n}\n\n.BotTemplateControls__button:not(:last-child) {\n  margin-bottom: 8px;\n}\n\n.BotTemplateControls__link,\n.BotTemplateControls__link:hover {\n  text-decoration: none;\n  color: inherit;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/BotTemplateControls/BotTemplateControls.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,mBAAmB;EACnB,qCAAqC;EACrC,gBAAgB;EAChB,YAAY;EACZ,qBAAqB;EACrB,iBAAiB;EACjB,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,wBAAwB;EACxB,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,0BAA0B;AAC5B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;;EAEE,qBAAqB;EACrB,cAAc;AAChB",sourcesContent:[".BotTemplateControls {\n  padding: 8px;\n  border-radius: 14px;\n  background: var(--im_bubble_incoming);\n  overflow: hidden;\n  width: 260px;\n  text-decoration: none;\n  min-height: 118px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.BotTemplateControls__photo {\n  margin: -8px -8px 0 -8px;\n  width: 260px;\n  height: 158px;\n  background-size: cover;\n  margin-bottom: 8px;\n}\n\n.BotTemplateControls__title {\n  margin-bottom: 4px;\n}\n\n.BotTemplateControls__description {\n  margin-bottom: 8px;\n  color: var(--text_subhead);\n}\n\n.BotTemplateControls__button:not(:last-child) {\n  margin-bottom: 8px;\n}\n\n.BotTemplateControls__link,\n.BotTemplateControls__link:hover {\n  text-decoration: none;\n  color: inherit;\n}\n"],sourceRoot:""}]);const s=a},6058:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".BotTemplateList {\n  width: 310px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n\n.BotTemplateList__wrapper {\n  display: flex;\n}\n\n.BotTemplateList__item {\n  flex-shrink: 0;\n  margin-right: 4px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/BotTemplateControls/BotTemplateList.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;EACd,iBAAiB;AACnB",sourcesContent:[".BotTemplateList {\n  width: 310px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n\n.BotTemplateList__wrapper {\n  display: flex;\n}\n\n.BotTemplateList__item {\n  flex-shrink: 0;\n  margin-right: 4px;\n}\n"],sourceRoot:""}]);const s=a},7238:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Clip {\n  width: 44px;\n  height: 43px;\n  background: transparent;\n  border: 0;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: left;\n  color: var(--icon_outline_secondary);\n  flex: 0 0 43px;\n}\n\n.Clip__dropdown {\n  position: absolute;\n  left: -6px;\n  bottom: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  background: var(--background_content);\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  border-radius: 8px;\n  padding: 4px 0;\n  max-width: none;\n  animation: fadeIn 0.2s ease;\n  min-width: 120px;\n}\n\n.Clip__button {\n  display: flex;\n  background: transparent;\n  border: 0;\n  height: 32px;\n  padding: 0 20px 0 0;\n  cursor: pointer;\n  outline: none;\n  align-items: center;\n  justify-content: flex-start;\n  font: 13px/16px var(--font);\n  transition: background 0.2s ease;\n}\n\n.Clip__button:hover,\n.Clip__button:focus {\n  background: var(--content_tint_background);\n}\n\n.Clip__buttonIcon {\n  flex: 0 0 38px;\n  width: 38px;\n  color: var(--icon_outline_medium);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    visibility: hidden;\n  }\n  to {\n    opacity: 1;\n    visibility: visible;\n  }\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Clip/Clip.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,uBAAuB;EACvB,SAAS;EACT,eAAe;EACf,aAAa;EACb,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;EAChB,oCAAoC;EACpC,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,wBAAwB;EACxB,qCAAqC;EACrC,0CAA0C;EAC1C,kBAAkB;EAClB,cAAc;EACd,eAAe;EACf,2BAA2B;EAC3B,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,SAAS;EACT,YAAY;EACZ,mBAAmB;EACnB,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,2BAA2B;EAC3B,2BAA2B;EAC3B,gCAAgC;AAClC;;AAEA;;EAEE,0CAA0C;AAC5C;;AAEA;EACE,cAAc;EACd,WAAW;EACX,iCAAiC;EACjC,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE;IACE,UAAU;IACV,kBAAkB;EACpB;EACA;IACE,UAAU;IACV,mBAAmB;EACrB;AACF",sourcesContent:[".Clip {\n  width: 44px;\n  height: 43px;\n  background: transparent;\n  border: 0;\n  cursor: pointer;\n  outline: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: left;\n  color: var(--icon_outline_secondary);\n  flex: 0 0 43px;\n}\n\n.Clip__dropdown {\n  position: absolute;\n  left: -6px;\n  bottom: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: stretch;\n  background: var(--background_content);\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);\n  border-radius: 8px;\n  padding: 4px 0;\n  max-width: none;\n  animation: fadeIn 0.2s ease;\n  min-width: 120px;\n}\n\n.Clip__button {\n  display: flex;\n  background: transparent;\n  border: 0;\n  height: 32px;\n  padding: 0 20px 0 0;\n  cursor: pointer;\n  outline: none;\n  align-items: center;\n  justify-content: flex-start;\n  font: 13px/16px var(--font);\n  transition: background 0.2s ease;\n}\n\n.Clip__button:hover,\n.Clip__button:focus {\n  background: var(--content_tint_background);\n}\n\n.Clip__buttonIcon {\n  flex: 0 0 38px;\n  width: 38px;\n  color: var(--icon_outline_medium);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    visibility: hidden;\n  }\n  to {\n    opacity: 1;\n    visibility: visible;\n  }\n}\n"],sourceRoot:""}]);const s=a},9689:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ComposerAttachCard {\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  background: var(--im_bubble_incoming);\n  font-size: 13px;\n  line-height: 16px;\n  padding: 6px 0 6px 6px;\n  position: relative;\n  overflow: hidden;\n  cursor: default;\n}\n\n.ComposerAttachCard__icon {\n  width: 20px;\n  height: 20px;\n  margin-bottom: 4px;\n  color: var(--icon_secondary);\n}\n\n.ComposerAttachCard__overflow {\n  white-space: nowrap;\n  color: transparent;\n  background: linear-gradient(\n    to right,\n    var(--text_primary),\n    var(--text_primary) calc(100% - 15px),\n    transparent calc(100% - 3px)\n  );\n  background-clip: text;\n  -webkit-background-clip: text;\n}\n\n.ComposerAttachCard__main {\n  font-weight: 500;\n}\n\n.ComposerAttachCard__secondary {\n  opacity: 0.4;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ComposerAttachCard/ComposerAttachCard.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,qCAAqC;EACrC,eAAe;EACf,iBAAiB;EACjB,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,4BAA4B;AAC9B;;AAEA;EACE,mBAAmB;EACnB,kBAAkB;EAClB;;;;;GAKC;EACD,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,YAAY;AACd",sourcesContent:[".ComposerAttachCard {\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  background: var(--im_bubble_incoming);\n  font-size: 13px;\n  line-height: 16px;\n  padding: 6px 0 6px 6px;\n  position: relative;\n  overflow: hidden;\n  cursor: default;\n}\n\n.ComposerAttachCard__icon {\n  width: 20px;\n  height: 20px;\n  margin-bottom: 4px;\n  color: var(--icon_secondary);\n}\n\n.ComposerAttachCard__overflow {\n  white-space: nowrap;\n  color: transparent;\n  background: linear-gradient(\n    to right,\n    var(--text_primary),\n    var(--text_primary) calc(100% - 15px),\n    transparent calc(100% - 3px)\n  );\n  background-clip: text;\n  -webkit-background-clip: text;\n}\n\n.ComposerAttachCard__main {\n  font-weight: 500;\n}\n\n.ComposerAttachCard__secondary {\n  opacity: 0.4;\n}\n"],sourceRoot:""}]);const s=a},8220:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ComposerAttachPhoto {\n  display: flex;\n  justify-content: center;\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  position: relative; /* anchors pseudo element */\n  overflow: hidden;\n}\n\n.ComposerAttachPhoto__img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.ComposerAttachPhoto::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: 0.5px solid rgba(0, 0, 0, 0.08);\n  border-radius: inherit;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ComposerAttachPhoto/ComposerAttachPhoto.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,kBAAkB,EAAE,2BAA2B;EAC/C,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,uCAAuC;EACvC,sBAAsB;AACxB",sourcesContent:[".ComposerAttachPhoto {\n  display: flex;\n  justify-content: center;\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  position: relative; /* anchors pseudo element */\n  overflow: hidden;\n}\n\n.ComposerAttachPhoto__img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.ComposerAttachPhoto::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: 0.5px solid rgba(0, 0, 0, 0.08);\n  border-radius: inherit;\n}\n"],sourceRoot:""}]);const s=a},9251:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ComposerAttachVideo {\n  display: flex;\n  justify-content: center;\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  position: relative; /* anchors positioned children */\n  overflow: hidden;\n}\n\n.ComposerAttachVideo__img {\n  max-width: none;\n}\n\n.ComposerAttachVideo::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: 0.5px solid rgba(0, 0, 0, 0.08);\n  border-radius: inherit;\n}\n\n.ComposerAttachVideo__videoDuration {\n  height: 18px;\n  max-width: calc(100% - 8px);\n  padding: 2px 4px;\n  font-size: 11px;\n  line-height: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #fff; /* @TODO: correct token */\n  background: rgba(0, 0, 0, 0.56); /* @TODO: correct token */\n  border-radius: 4px;\n  position: absolute;\n  right: 4px;\n  bottom: 4px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ComposerAttachVideo/ComposerAttachVideo.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,kBAAkB,EAAE,gCAAgC;EACpD,gBAAgB;AAClB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,uCAAuC;EACvC,sBAAsB;AACxB;;AAEA;EACE,YAAY;EACZ,2BAA2B;EAC3B,gBAAgB;EAChB,eAAe;EACf,iBAAiB;EACjB,gBAAgB;EAChB,uBAAuB;EACvB,WAAW,EAAE,yBAAyB;EACtC,+BAA+B,EAAE,yBAAyB;EAC1D,kBAAkB;EAClB,kBAAkB;EAClB,UAAU;EACV,WAAW;AACb",sourcesContent:[".ComposerAttachVideo {\n  display: flex;\n  justify-content: center;\n  width: 68px;\n  height: 68px;\n  border-radius: 8px;\n  position: relative; /* anchors positioned children */\n  overflow: hidden;\n}\n\n.ComposerAttachVideo__img {\n  max-width: none;\n}\n\n.ComposerAttachVideo::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border: 0.5px solid rgba(0, 0, 0, 0.08);\n  border-radius: inherit;\n}\n\n.ComposerAttachVideo__videoDuration {\n  height: 18px;\n  max-width: calc(100% - 8px);\n  padding: 2px 4px;\n  font-size: 11px;\n  line-height: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #fff; /* @TODO: correct token */\n  background: rgba(0, 0, 0, 0.56); /* @TODO: correct token */\n  border-radius: 4px;\n  position: absolute;\n  right: 4px;\n  bottom: 4px;\n}\n"],sourceRoot:""}]);const s=a},9608:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ComposerAttaches {\n}\n\n.ComposerAttaches__list {\n  display: flex;\n  list-style: none;\n  padding: 6px 0;\n  margin: 0;\n}\n\n.ComposerAttaches__list::before,\n.ComposerAttaches__list::after {\n  flex-shrink: 0;\n  content: 'a'; /* ff hack* */\n  display: block;\n  width: 6px;\n  height: 100%;\n  color: transparent; /* ff hack */\n  overflow: hidden; /* ff hack */\n  /*\n   * there should be a pseudo element and it can't\n   * be empty thanks to the haters at firefox:\n   * https://bugzilla.mozilla.org/show_bug.cgi?id=748518\n   */\n}\n\n.ComposerAttaches__item {\n  position: relative;\n}\n\n.ComposerAttaches__item + .ComposerAttaches__item {\n  margin-left: 6px;\n}\n\n.ComposerAttaches__remove {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  color: #fff; /* @TODO: correct token */\n  background: var(--icon_secondary);\n  border-radius: 50%;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  cursor: pointer;\n  opacity: 0;\n  transition: opacity 0.14s ease;\n}\n\n.ComposerAttaches__item:hover .ComposerAttaches__remove {\n  opacity: 1;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ComposerAttaches/ComposerAttaches.css"],names:[],mappings:"AAAA;AACA;;AAEA;EACE,aAAa;EACb,gBAAgB;EAChB,cAAc;EACd,SAAS;AACX;;AAEA;;EAEE,cAAc;EACd,YAAY,EAAE,aAAa;EAC3B,cAAc;EACd,UAAU;EACV,YAAY;EACZ,kBAAkB,EAAE,YAAY;EAChC,gBAAgB,EAAE,YAAY;EAC9B;;;;IAIE;AACJ;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,SAAS;EACT,SAAS;EACT,UAAU;EACV,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,WAAW,EAAE,yBAAyB;EACtC,iCAAiC;EACjC,kBAAkB;EAClB,yCAAyC;EACzC,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,eAAe;EACf,UAAU;EACV,8BAA8B;AAChC;;AAEA;EACE,UAAU;AACZ",sourcesContent:[".ComposerAttaches {\n}\n\n.ComposerAttaches__list {\n  display: flex;\n  list-style: none;\n  padding: 6px 0;\n  margin: 0;\n}\n\n.ComposerAttaches__list::before,\n.ComposerAttaches__list::after {\n  flex-shrink: 0;\n  content: 'a'; /* ff hack* */\n  display: block;\n  width: 6px;\n  height: 100%;\n  color: transparent; /* ff hack */\n  overflow: hidden; /* ff hack */\n  /*\n   * there should be a pseudo element and it can't\n   * be empty thanks to the haters at firefox:\n   * https://bugzilla.mozilla.org/show_bug.cgi?id=748518\n   */\n}\n\n.ComposerAttaches__item {\n  position: relative;\n}\n\n.ComposerAttaches__item + .ComposerAttaches__item {\n  margin-left: 6px;\n}\n\n.ComposerAttaches__remove {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  color: #fff; /* @TODO: correct token */\n  background: var(--icon_secondary);\n  border-radius: 50%;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  cursor: pointer;\n  opacity: 0;\n  transition: opacity 0.14s ease;\n}\n\n.ComposerAttaches__item:hover .ComposerAttaches__remove {\n  opacity: 1;\n}\n"],sourceRoot:""}]);const s=a},5492:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoHistory {\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n\n.ConvoHistory__loader {\n  flex: 1 1 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.ConvoHistory__scrollable {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  overflow-x: hidden;\n  overflow-y: auto;\n  padding-top: 20px;\n  overscroll-behavior: none;\n}\n\n/* перебиваем стили для simplebar'a  чтобы прибить сообщения к низу экрана */\n.ConvoHistory__scrollable .simplebar-content {\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n}\n\n.ConvoHistory__scrollable > *:first-child {\n  /* Для того, чтобы элементы липли к низу и не ломался скролл */\n  margin-top: auto;\n}\n\n.ConvoHistory__scrollable * {\n  overflow-anchor: none;\n}\n\n.ConvoHistory__flow {\n  margin-top: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 0 var(--historyPaddingRight) var(--historyPaddingBottom)\n    var(--historyPaddingLeft);\n}\n\n.ConvoHistory__separator {\n  display: flex;\n  align-items: center;\n  gap: 1ch;\n  padding: 12px 0 12px 4px;\n  color: var(--text_tertiary);\n  font-size: 12px;\n  width: 100%;\n}\n\n.ConvoHistory__separator::before,\n.ConvoHistory__separator::after {\n  flex: 1 1 0;\n  display: block;\n  content: '';\n  height: 1px;\n}\n\n.ConvoHistory__separator--unread::before {\n  background: var(--separator_alternate);\n}\n\n.ConvoHistory__separator--unread::after {\n  background: var(--separator_alternate);\n}\n\n.ConvoHistory__spinner {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 16px;\n  margin-bottom: 15px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoHistory/ConvoHistory.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,aAAa;EACb,sBAAsB;EACtB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;EACX,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW;AACb;;AAEA;EACE,cAAc;EACd,aAAa;EACb,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,iBAAiB;EACjB,yBAAyB;AAC3B;;AAEA,4EAA4E;AAC5E;EACE,aAAa;EACb,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;EACE,8DAA8D;EAC9D,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,gBAAgB;EAChB,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB;6BAC2B;AAC7B;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,wBAAwB;EACxB,2BAA2B;EAC3B,eAAe;EACf,WAAW;AACb;;AAEA;;EAEE,WAAW;EACX,cAAc;EACd,WAAW;EACX,WAAW;AACb;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,mBAAmB;AACrB",sourcesContent:[".ConvoHistory {\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n}\n\n.ConvoHistory__loader {\n  flex: 1 1 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.ConvoHistory__scrollable {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  overflow-x: hidden;\n  overflow-y: auto;\n  padding-top: 20px;\n  overscroll-behavior: none;\n}\n\n/* перебиваем стили для simplebar'a  чтобы прибить сообщения к низу экрана */\n.ConvoHistory__scrollable .simplebar-content {\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n}\n\n.ConvoHistory__scrollable > *:first-child {\n  /* Для того, чтобы элементы липли к низу и не ломался скролл */\n  margin-top: auto;\n}\n\n.ConvoHistory__scrollable * {\n  overflow-anchor: none;\n}\n\n.ConvoHistory__flow {\n  margin-top: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 0 var(--historyPaddingRight) var(--historyPaddingBottom)\n    var(--historyPaddingLeft);\n}\n\n.ConvoHistory__separator {\n  display: flex;\n  align-items: center;\n  gap: 1ch;\n  padding: 12px 0 12px 4px;\n  color: var(--text_tertiary);\n  font-size: 12px;\n  width: 100%;\n}\n\n.ConvoHistory__separator::before,\n.ConvoHistory__separator::after {\n  flex: 1 1 0;\n  display: block;\n  content: '';\n  height: 1px;\n}\n\n.ConvoHistory__separator--unread::before {\n  background: var(--separator_alternate);\n}\n\n.ConvoHistory__separator--unread::after {\n  background: var(--separator_alternate);\n}\n\n.ConvoHistory__spinner {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 16px;\n  margin-bottom: 15px;\n}\n"],sourceRoot:""}]);const s=a},7897:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoHistoryPlaceholder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  margin: 0 10px;\n  padding: 20px 10px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoHistoryPlaceholder/ConvoHistoryPlaceholder.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,cAAc;EACd,kBAAkB;AACpB",sourcesContent:[".ConvoHistoryPlaceholder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  margin: 0 10px;\n  padding: 20px 10px;\n}\n"],sourceRoot:""}]);const s=a},4260:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoHistoryPlaceholderActions {\n  display: grid;\n  grid-gap: 10px;\n  grid-auto-flow: column;\n  margin-top: 16px;\n}\n\n.ConvoHistoryPlaceholderActions__button:hover {\n  text-decoration: none;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoHistoryPlaceholderActions/ConvoHistoryPlaceholderActions.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,cAAc;EACd,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;AACvB",sourcesContent:[".ConvoHistoryPlaceholderActions {\n  display: grid;\n  grid-gap: 10px;\n  grid-auto-flow: column;\n  margin-top: 16px;\n}\n\n.ConvoHistoryPlaceholderActions__button:hover {\n  text-decoration: none;\n}\n"],sourceRoot:""}]);const s=a},5462:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoHistoryPlaceholderUserInfo {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.ConvoHistoryPlaceholderUserInfo__photoWrap {\n  margin-bottom: 11px;\n}\n\n.ConvoHistoryPlaceholderUserInfo__savedAs {\n  font-size: 15px;\n  color: var(--text_tertiary);\n  margin-bottom: 15px;\n  font-weight: 300;\n}\n\n.ConvoHistoryPlaceholderUserInfo__icon {\n  color: var(--content_placeholder_icon);\n  margin: 0 0 19px;\n}\n\n.ConvoHistoryPlaceholderUserInfo__photo {\n  width: 72px;\n  height: 72px;\n  border-radius: 50%;\n}\n\n.ConvoHistoryPlaceholderUserInfo__name {\n  font-size: 20px;\n  line-height: 24px;\n  margin-bottom: 9px;\n  text-align: center;\n}\n\n.ConvoHistoryPlaceholderUserInfo__description {\n  font-size: 16px;\n  color: var(--text_subhead);\n  font-weight: 300;\n  line-height: 23px;\n  text-align: center;\n  margin-bottom: 18px;\n}\n\n.ConvoHistoryPlaceholderUserInfo__additionalInfo {\n  display: flex;\n  column-gap: 10px;\n  align-items: center;\n  margin-bottom: 8px;\n  font: 13px/16px var(--font);\n  color: var(--text_secondary);\n}\n\n.ConvoHistoryPlaceholderUserInfo__mutualFriends {\n  margin-bottom: 28px;\n}\n\n.ConvoHistoryPlaceholderUserInfo__mutualFriends .vkuiUsersStack__text {\n  color: var(--text_secondary);\n  font: 13px/16px var(--font);\n}\n\n.ConvoHistoryPlaceholderUserInfo--s\n  .ConvoHistoryPlaceholderUserInfo__photoWrap {\n  margin-bottom: 12px;\n}\n\n.ConvoHistoryPlaceholderUserInfo--s .ConvoHistoryPlaceholderUserInfo__name {\n  font-size: 16px;\n  line-height: 22px;\n  margin-bottom: 8px;\n}\n\n.ConvoHistoryPlaceholderUserInfo--s .ConvoHistoryPlaceholderUserInfo__savedAs {\n  font: 13px/16px var(--font);\n  margin-bottom: 10px;\n  margin-top: -7px;\n}\n\n.ConvoHistoryPlaceholderUserInfo--s\n  .ConvoHistoryPlaceholderUserInfo__description {\n  font-size: 14px;\n  line-height: 20px;\n}\n\n.ConvoHistoryPlaceholderUserInfo--s\n  .ConvoHistoryPlaceholderUserInfo__additionalInfo {\n  margin-bottom: 0;\n}\n\n.ConvoHistoryPlaceholderUserInfo--s\n  .ConvoHistoryPlaceholderUserInfo__mutualFriends {\n  margin-bottom: 0;\n  margin-top: 8px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoHistoryPlaceholderUserInfo/ConvoHistoryPlaceholderUserInfo.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,2BAA2B;EAC3B,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,sCAAsC;EACtC,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,0BAA0B;EAC1B,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,gBAAgB;EAChB,mBAAmB;EACnB,kBAAkB;EAClB,2BAA2B;EAC3B,4BAA4B;AAC9B;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,4BAA4B;EAC5B,2BAA2B;AAC7B;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,2BAA2B;EAC3B,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;;EAEE,eAAe;EACf,iBAAiB;AACnB;;AAEA;;EAEE,gBAAgB;AAClB;;AAEA;;EAEE,gBAAgB;EAChB,eAAe;AACjB",sourcesContent:[".ConvoHistoryPlaceholderUserInfo {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.ConvoHistoryPlaceholderUserInfo__photoWrap {\n  margin-bottom: 11px;\n}\n\n.ConvoHistoryPlaceholderUserInfo__savedAs {\n  font-size: 15px;\n  color: var(--text_tertiary);\n  margin-bottom: 15px;\n  font-weight: 300;\n}\n\n.ConvoHistoryPlaceholderUserInfo__icon {\n  color: var(--content_placeholder_icon);\n  margin: 0 0 19px;\n}\n\n.ConvoHistoryPlaceholderUserInfo__photo {\n  width: 72px;\n  height: 72px;\n  border-radius: 50%;\n}\n\n.ConvoHistoryPlaceholderUserInfo__name {\n  font-size: 20px;\n  line-height: 24px;\n  margin-bottom: 9px;\n  text-align: center;\n}\n\n.ConvoHistoryPlaceholderUserInfo__description {\n  font-size: 16px;\n  color: var(--text_subhead);\n  font-weight: 300;\n  line-height: 23px;\n  text-align: center;\n  margin-bottom: 18px;\n}\n\n.ConvoHistoryPlaceholderUserInfo__additionalInfo {\n  display: flex;\n  column-gap: 10px;\n  align-items: center;\n  margin-bottom: 8px;\n  font: 13px/16px var(--font);\n  color: var(--text_secondary);\n}\n\n.ConvoHistoryPlaceholderUserInfo__mutualFriends {\n  margin-bottom: 28px;\n}\n\n.ConvoHistoryPlaceholderUserInfo__mutualFriends .vkuiUsersStack__text {\n  color: var(--text_secondary);\n  font: 13px/16px var(--font);\n}\n\n.ConvoHistoryPlaceholderUserInfo--s\n  .ConvoHistoryPlaceholderUserInfo__photoWrap {\n  margin-bottom: 12px;\n}\n\n.ConvoHistoryPlaceholderUserInfo--s .ConvoHistoryPlaceholderUserInfo__name {\n  font-size: 16px;\n  line-height: 22px;\n  margin-bottom: 8px;\n}\n\n.ConvoHistoryPlaceholderUserInfo--s .ConvoHistoryPlaceholderUserInfo__savedAs {\n  font: 13px/16px var(--font);\n  margin-bottom: 10px;\n  margin-top: -7px;\n}\n\n.ConvoHistoryPlaceholderUserInfo--s\n  .ConvoHistoryPlaceholderUserInfo__description {\n  font-size: 14px;\n  line-height: 20px;\n}\n\n.ConvoHistoryPlaceholderUserInfo--s\n  .ConvoHistoryPlaceholderUserInfo__additionalInfo {\n  margin-bottom: 0;\n}\n\n.ConvoHistoryPlaceholderUserInfo--s\n  .ConvoHistoryPlaceholderUserInfo__mutualFriends {\n  margin-bottom: 0;\n  margin-top: 8px;\n}\n"],sourceRoot:""}]);const s=a},9764:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoHistoryTyping {\n  display: flex;\n  align-items: center;\n  /**\n   * Тайпинг не должен влиять на высоту истории,\n   * компонент встраивается в область нижнего паддинга истории,\n   * поэтому использует переменные\n   */\n  min-height: var(--historyPaddingBottom);\n  padding: 0 30px 0 var(--historyPaddingLeft);\n  margin-top: calc(-1 * var(--historyPaddingBottom));\n  white-space: nowrap;\n  color: var(--text_tertiary);\n}\n\n.ConvoHistoryTyping__indicator {\n  flex: 0 0 32px;\n  width: 32px; /* Ширина аватарки автора стека сообщений */\n  margin-right: 8px;\n}\n\n.ConvoHistoryTyping__text {\n  width: min-content;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoHistoryTyping/ConvoHistoryTyping.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB;;;;IAIE;EACF,uCAAuC;EACvC,2CAA2C;EAC3C,kDAAkD;EAClD,mBAAmB;EACnB,2BAA2B;AAC7B;;AAEA;EACE,cAAc;EACd,WAAW,EAAE,2CAA2C;EACxD,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,uBAAuB;AACzB",sourcesContent:[".ConvoHistoryTyping {\n  display: flex;\n  align-items: center;\n  /**\n   * Тайпинг не должен влиять на высоту истории,\n   * компонент встраивается в область нижнего паддинга истории,\n   * поэтому использует переменные\n   */\n  min-height: var(--historyPaddingBottom);\n  padding: 0 30px 0 var(--historyPaddingLeft);\n  margin-top: calc(-1 * var(--historyPaddingBottom));\n  white-space: nowrap;\n  color: var(--text_tertiary);\n}\n\n.ConvoHistoryTyping__indicator {\n  flex: 0 0 32px;\n  width: 32px; /* Ширина аватарки автора стека сообщений */\n  margin-right: 8px;\n}\n\n.ConvoHistoryTyping__text {\n  width: min-content;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n"],sourceRoot:""}]);const s=a},170:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoMessage {\n  position: relative;\n  box-sizing: border-box;\n  max-width: 100%;\n  background: var(--im_bubble_incoming);\n  border-radius: var(--messageBorderRadius);\n  padding: var(--messageVerticalIndent) var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_primary);\n}\n\n.ConvoMessage--out {\n  background: var(--im_bubble_outgoing);\n}\n\n.ConvoMessage--expiring {\n  background: var(--im_bubble_incoming_expiring);\n}\n\n.ConvoMessage--expiring.ConvoMessage--out {\n  background: var(--im_bubble_outgoing_expiring);\n}\n\n.ConvoMessage--noBackground {\n  background: transparent;\n  padding: 0;\n}\n\n.ConvoMessage--withGift {\n  max-width: 224px;\n  background: var(--im_bubble_gift_background);\n  color: var(--im_bubble_gift_text);\n  text-align: center;\n}\n\n.ConvoMessage__statusIcon {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 8px;\n  height: 8px;\n  background: var(--background_content);\n  box-shadow: 0 0 0 1px var(--background_content);\n  border-radius: 50%;\n  z-index: 1;\n}\n\n/**\n * Часики\n */\n.ConvoMessage__statusIcon--sending {\n  color: var(--icon_secondary);\n}\n\n/**\n * Ошибка\n */\n.ConvoMessage__statusIcon--failed {\n  color: var(--destructive);\n}\n\n/**\n * Отметка непрочитанности\n */\n.ConvoMessage--unread::after {\n  position: absolute;\n  bottom: -1px;\n  right: -1px;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: var(--accent);\n  box-shadow: 0 0 0 2px var(--background_content);\n  content: '';\n  z-index: 0;\n}\n.ConvoMessage--sending.ConvoMessage--unread::after {\n  display: none;\n}\n\n.ConvoMessage + .ConvoMessage {\n  margin-top: calc(0.5 * var(--messageVerticalIndent));\n}\n\n/**\n * Автор сообщения\n */\n.ConvoMessage__author {\n  margin: 0 0 2px;\n}\n\n.ConvoMessage__authorLink {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n}\n\n/**\n * Иконка исчезающего сообщения\n */\n.ConvoMessage__bomb {\n  --padding-horizontal: 5px;\n\n  position: absolute;\n  bottom: 4px;\n  left: calc(100% - 6px);\n  padding: 3px var(--padding-horizontal);\n  background: var(--modal_card_background);\n  color: var(--icon_tertiary);\n  border: 0.5px solid var(--image_border);\n  border-radius: 10px;\n  cursor: pointer;\n  font: 500 12px / 16px var(--font);\n  outline: 0;\n  text-align: center;\n  font-variant-numeric: tabular-nums;\n}\n.ConvoMessage--out .ConvoMessage__bomb {\n  left: auto;\n  right: calc(100% - 6px);\n}\n\n.ConvoMessage__bomb--soon {\n  color: var(--destructive); /* @TODO: correct token -- designers */\n}\n\n.ConvoMessage__bomb--blink {\n  animation: blink-animation 1s linear infinite;\n}\n\n@keyframes blink-animation {\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n/**\n * Тело сообщения\n */\n.ConvoMessage__content {\n  position: relative;\n  word-wrap: break-word;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n\n.ConvoMessage--withReply .ConvoMessage__content {\n  min-width: 140px;\n  padding-top: calc(\n    2 * var(--messageLineHeight) + var(--messageVerticalIndent) + 2px\n  );\n}\n\n.ConvoMessage__text {\n  flex: 1 1 auto;\n  max-width: 100%;\n}\n.ConvoMessage--wideAttach .ConvoMessage__text {\n  min-width: 100%;\n}\n\n.ConvoMessage__reply {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n}\n\n/**\n * Контейнер для аттачей\n */\n.ConvoMessage__attachments {\n  max-width: none;\n  margin-top: var(--messageVerticalIndent);\n  margin-left: calc(\n    var(--messageAttachmentIndent) - var(--messageHorizontalIndent)\n  );\n  margin-right: calc(\n    var(--messageAttachmentIndent) - var(--messageHorizontalIndent)\n  );\n  margin-bottom: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n.ConvoMessage--withDate .ConvoMessage__attachment {\n  /* Компенсируем отступ, которые появляется из-за даты */\n  margin-bottom: calc(\n    0.5 * var(--messageAttachmentIndent) - var(--messageVerticalIndent) -\n      var(--messageDateLineHeight)\n  );\n}\n\n.ConvoMessage--withAuthor .ConvoMessage__attachments {\n  margin-top: calc(var(--messageVerticalIndent) - 2px);\n}\n\n.ConvoMessage--attachOnly .ConvoMessage__attachments {\n  margin-top: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n\n.ConvoMessage--noDate .ConvoMessage__attachments {\n  margin-bottom: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n\n/**\n * Время сообщения\n */\n.ConvoMessage__date {\n  text-align: right;\n  flex: 1 0 auto;\n  margin: 0 calc(-2 / 3 * var(--messageHorizontalIndent))\n    calc(-0.5 * var(--messageVerticalIndent)) var(--messageDateMarginLeft);\n  align-self: flex-end;\n  justify-self: end;\n  font: 500 var(--messageDateFontSize) / var(--messageDateLineHeight)\n    var(--font);\n  color: var(--text_secondary);\n  padding: 3px 6px;\n  white-space: nowrap;\n}\n\n.ConvoMessage--floatDate .ConvoMessage__date {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.25); /* @TODO: correct token */\n  color: #fff; /* @TODO: correct token */\n  border-radius: 8px;\n}\n\n.ConvoMessage--noBackground .ConvoMessage__date {\n  margin: 0 calc(1 / 3 * var(--messageHorizontalIndent))\n    calc(0.5 * var(--messageVerticalIndent)) 1ch;\n}\n\n.ConvoMessage__empty {\n  color: var(--text_secondary);\n}\n\n.ConvoMessage__link,\n.ConvoMessage__link:hover {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.ConvoMessage--separateDate .ConvoMessage__content {\n  flex-direction: column;\n}\n\n.ConvoMessage--separateDate .ConvoMessage__date {\n  margin-top: calc(0.5 * (var(--messageVerticalIndent) - 1px));\n}\n\n.ConvoMessage--insetDate .ConvoMessage__date {\n  margin-top: calc(-1 * var(--messageDateLineHeight));\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoMessage/ConvoMessage.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,sBAAsB;EACtB,eAAe;EACf,qCAAqC;EACrC,yCAAyC;EACzC,oEAAoE;EACpE,mEAAmE;EACnE,0BAA0B;AAC5B;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,8CAA8C;AAChD;;AAEA;EACE,8CAA8C;AAChD;;AAEA;EACE,uBAAuB;EACvB,UAAU;AACZ;;AAEA;EACE,gBAAgB;EAChB,4CAA4C;EAC5C,iCAAiC;EACjC,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,WAAW;EACX,qCAAqC;EACrC,+CAA+C;EAC/C,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;EAEE;AACF;EACE,4BAA4B;AAC9B;;AAEA;;EAEE;AACF;EACE,yBAAyB;AAC3B;;AAEA;;EAEE;AACF;EACE,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,UAAU;EACV,WAAW;EACX,kBAAkB;EAClB,yBAAyB;EACzB,+CAA+C;EAC/C,WAAW;EACX,UAAU;AACZ;AACA;EACE,aAAa;AACf;;AAEA;EACE,oDAAoD;AACtD;;AAEA;;EAEE;AACF;EACE,eAAe;AACjB;;AAEA;EACE,uBAAuB;EACvB,sEAAsE;EACtE,qBAAqB;AACvB;;AAEA;;EAEE;AACF;EACE,yBAAyB;;EAEzB,kBAAkB;EAClB,WAAW;EACX,sBAAsB;EACtB,sCAAsC;EACtC,wCAAwC;EACxC,2BAA2B;EAC3B,uCAAuC;EACvC,mBAAmB;EACnB,eAAe;EACf,iCAAiC;EACjC,UAAU;EACV,kBAAkB;EAClB,kCAAkC;AACpC;AACA;EACE,UAAU;EACV,uBAAuB;AACzB;;AAEA;EACE,yBAAyB,EAAE,sCAAsC;AACnE;;AAEA;EACE,6CAA6C;AAC/C;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA;;EAEE;AACF;EACE,kBAAkB;EAClB,qBAAqB;EACrB,aAAa;EACb,8BAA8B;EAC9B,eAAe;AACjB;;AAEA;EACE,gBAAgB;EAChB;;GAEC;AACH;;AAEA;EACE,cAAc;EACd,eAAe;AACjB;AACA;EACE,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,OAAO;AACT;;AAEA;;EAEE;AACF;EACE,eAAe;EACf,wCAAwC;EACxC;;GAEC;EACD;;GAEC;EACD;;GAEC;AACH;AACA;EACE,uDAAuD;EACvD;;;GAGC;AACH;;AAEA;EACE,oDAAoD;AACtD;;AAEA;EACE;;GAEC;AACH;;AAEA;EACE;;GAEC;AACH;;AAEA;;EAEE;AACF;EACE,iBAAiB;EACjB,cAAc;EACd;0EACwE;EACxE,oBAAoB;EACpB,iBAAiB;EACjB;eACa;EACb,4BAA4B;EAC5B,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,+BAA+B,EAAE,yBAAyB;EAC1D,WAAW,EAAE,yBAAyB;EACtC,kBAAkB;AACpB;;AAEA;EACE;gDAC8C;AAChD;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;;EAEE,qBAAqB;EACrB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,4DAA4D;AAC9D;;AAEA;EACE,mDAAmD;AACrD",sourcesContent:[".ConvoMessage {\n  position: relative;\n  box-sizing: border-box;\n  max-width: 100%;\n  background: var(--im_bubble_incoming);\n  border-radius: var(--messageBorderRadius);\n  padding: var(--messageVerticalIndent) var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  color: var(--text_primary);\n}\n\n.ConvoMessage--out {\n  background: var(--im_bubble_outgoing);\n}\n\n.ConvoMessage--expiring {\n  background: var(--im_bubble_incoming_expiring);\n}\n\n.ConvoMessage--expiring.ConvoMessage--out {\n  background: var(--im_bubble_outgoing_expiring);\n}\n\n.ConvoMessage--noBackground {\n  background: transparent;\n  padding: 0;\n}\n\n.ConvoMessage--withGift {\n  max-width: 224px;\n  background: var(--im_bubble_gift_background);\n  color: var(--im_bubble_gift_text);\n  text-align: center;\n}\n\n.ConvoMessage__statusIcon {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 8px;\n  height: 8px;\n  background: var(--background_content);\n  box-shadow: 0 0 0 1px var(--background_content);\n  border-radius: 50%;\n  z-index: 1;\n}\n\n/**\n * Часики\n */\n.ConvoMessage__statusIcon--sending {\n  color: var(--icon_secondary);\n}\n\n/**\n * Ошибка\n */\n.ConvoMessage__statusIcon--failed {\n  color: var(--destructive);\n}\n\n/**\n * Отметка непрочитанности\n */\n.ConvoMessage--unread::after {\n  position: absolute;\n  bottom: -1px;\n  right: -1px;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: var(--accent);\n  box-shadow: 0 0 0 2px var(--background_content);\n  content: '';\n  z-index: 0;\n}\n.ConvoMessage--sending.ConvoMessage--unread::after {\n  display: none;\n}\n\n.ConvoMessage + .ConvoMessage {\n  margin-top: calc(0.5 * var(--messageVerticalIndent));\n}\n\n/**\n * Автор сообщения\n */\n.ConvoMessage__author {\n  margin: 0 0 2px;\n}\n\n.ConvoMessage__authorLink {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n}\n\n/**\n * Иконка исчезающего сообщения\n */\n.ConvoMessage__bomb {\n  --padding-horizontal: 5px;\n\n  position: absolute;\n  bottom: 4px;\n  left: calc(100% - 6px);\n  padding: 3px var(--padding-horizontal);\n  background: var(--modal_card_background);\n  color: var(--icon_tertiary);\n  border: 0.5px solid var(--image_border);\n  border-radius: 10px;\n  cursor: pointer;\n  font: 500 12px / 16px var(--font);\n  outline: 0;\n  text-align: center;\n  font-variant-numeric: tabular-nums;\n}\n.ConvoMessage--out .ConvoMessage__bomb {\n  left: auto;\n  right: calc(100% - 6px);\n}\n\n.ConvoMessage__bomb--soon {\n  color: var(--destructive); /* @TODO: correct token -- designers */\n}\n\n.ConvoMessage__bomb--blink {\n  animation: blink-animation 1s linear infinite;\n}\n\n@keyframes blink-animation {\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n/**\n * Тело сообщения\n */\n.ConvoMessage__content {\n  position: relative;\n  word-wrap: break-word;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n\n.ConvoMessage--withReply .ConvoMessage__content {\n  min-width: 140px;\n  padding-top: calc(\n    2 * var(--messageLineHeight) + var(--messageVerticalIndent) + 2px\n  );\n}\n\n.ConvoMessage__text {\n  flex: 1 1 auto;\n  max-width: 100%;\n}\n.ConvoMessage--wideAttach .ConvoMessage__text {\n  min-width: 100%;\n}\n\n.ConvoMessage__reply {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n}\n\n/**\n * Контейнер для аттачей\n */\n.ConvoMessage__attachments {\n  max-width: none;\n  margin-top: var(--messageVerticalIndent);\n  margin-left: calc(\n    var(--messageAttachmentIndent) - var(--messageHorizontalIndent)\n  );\n  margin-right: calc(\n    var(--messageAttachmentIndent) - var(--messageHorizontalIndent)\n  );\n  margin-bottom: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n.ConvoMessage--withDate .ConvoMessage__attachment {\n  /* Компенсируем отступ, которые появляется из-за даты */\n  margin-bottom: calc(\n    0.5 * var(--messageAttachmentIndent) - var(--messageVerticalIndent) -\n      var(--messageDateLineHeight)\n  );\n}\n\n.ConvoMessage--withAuthor .ConvoMessage__attachments {\n  margin-top: calc(var(--messageVerticalIndent) - 2px);\n}\n\n.ConvoMessage--attachOnly .ConvoMessage__attachments {\n  margin-top: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n\n.ConvoMessage--noDate .ConvoMessage__attachments {\n  margin-bottom: calc(\n    var(--messageAttachmentIndent) - var(--messageVerticalIndent)\n  );\n}\n\n/**\n * Время сообщения\n */\n.ConvoMessage__date {\n  text-align: right;\n  flex: 1 0 auto;\n  margin: 0 calc(-2 / 3 * var(--messageHorizontalIndent))\n    calc(-0.5 * var(--messageVerticalIndent)) var(--messageDateMarginLeft);\n  align-self: flex-end;\n  justify-self: end;\n  font: 500 var(--messageDateFontSize) / var(--messageDateLineHeight)\n    var(--font);\n  color: var(--text_secondary);\n  padding: 3px 6px;\n  white-space: nowrap;\n}\n\n.ConvoMessage--floatDate .ConvoMessage__date {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.25); /* @TODO: correct token */\n  color: #fff; /* @TODO: correct token */\n  border-radius: 8px;\n}\n\n.ConvoMessage--noBackground .ConvoMessage__date {\n  margin: 0 calc(1 / 3 * var(--messageHorizontalIndent))\n    calc(0.5 * var(--messageVerticalIndent)) 1ch;\n}\n\n.ConvoMessage__empty {\n  color: var(--text_secondary);\n}\n\n.ConvoMessage__link,\n.ConvoMessage__link:hover {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.ConvoMessage--separateDate .ConvoMessage__content {\n  flex-direction: column;\n}\n\n.ConvoMessage--separateDate .ConvoMessage__date {\n  margin-top: calc(0.5 * (var(--messageVerticalIndent) - 1px));\n}\n\n.ConvoMessage--insetDate .ConvoMessage__date {\n  margin-top: calc(-1 * var(--messageDateLineHeight));\n}\n"],sourceRoot:""}]);const s=a},5870:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoStack {\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-start;\n  flex-shrink: 0;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  margin: 0 0 var(--messageVerticalIndent);\n}\n.ConvoStack:last-of-type {\n  margin: 0;\n}\n\n.ConvoStack--out {\n  justify-content: flex-end;\n}\n\n.ConvoStack__author {\n  flex: 0 0 auto;\n  padding: 2px 0;\n  margin-right: 6px;\n  position: sticky;\n  bottom: 0;\n}\n\n.ConvoStack__content {\n  flex: 0 1 auto;\n  display: flex;\n  max-width: var(--messageMaxWidth);\n  flex-direction: column;\n  align-items: flex-start;\n}\n\n.ConvoStack--centered .ConvoStack__content {\n  flex: 1 1 auto;\n  max-width: none;\n}\n\n.ConvoStack--out .ConvoStack__content {\n  align-items: flex-end;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoStack/ConvoStack.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,aAAa;EACb,qBAAqB;EACrB,2BAA2B;EAC3B,cAAc;EACd,mEAAmE;EACnE,wCAAwC;AAC1C;AACA;EACE,SAAS;AACX;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,cAAc;EACd,cAAc;EACd,iBAAiB;EACjB,gBAAgB;EAChB,SAAS;AACX;;AAEA;EACE,cAAc;EACd,aAAa;EACb,iCAAiC;EACjC,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,qBAAqB;AACvB",sourcesContent:[".ConvoStack {\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-start;\n  flex-shrink: 0;\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n  margin: 0 0 var(--messageVerticalIndent);\n}\n.ConvoStack:last-of-type {\n  margin: 0;\n}\n\n.ConvoStack--out {\n  justify-content: flex-end;\n}\n\n.ConvoStack__author {\n  flex: 0 0 auto;\n  padding: 2px 0;\n  margin-right: 6px;\n  position: sticky;\n  bottom: 0;\n}\n\n.ConvoStack__content {\n  flex: 0 1 auto;\n  display: flex;\n  max-width: var(--messageMaxWidth);\n  flex-direction: column;\n  align-items: flex-start;\n}\n\n.ConvoStack--centered .ConvoStack__content {\n  flex: 1 1 auto;\n  max-width: none;\n}\n\n.ConvoStack--out .ConvoStack__content {\n  align-items: flex-end;\n}\n"],sourceRoot:""}]);const s=a},7661:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ConvoTitle {\n  display: flex;\n  align-items: center;\n  color: var(--text_primary);\n  font-family: var(--font);\n  font-size: inherit;\n  line-height: inherit;\n  font-weight: inherit;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.ConvoTitle__title {\n  flex: 0 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.ConvoTitle__icon {\n  margin-left: 5px;\n}\n\n.ConvoTitle__verifiedIcon {\n  flex: 0 0 auto;\n  color: var(--accent);\n}\n\n.ConvoTitle__mutedIcon {\n  flex: 0 0 auto;\n  color: var(--icon_tertiary);\n  margin-top: 2px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ConvoTitle/ConvoTitle.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,0BAA0B;EAC1B,wBAAwB;EACxB,kBAAkB;EAClB,oBAAoB;EACpB,oBAAoB;EACpB,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,oBAAoB;AACtB;;AAEA;EACE,cAAc;EACd,2BAA2B;EAC3B,eAAe;AACjB",sourcesContent:[".ConvoTitle {\n  display: flex;\n  align-items: center;\n  color: var(--text_primary);\n  font-family: var(--font);\n  font-size: inherit;\n  line-height: inherit;\n  font-weight: inherit;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.ConvoTitle__title {\n  flex: 0 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.ConvoTitle__icon {\n  margin-left: 5px;\n}\n\n.ConvoTitle__verifiedIcon {\n  flex: 0 0 auto;\n  color: var(--accent);\n}\n\n.ConvoTitle__mutedIcon {\n  flex: 0 0 auto;\n  color: var(--icon_tertiary);\n  margin-top: 2px;\n}\n"],sourceRoot:""}]);const s=a},5682:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".EmptyConvoList {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1 0 auto;\n  padding: 0 24px;\n  font: 13px/16px var(--font);\n  color: var(--text_secondary);\n  text-align: center;\n  letter-spacing: -0.078px;\n}\n\n.EmptyConvoList__icon {\n  color: var(--placeholder_icon_foreground_primary);\n  margin-bottom: 12px;\n}\n\n.EmptyConvoList__link {\n  color: var(--text_link);\n  margin-top: 8px;\n  background: none;\n  outline: none;\n  border: 0;\n  cursor: pointer;\n}\n.EmptyConvoList__link:hover {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/EmptyConvoList/EmptyConvoList.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,cAAc;EACd,eAAe;EACf,2BAA2B;EAC3B,4BAA4B;EAC5B,kBAAkB;EAClB,wBAAwB;AAC1B;;AAEA;EACE,iDAAiD;EACjD,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,eAAe;EACf,gBAAgB;EAChB,aAAa;EACb,SAAS;EACT,eAAe;AACjB;AACA;EACE,0BAA0B;AAC5B",sourcesContent:[".EmptyConvoList {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1 0 auto;\n  padding: 0 24px;\n  font: 13px/16px var(--font);\n  color: var(--text_secondary);\n  text-align: center;\n  letter-spacing: -0.078px;\n}\n\n.EmptyConvoList__icon {\n  color: var(--placeholder_icon_foreground_primary);\n  margin-bottom: 12px;\n}\n\n.EmptyConvoList__link {\n  color: var(--text_link);\n  margin-top: 8px;\n  background: none;\n  outline: none;\n  border: 0;\n  cursor: pointer;\n}\n.EmptyConvoList__link:hover {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]);const s=a},4102:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ExpiredMessage {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.ExpiredMessage__container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 9.5px 12px 8.5px 12px;\n  border: 0.5px solid var(--snippet_border);\n  border-radius: 18px;\n}\n\n.ExpiredMessage__icon {\n  margin-right: 9px;\n  color: var(--icon_tertiary);\n}\n\n.ExpiredMessage__text {\n  font-size: 12px;\n  line-height: 14px;\n  letter-spacing: 0.005em;\n  color: var(--text_secondary);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ExpiredMessages/ExpiredMessages.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,8BAA8B;EAC9B,yCAAyC;EACzC,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;EACjB,2BAA2B;AAC7B;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,uBAAuB;EACvB,4BAA4B;AAC9B",sourcesContent:[".ExpiredMessage {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.ExpiredMessage__container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 9.5px 12px 8.5px 12px;\n  border: 0.5px solid var(--snippet_border);\n  border-radius: 18px;\n}\n\n.ExpiredMessage__icon {\n  margin-right: 9px;\n  color: var(--icon_tertiary);\n}\n\n.ExpiredMessage__text {\n  font-size: 12px;\n  line-height: 14px;\n  letter-spacing: 0.005em;\n  color: var(--text_secondary);\n}\n"],sourceRoot:""}]);const s=a},5125:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCApp {\n  background-color: var(--background_content);\n  -moz-osx-font-smoothing: grayscale;\n  position: relative;\n  z-index: var(--fcZIndex);\n}\n\n.FCApp__convoStub,\n.FCApp__thumbStub {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.FCApp__thumbStub {\n  min-height: 52px; /* @TODO */\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCApp/FCApp.css"],names:[],mappings:"AAAA;EACE,2CAA2C;EAC3C,kCAAkC;EAClC,kBAAkB;EAClB,wBAAwB;AAC1B;;AAEA;;EAEE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,gBAAgB,EAAE,UAAU;AAC9B",sourcesContent:[".FCApp {\n  background-color: var(--background_content);\n  -moz-osx-font-smoothing: grayscale;\n  position: relative;\n  z-index: var(--fcZIndex);\n}\n\n.FCApp__convoStub,\n.FCApp__thumbStub {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.FCApp__thumbStub {\n  min-height: 52px; /* @TODO */\n}\n"],sourceRoot:""}]);const s=a},7758:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCComposer {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.FCComposer__stickersPanel {\n  border-bottom: 1px solid var(--separator_common);\n  margin-top: -1px;\n}\n\n.FCComposer__field {\n  display: flex;\n  align-items: flex-end;\n  position: relative;\n}\n\n.FCComposer__smile {\n  position: absolute;\n  top: auto;\n  bottom: 0;\n  right: 0;\n}\n\n.FCComposer__button {\n  outline: none;\n  flex: 0 0 35px;\n  width: 35px;\n  height: 43px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 0;\n  background: transparent;\n  cursor: pointer;\n  color: var(--icon_outline_secondary);\n}\n\n.FCComposer__keyboard {\n  position: absolute;\n  top: auto;\n  bottom: 0;\n  right: 34px;\n  opacity: 0.7;\n  will-change: opacity;\n  transition: opacity 0.14s ease;\n}\n\n.FCComposer__keyboard:hover {\n  opacity: 1;\n}\n\n.FCComposer__attaches {\n  border-top: 1px solid var(--separator_alternate);\n}\n\n/**\n * Перебиваем специфичность 021 в vkcom ([dir] div[contenteditable=true])\n */\n.FCComposer__input.FCComposer__input.FCComposer__input,\n.FCComposer__input.FCComposer__input.FCComposer__input\n  ~ .placeholder\n  .ph_input {\n  border: 0;\n  border-radius: 0;\n  padding: 13px 70px 14px 0;\n  max-height: 140px;\n  overflow: auto;\n}\n.FCComposer__input:focus {\n  outline: none;\n}\n\n.FCComposer__input.FCComposer__input.FCComposer__input\n  ~ .placeholder\n  .ph_content {\n  padding: 0;\n}\n\n.FCComposer__smile.FCComposer__smile .emoji_tt_wrap {\n  bottom: calc(100% - 4px);\n  right: 3px;\n}\n\n/**\n * ЖОСКИЕ ХАКИ И КОСТЫЛИ ТУТ\n */\n\n.FCComposer__input .emoji {\n  /* Без этого не отображается каретка после вставки смайла */\n  color: var(--text_primary);\n}\n\n.FCComposer__emojiHack {\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.FCComposer__emojiHack .emoji_smile_wrap * {\n  /* Сбрасываем наши ресеттеры */\n  max-width: none;\n  box-sizing: content-box;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCComposer/FCComposer.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,gDAAgD;EAChD,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,qBAAqB;EACrB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,SAAS;EACT,QAAQ;AACV;;AAEA;EACE,aAAa;EACb,cAAc;EACd,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,SAAS;EACT,uBAAuB;EACvB,eAAe;EACf,oCAAoC;AACtC;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,SAAS;EACT,WAAW;EACX,YAAY;EACZ,oBAAoB;EACpB,8BAA8B;AAChC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,gDAAgD;AAClD;;AAEA;;EAEE;AACF;;;;EAIE,SAAS;EACT,gBAAgB;EAChB,yBAAyB;EACzB,iBAAiB;EACjB,cAAc;AAChB;AACA;EACE,aAAa;AACf;;AAEA;;;EAGE,UAAU;AACZ;;AAEA;EACE,wBAAwB;EACxB,UAAU;AACZ;;AAEA;;EAEE;;AAEF;EACE,2DAA2D;EAC3D,0BAA0B;AAC5B;;AAEA;EACE,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,8BAA8B;EAC9B,eAAe;EACf,uBAAuB;AACzB",sourcesContent:[".FCComposer {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.FCComposer__stickersPanel {\n  border-bottom: 1px solid var(--separator_common);\n  margin-top: -1px;\n}\n\n.FCComposer__field {\n  display: flex;\n  align-items: flex-end;\n  position: relative;\n}\n\n.FCComposer__smile {\n  position: absolute;\n  top: auto;\n  bottom: 0;\n  right: 0;\n}\n\n.FCComposer__button {\n  outline: none;\n  flex: 0 0 35px;\n  width: 35px;\n  height: 43px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 0;\n  background: transparent;\n  cursor: pointer;\n  color: var(--icon_outline_secondary);\n}\n\n.FCComposer__keyboard {\n  position: absolute;\n  top: auto;\n  bottom: 0;\n  right: 34px;\n  opacity: 0.7;\n  will-change: opacity;\n  transition: opacity 0.14s ease;\n}\n\n.FCComposer__keyboard:hover {\n  opacity: 1;\n}\n\n.FCComposer__attaches {\n  border-top: 1px solid var(--separator_alternate);\n}\n\n/**\n * Перебиваем специфичность 021 в vkcom ([dir] div[contenteditable=true])\n */\n.FCComposer__input.FCComposer__input.FCComposer__input,\n.FCComposer__input.FCComposer__input.FCComposer__input\n  ~ .placeholder\n  .ph_input {\n  border: 0;\n  border-radius: 0;\n  padding: 13px 70px 14px 0;\n  max-height: 140px;\n  overflow: auto;\n}\n.FCComposer__input:focus {\n  outline: none;\n}\n\n.FCComposer__input.FCComposer__input.FCComposer__input\n  ~ .placeholder\n  .ph_content {\n  padding: 0;\n}\n\n.FCComposer__smile.FCComposer__smile .emoji_tt_wrap {\n  bottom: calc(100% - 4px);\n  right: 3px;\n}\n\n/**\n * ЖОСКИЕ ХАКИ И КОСТЫЛИ ТУТ\n */\n\n.FCComposer__input .emoji {\n  /* Без этого не отображается каретка после вставки смайла */\n  color: var(--text_primary);\n}\n\n.FCComposer__emojiHack {\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.FCComposer__emojiHack .emoji_smile_wrap * {\n  /* Сбрасываем наши ресеттеры */\n  max-width: none;\n  box-sizing: content-box;\n}\n"],sourceRoot:""}]);const s=a},2931:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCConvo {\n  font: 500 13px/16px var(--font);\n}\n\n.FCConvo__header {\n  display: flex;\n  align-items: center;\n}\n.FCConvo__title {\n  flex: 0 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 0 0 8px;\n}\n\n.FCConvo__content {\n  height: 100%;\n  display: flex;\n  min-height: 0;\n}\n\n.FCConvo__spinner {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCConvo/FCConvo.css"],names:[],mappings:"AAAA;EACE,+BAA+B;AACjC;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;AACA;EACE,cAAc;EACd,gBAAgB;EAChB,uBAAuB;EACvB,iBAAiB;AACnB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,aAAa;AACf;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB",sourcesContent:[".FCConvo {\n  font: 500 13px/16px var(--font);\n}\n\n.FCConvo__header {\n  display: flex;\n  align-items: center;\n}\n.FCConvo__title {\n  flex: 0 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 0 0 8px;\n}\n\n.FCConvo__content {\n  height: 100%;\n  display: flex;\n  min-height: 0;\n}\n\n.FCConvo__spinner {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n"],sourceRoot:""}]);const s=a},3913:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCConvoList__loader {\n  width: 100%;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--icon_tertiary);\n}\n\n.FCConvoList__virtual {\n  overscroll-behavior: none;\n}\n\n.FCConvoList__simplebar {\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.FCConvoList__folder {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  padding-right: 8px;\n}\n\n.FCConvoList__folderDot {\n  position: relative;\n  height: 24px;\n  width: 24px;\n  border-radius: 50%;\n  background: inherit;\n  border: 0;\n  outline: 0;\n  cursor: pointer;\n}\n.FCConvoList__folderDot::after {\n  --size: 8px;\n\n  content: '';\n  position: absolute;\n  top: calc(50% - var(--size) / 2);\n  left: calc(50% - var(--size) / 2);\n  display: block;\n  height: var(--size);\n  width: var(--size);\n  border-radius: 50%;\n  background: var(--accent);\n  opacity: 0.5;\n}\n.FCConvoList__folderDot--active::after {\n  opacity: 1;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCConvoList/FCConvoList.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,2BAA2B;AAC7B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,mBAAmB;EACnB,SAAS;EACT,UAAU;EACV,eAAe;AACjB;AACA;EACE,WAAW;;EAEX,WAAW;EACX,kBAAkB;EAClB,gCAAgC;EAChC,iCAAiC;EACjC,cAAc;EACd,mBAAmB;EACnB,kBAAkB;EAClB,kBAAkB;EAClB,yBAAyB;EACzB,YAAY;AACd;AACA;EACE,UAAU;AACZ",sourcesContent:[".FCConvoList__loader {\n  width: 100%;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--icon_tertiary);\n}\n\n.FCConvoList__virtual {\n  overscroll-behavior: none;\n}\n\n.FCConvoList__simplebar {\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.FCConvoList__folder {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  padding-right: 8px;\n}\n\n.FCConvoList__folderDot {\n  position: relative;\n  height: 24px;\n  width: 24px;\n  border-radius: 50%;\n  background: inherit;\n  border: 0;\n  outline: 0;\n  cursor: pointer;\n}\n.FCConvoList__folderDot::after {\n  --size: 8px;\n\n  content: '';\n  position: absolute;\n  top: calc(50% - var(--size) / 2);\n  left: calc(50% - var(--size) / 2);\n  display: block;\n  height: var(--size);\n  width: var(--size);\n  border-radius: 50%;\n  background: var(--accent);\n  opacity: 0.5;\n}\n.FCConvoList__folderDot--active::after {\n  opacity: 1;\n}\n"],sourceRoot:""}]);const s=a},5096:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCConvoListItem {\n  display: flex;\n  align-items: center;\n  padding: 6px 14px 6px 8px;\n  cursor: pointer;\n  border: 0;\n  width: 100%;\n  background: transparent;\n  text-align: left;\n  font: 500 13px/16px var(--font);\n  max-width: 100%;\n  overflow: hidden;\n  transition: background-color 0.2s ease;\n  grid-template-columns: auto 1fr auto;\n  flex: 0 0 auto;\n}\n\n.FCConvoListItem:hover,\n.FCConvoListItem[aria-selected='true'] {\n  background: var(--content_tint_background);\n  outline: none;\n}\n\n.FCConvoListItem--focused,\n.FCConvoListItem:focus {\n  outline: none;\n  background: var(--content_tint_background);\n}\n\n.FCConvoListItem__photo {\n  margin-right: 8px;\n}\n\n.FCConvoListItem__icons {\n  flex: 0 0 auto;\n  display: grid;\n  grid-auto-flow: column;\n  column-gap: 2px;\n  align-items: center;\n  margin-left: 10px;\n}\n\n.FCConvoListItem__unreadOut {\n  height: 8px;\n  width: 8px;\n  border-radius: 50%;\n  background: var(--counter_primary_background);\n}\n\n.FCConvoListItem--archived .FCConvoListItem__unreadOut,\n.FCConvoListItem--muted .FCConvoListItem__unreadOut {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.FCConvoListItem__mentionIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n  margin-right: 3px;\n}\n\n.FCConvoListItem__bombIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n  margin-right: 3px;\n}\n\n.FCConvoListItem--archived .FCConvoListItem__bombIcon,\n.FCConvoListItem--muted .FCConvoListItem__bombIcon {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.FCConvoListItem__pinIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  color: var(--counter_secondary_background);\n}\n\n.FCConvoListItem__archiveIcon {\n  position: absolute;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCConvoListItem/FCConvoListItem.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,yBAAyB;EACzB,eAAe;EACf,SAAS;EACT,WAAW;EACX,uBAAuB;EACvB,gBAAgB;EAChB,+BAA+B;EAC/B,eAAe;EACf,gBAAgB;EAChB,sCAAsC;EACtC,oCAAoC;EACpC,cAAc;AAChB;;AAEA;;EAEE,0CAA0C;EAC1C,aAAa;AACf;;AAEA;;EAEE,aAAa;EACb,0CAA0C;AAC5C;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,cAAc;EACd,aAAa;EACb,sBAAsB;EACtB,eAAe;EACf,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,UAAU;EACV,kBAAkB;EAClB,6CAA6C;AAC/C;;AAEA;;EAEE,+CAA+C;EAC/C,oCAAoC;AACtC;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,6CAA6C;EAC7C,kCAAkC;EAClC,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,6CAA6C;EAC7C,kCAAkC;EAClC,iBAAiB;AACnB;;AAEA;;EAEE,+CAA+C;EAC/C,oCAAoC;AACtC;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,0CAA0C;AAC5C;;AAEA;EACE,kBAAkB;AACpB",sourcesContent:[".FCConvoListItem {\n  display: flex;\n  align-items: center;\n  padding: 6px 14px 6px 8px;\n  cursor: pointer;\n  border: 0;\n  width: 100%;\n  background: transparent;\n  text-align: left;\n  font: 500 13px/16px var(--font);\n  max-width: 100%;\n  overflow: hidden;\n  transition: background-color 0.2s ease;\n  grid-template-columns: auto 1fr auto;\n  flex: 0 0 auto;\n}\n\n.FCConvoListItem:hover,\n.FCConvoListItem[aria-selected='true'] {\n  background: var(--content_tint_background);\n  outline: none;\n}\n\n.FCConvoListItem--focused,\n.FCConvoListItem:focus {\n  outline: none;\n  background: var(--content_tint_background);\n}\n\n.FCConvoListItem__photo {\n  margin-right: 8px;\n}\n\n.FCConvoListItem__icons {\n  flex: 0 0 auto;\n  display: grid;\n  grid-auto-flow: column;\n  column-gap: 2px;\n  align-items: center;\n  margin-left: 10px;\n}\n\n.FCConvoListItem__unreadOut {\n  height: 8px;\n  width: 8px;\n  border-radius: 50%;\n  background: var(--counter_primary_background);\n}\n\n.FCConvoListItem--archived .FCConvoListItem__unreadOut,\n.FCConvoListItem--muted .FCConvoListItem__unreadOut {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.FCConvoListItem__mentionIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n  margin-right: 3px;\n}\n\n.FCConvoListItem__bombIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n  margin-right: 3px;\n}\n\n.FCConvoListItem--archived .FCConvoListItem__bombIcon,\n.FCConvoListItem--muted .FCConvoListItem__bombIcon {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.FCConvoListItem__pinIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  color: var(--counter_secondary_background);\n}\n\n.FCConvoListItem__archiveIcon {\n  position: absolute;\n}\n"],sourceRoot:""}]);const s=a},7996:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCConvoPinnedMessage {\n  width: 100%;\n  height: 48px;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  z-index: 2;\n  background-color: var(--background_content);\n  padding: 8px 12px;\n  border-bottom: 1px solid var(--separator_alternate);\n}\n\n.FCConvoPinnedMessage__content {\n  display: flex;\n  align-items: center;\n  flex: 1 1 auto;\n  max-width: 100%;\n}\n\n.FCConvoPinnedMessage__pinIcon {\n  padding: 0;\n  margin: 0;\n  margin-right: 12px;\n  text-decoration: none;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  flex: 0 0 auto;\n  width: 20px;\n  height: 20px;\n  color: var(--icon_outline_secondary);\n}\n\n.FCConvoPinnedMessage__info {\n  display: flex;\n  font: 500 13px / 13px var(--font);\n  letter-spacing: 0.005em;\n  color: var(--text_tertiary);\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.FCConvoPinnedMessage__info--unpin {\n  margin: 0;\n  flex-direction: row;\n  white-space: nowrap;\n}\n\n.FCConvoPinnedMessage__title {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 16px;\n}\n\n.FCConvoPinnedMessage__authorLink {\n  color: var(--text_link);\n  text-decoration: none;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.FCConvoPinnedMessage__authorLink:hover {\n  text-decoration: underline;\n}\n\n.FCConvoPinnedMessage__messageDate {\n  margin-left: 4px;\n  white-space: nowrap;\n}\n\n.FCConvoPinnedMessage__message {\n  color: var(--text_primary);\n  font: 13px / 16px var(--font);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 16px;\n}\n\n.FCConvoPinnedMessage__hideButton {\n  height: 21.5px;\n  width: 21.5px;\n  flex: 0 0 auto;\n  margin-left: 12px;\n}\n\n.FCConvoPinnedMessage__unpinButton {\n  color: var(--text_link);\n  text-decoration: none;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  border: none;\n  background: transparent;\n  line-height: 13px;\n}\n.FCConvoPinnedMessage__hideButton--unpin {\n  margin-left: 0;\n}\n\n.FCConvoPinnedMessage__unpinButton:hover {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCConvoPinnedMessage/FCConvoPinnedMessage.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,UAAU;EACV,2CAA2C;EAC3C,iBAAiB;EACjB,mDAAmD;AACrD;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,UAAU;EACV,SAAS;EACT,kBAAkB;EAClB,qBAAqB;EACrB,oBAAoB;EACpB,uBAAuB;EACvB,mBAAmB;EACnB,cAAc;EACd,WAAW;EACX,YAAY;EACZ,oCAAoC;AACtC;;AAEA;EACE,aAAa;EACb,iCAAiC;EACjC,uBAAuB;EACvB,2BAA2B;EAC3B,sBAAsB;EACtB,uBAAuB;EACvB,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,SAAS;EACT,mBAAmB;EACnB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,2BAA2B;EAC3B,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,uBAAuB;EACvB,qBAAqB;EACrB,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,gBAAgB;EAChB,mBAAmB;AACrB;;AAEA;EACE,0BAA0B;EAC1B,6BAA6B;EAC7B,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,cAAc;EACd,aAAa;EACb,cAAc;EACd,iBAAiB;AACnB;;AAEA;EACE,uBAAuB;EACvB,qBAAqB;EACrB,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,uBAAuB;EACvB,iBAAiB;AACnB;AACA;EACE,cAAc;AAChB;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".FCConvoPinnedMessage {\n  width: 100%;\n  height: 48px;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  z-index: 2;\n  background-color: var(--background_content);\n  padding: 8px 12px;\n  border-bottom: 1px solid var(--separator_alternate);\n}\n\n.FCConvoPinnedMessage__content {\n  display: flex;\n  align-items: center;\n  flex: 1 1 auto;\n  max-width: 100%;\n}\n\n.FCConvoPinnedMessage__pinIcon {\n  padding: 0;\n  margin: 0;\n  margin-right: 12px;\n  text-decoration: none;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  flex: 0 0 auto;\n  width: 20px;\n  height: 20px;\n  color: var(--icon_outline_secondary);\n}\n\n.FCConvoPinnedMessage__info {\n  display: flex;\n  font: 500 13px / 13px var(--font);\n  letter-spacing: 0.005em;\n  color: var(--text_tertiary);\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.FCConvoPinnedMessage__info--unpin {\n  margin: 0;\n  flex-direction: row;\n  white-space: nowrap;\n}\n\n.FCConvoPinnedMessage__title {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 16px;\n}\n\n.FCConvoPinnedMessage__authorLink {\n  color: var(--text_link);\n  text-decoration: none;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.FCConvoPinnedMessage__authorLink:hover {\n  text-decoration: underline;\n}\n\n.FCConvoPinnedMessage__messageDate {\n  margin-left: 4px;\n  white-space: nowrap;\n}\n\n.FCConvoPinnedMessage__message {\n  color: var(--text_primary);\n  font: 13px / 16px var(--font);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 16px;\n}\n\n.FCConvoPinnedMessage__hideButton {\n  height: 21.5px;\n  width: 21.5px;\n  flex: 0 0 auto;\n  margin-left: 12px;\n}\n\n.FCConvoPinnedMessage__unpinButton {\n  color: var(--text_link);\n  text-decoration: none;\n  cursor: pointer;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  border: none;\n  background: transparent;\n  line-height: 13px;\n}\n.FCConvoPinnedMessage__hideButton--unpin {\n  margin-left: 0;\n}\n\n.FCConvoPinnedMessage__unpinButton:hover {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]);const s=a},1626:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCConvoPrivacyStub {\n  display: flex;\n  width: 100%;\n  padding: 14px;\n  justify-content: center;\n  align-items: center;\n}\n\n.FCConvoPrivacyStub__icon {\n  color: #ffa000; /* @TODO: correct token */\n  margin-right: 10px;\n}\n\n.FCConvoPrivacyStub__message {\n  font-weight: normal;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCConvoPrivacyStub/FCConvoPrivacyStub.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,WAAW;EACX,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,cAAc,EAAE,yBAAyB;EACzC,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB",sourcesContent:[".FCConvoPrivacyStub {\n  display: flex;\n  width: 100%;\n  padding: 14px;\n  justify-content: center;\n  align-items: center;\n}\n\n.FCConvoPrivacyStub__icon {\n  color: #ffa000; /* @TODO: correct token */\n  margin-right: 10px;\n}\n\n.FCConvoPrivacyStub__message {\n  font-weight: normal;\n}\n"],sourceRoot:""}]);const s=a},6529:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCIconButton {\n  border: 0;\n  background: none;\n  padding: 0;\n  margin: 0;\n  text-decoration: none;\n  cursor: pointer;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  color: var(--icon_medium);\n  opacity: 0.72;\n  transition: color 0.14s ease;\n}\n\n.FCIconButton:hover,\n.FCIconButton:focus {\n  opacity: 1;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCIconButton/FCIconButton.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT,gBAAgB;EAChB,UAAU;EACV,SAAS;EACT,qBAAqB;EACrB,eAAe;EACf,oBAAoB;EACpB,uBAAuB;EACvB,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,aAAa;EACb,4BAA4B;AAC9B;;AAEA;;EAEE,UAAU;AACZ",sourcesContent:[".FCIconButton {\n  border: 0;\n  background: none;\n  padding: 0;\n  margin: 0;\n  text-decoration: none;\n  cursor: pointer;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  color: var(--icon_medium);\n  opacity: 0.72;\n  transition: color 0.14s ease;\n}\n\n.FCIconButton:hover,\n.FCIconButton:focus {\n  opacity: 1;\n}\n"],sourceRoot:""}]);const s=a},1198:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCPanel {\n  --add-height: 36px;\n  --collapse-hover-delay: 0.15s;\n  --collapse-duration: 0.24s;\n  position: fixed;\n  right: 26px;\n  bottom: 0;\n  width: 52px;\n  z-index: 0; /* anchor for the stack */\n}\n\n.FCPanel__widthToggle {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  background: none;\n  border: 0;\n  position: absolute;\n  bottom: 100%;\n  right: 0;\n  cursor: pointer;\n  opacity: 0.7;\n  transition: opacity 0.2s ease;\n  z-index: 1; /* overrides collapse force field */\n}\n\n.FCPanel__widthToggleIcon {\n  width: 20px;\n  height: 20px;\n  fill: var(--icon_outline_secondary);\n  animation-name: meFCEWidthToggle;\n  animation-iteration-count: 1;\n  animation-duration: 0.3s;\n  animation-fill-mode: backwards;\n  animation-direction: reverse;\n}\n\n/* перезапускает анимацию */\n.FCPanel__widthToggle:active .FCPanel__widthToggleIcon {\n  animation-name: none;\n}\n\n.FCPanel__widthToggle:hover,\n.FCPanel__widthToggle:focus {\n  opacity: 1;\n}\n\n.FCPanel__widthToggle:focus {\n  outline: none;\n}\n\n.FCPanel__list {\n  background: var(--background_content);\n  box-shadow: 0 0 0 1px var(--separator_alternate);\n  border-radius: 8px 8px 0 0;\n  padding-bottom: var(--add-height);\n  transform: translateY(0);\n  transition: transform var(--collapse-duration) ease-in;\n}\n\n.FCPanel__add {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: var(--add-height);\n  background: var(--background_content);\n  border: 0;\n  position: absolute;\n  bottom: 0;\n  outline: none;\n  color: var(--icon_outline_medium);\n  cursor: pointer;\n  z-index: 0;\n}\n\n/* используем вместо непрозрачной заливки */\n.FCPanel__add::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-radius: inherit;\n  background: transparent;\n  transition: background 0.2s ease, opacity 0.2s;\n  z-index: -1;\n}\n\n.FCPanel__add:hover::before,\n.FCPanel__add:focus::before {\n  background: var(--background_hover);\n}\n\n.FCPanel__list:empty + .FCPanel__add {\n  border-radius: 8px 8px 0 0;\n}\n\n.FCPanel__addIcon {\n  opacity: 0.7;\n  animation-name: meFCListOpenToggle;\n  animation-duration: 0.16s;\n  animation-iteration-count: 1;\n}\n\n.FCPanel__add:hover .FCPanel__addIcon,\n.FCPanel__add:focus .FCPanel__addIcon {\n  opacity: 1;\n}\n\n.FCPanel__add {\n  font-family: inherit;\n}\n\n.FCPanel__addText {\n  font-size: 12.5px;\n  line-height: 16px;\n  color: var(--text_secondary);\n}\n\n/* Режим открытого списка */\n/* перезапускает анимацию */\n.FCPanel__add:active .FCPanel__addIcon {\n  animation-name: none;\n  transform: scale(0.7);\n  opacity: 0.15;\n  transition-duration: 0.1s;\n}\n\n@keyframes meFCListOpenToggle {\n  0% {\n    transform: scale(0.7);\n    opacity: 0.15;\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n/* Развернутый режим */\n.FCPanel--wide {\n  width: 148px;\n}\n\n.FCPanel--wide .FCPanel__widthToggleIcon {\n  animation-fill-mode: forwards;\n  animation-direction: normal;\n  transform: scaleX(-1) translateX(0);\n}\n\n.FCPanel--wide .FCPanel__add {\n  justify-content: flex-start;\n}\n\n.FCPanel--wide .FCPanel__addIcon {\n  margin: 0 10px 0 18px;\n}\n\n@keyframes meFCEWidthToggle {\n  0% {\n    transform: scaleX(1) translateX(0);\n  }\n  50% {\n    transform: scaleX(1) translateX(-12px);\n    opacity: 0.1;\n  }\n  50.1% {\n    transform: scaleX(-1) translateX(-12px);\n    opacity: 0.1;\n  }\n  100% {\n    transform: scaleX(-1) translateX(0);\n  }\n}\n\n/* Свернутый режим */\n.FCPanel--collapsed {\n  pointer-events: none;\n}\n\n/* Вручную управляем интерактивными областями в свернутом режиме,\n * так как трансформ оставляет родителя на месте */\n.FCPanel--collapsed .FCPanel__widthToggle,\n.FCPanel--collapsed .FCPanel__list,\n.FCPanel--collapsed .FCPanel__add {\n  pointer-events: auto;\n}\n\n/* Сворачиваем башню */\n.FCPanel--collapsed .FCPanel__list {\n  transform: translateY(calc(100% - var(--add-height)));\n  transition-timing-function: ease-out;\n}\n\n/* Дополнительный задел высотой в один элемент,\n * ловит ховер на список и предотвращает сворачивание панельки\n * при удалении первого элемента списка в свернутом режиме\n */\n.FCPanel--collapsed .FCPanel__list::before {\n  position: absolute;\n  bottom: 100%;\n  width: 100%;\n  padding-top: 100%; /* считаем, что элемент списка квадратный */\n  z-index: -1;\n}\n\n.FCPanel--collapsed .FCPanel__list:hover::before {\n  content: '';\n}\n\n/* Тьюнинг задержки скругления уголков на разворачивании */\n.FCPanel--collapsed .FCPanel__add {\n  transition: border-radius 0s ease calc(var(--collapse-hover-delay) + 0.01s);\n}\n\n/* Тьюнинг задержки скругления уголков на сворачивании */\n.FCPanel--collapsed:not(:hover) .FCPanel__add {\n  border-radius: 8px 8px 0 0;\n  transition-delay: 0.05s;\n}\n\n/* Разворачиваем по ховеру, но с небольшой защитой от проведения мимо */\n.FCPanel--collapsed:hover .FCPanel__list {\n  transform: translateY(0);\n  transition-delay: var(--collapse-hover-delay);\n}\n\n/* Показываем экспандер после анимации башни */\n.FCPanel--collapsed:hover .FCPanel__widthToggle {\n  transition-delay: calc(\n    var(--collapse-hover-delay) + var(--collapse-duration)\n  );\n}\n\n/* Прячем экспандер перед башней */\n.FCPanel--collapsed:not(:hover) .FCPanel__widthToggle {\n  opacity: 0;\n  pointer-events: none;\n  transition-delay: 0s;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCPanel/FCPanel.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,6BAA6B;EAC7B,0BAA0B;EAC1B,eAAe;EACf,WAAW;EACX,SAAS;EACT,WAAW;EACX,UAAU,EAAE,yBAAyB;AACvC;;AAEA;EACE,aAAa;EACb,yBAAyB;EACzB,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,SAAS;EACT,kBAAkB;EAClB,YAAY;EACZ,QAAQ;EACR,eAAe;EACf,YAAY;EACZ,6BAA6B;EAC7B,UAAU,EAAE,mCAAmC;AACjD;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,mCAAmC;EACnC,gCAAgC;EAChC,4BAA4B;EAC5B,wBAAwB;EACxB,8BAA8B;EAC9B,4BAA4B;AAC9B;;AAEA,2BAA2B;AAC3B;EACE,oBAAoB;AACtB;;AAEA;;EAEE,UAAU;AACZ;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,qCAAqC;EACrC,gDAAgD;EAChD,0BAA0B;EAC1B,iCAAiC;EACjC,wBAAwB;EACxB,sDAAsD;AACxD;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,yBAAyB;EACzB,qCAAqC;EACrC,SAAS;EACT,kBAAkB;EAClB,SAAS;EACT,aAAa;EACb,iCAAiC;EACjC,eAAe;EACf,UAAU;AACZ;;AAEA,2CAA2C;AAC3C;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;EACP,sBAAsB;EACtB,uBAAuB;EACvB,8CAA8C;EAC9C,WAAW;AACb;;AAEA;;EAEE,mCAAmC;AACrC;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,YAAY;EACZ,kCAAkC;EAClC,yBAAyB;EACzB,4BAA4B;AAC9B;;AAEA;;EAEE,UAAU;AACZ;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,iBAAiB;EACjB,iBAAiB;EACjB,4BAA4B;AAC9B;;AAEA,2BAA2B;AAC3B,2BAA2B;AAC3B;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,yBAAyB;AAC3B;;AAEA;EACE;IACE,qBAAqB;IACrB,aAAa;EACf;EACA;IACE,mBAAmB;EACrB;AACF;;AAEA,sBAAsB;AACtB;EACE,YAAY;AACd;;AAEA;EACE,6BAA6B;EAC7B,2BAA2B;EAC3B,mCAAmC;AACrC;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE;IACE,kCAAkC;EACpC;EACA;IACE,sCAAsC;IACtC,YAAY;EACd;EACA;IACE,uCAAuC;IACvC,YAAY;EACd;EACA;IACE,mCAAmC;EACrC;AACF;;AAEA,oBAAoB;AACpB;EACE,oBAAoB;AACtB;;AAEA;kDACkD;AAClD;;;EAGE,oBAAoB;AACtB;;AAEA,sBAAsB;AACtB;EACE,qDAAqD;EACrD,oCAAoC;AACtC;;AAEA;;;EAGE;AACF;EACE,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,iBAAiB,EAAE,2CAA2C;EAC9D,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA,0DAA0D;AAC1D;EACE,2EAA2E;AAC7E;;AAEA,wDAAwD;AACxD;EACE,0BAA0B;EAC1B,uBAAuB;AACzB;;AAEA,uEAAuE;AACvE;EACE,wBAAwB;EACxB,6CAA6C;AAC/C;;AAEA,8CAA8C;AAC9C;EACE;;GAEC;AACH;;AAEA,kCAAkC;AAClC;EACE,UAAU;EACV,oBAAoB;EACpB,oBAAoB;AACtB",sourcesContent:[".FCPanel {\n  --add-height: 36px;\n  --collapse-hover-delay: 0.15s;\n  --collapse-duration: 0.24s;\n  position: fixed;\n  right: 26px;\n  bottom: 0;\n  width: 52px;\n  z-index: 0; /* anchor for the stack */\n}\n\n.FCPanel__widthToggle {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  background: none;\n  border: 0;\n  position: absolute;\n  bottom: 100%;\n  right: 0;\n  cursor: pointer;\n  opacity: 0.7;\n  transition: opacity 0.2s ease;\n  z-index: 1; /* overrides collapse force field */\n}\n\n.FCPanel__widthToggleIcon {\n  width: 20px;\n  height: 20px;\n  fill: var(--icon_outline_secondary);\n  animation-name: meFCEWidthToggle;\n  animation-iteration-count: 1;\n  animation-duration: 0.3s;\n  animation-fill-mode: backwards;\n  animation-direction: reverse;\n}\n\n/* перезапускает анимацию */\n.FCPanel__widthToggle:active .FCPanel__widthToggleIcon {\n  animation-name: none;\n}\n\n.FCPanel__widthToggle:hover,\n.FCPanel__widthToggle:focus {\n  opacity: 1;\n}\n\n.FCPanel__widthToggle:focus {\n  outline: none;\n}\n\n.FCPanel__list {\n  background: var(--background_content);\n  box-shadow: 0 0 0 1px var(--separator_alternate);\n  border-radius: 8px 8px 0 0;\n  padding-bottom: var(--add-height);\n  transform: translateY(0);\n  transition: transform var(--collapse-duration) ease-in;\n}\n\n.FCPanel__add {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: var(--add-height);\n  background: var(--background_content);\n  border: 0;\n  position: absolute;\n  bottom: 0;\n  outline: none;\n  color: var(--icon_outline_medium);\n  cursor: pointer;\n  z-index: 0;\n}\n\n/* используем вместо непрозрачной заливки */\n.FCPanel__add::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-radius: inherit;\n  background: transparent;\n  transition: background 0.2s ease, opacity 0.2s;\n  z-index: -1;\n}\n\n.FCPanel__add:hover::before,\n.FCPanel__add:focus::before {\n  background: var(--background_hover);\n}\n\n.FCPanel__list:empty + .FCPanel__add {\n  border-radius: 8px 8px 0 0;\n}\n\n.FCPanel__addIcon {\n  opacity: 0.7;\n  animation-name: meFCListOpenToggle;\n  animation-duration: 0.16s;\n  animation-iteration-count: 1;\n}\n\n.FCPanel__add:hover .FCPanel__addIcon,\n.FCPanel__add:focus .FCPanel__addIcon {\n  opacity: 1;\n}\n\n.FCPanel__add {\n  font-family: inherit;\n}\n\n.FCPanel__addText {\n  font-size: 12.5px;\n  line-height: 16px;\n  color: var(--text_secondary);\n}\n\n/* Режим открытого списка */\n/* перезапускает анимацию */\n.FCPanel__add:active .FCPanel__addIcon {\n  animation-name: none;\n  transform: scale(0.7);\n  opacity: 0.15;\n  transition-duration: 0.1s;\n}\n\n@keyframes meFCListOpenToggle {\n  0% {\n    transform: scale(0.7);\n    opacity: 0.15;\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n/* Развернутый режим */\n.FCPanel--wide {\n  width: 148px;\n}\n\n.FCPanel--wide .FCPanel__widthToggleIcon {\n  animation-fill-mode: forwards;\n  animation-direction: normal;\n  transform: scaleX(-1) translateX(0);\n}\n\n.FCPanel--wide .FCPanel__add {\n  justify-content: flex-start;\n}\n\n.FCPanel--wide .FCPanel__addIcon {\n  margin: 0 10px 0 18px;\n}\n\n@keyframes meFCEWidthToggle {\n  0% {\n    transform: scaleX(1) translateX(0);\n  }\n  50% {\n    transform: scaleX(1) translateX(-12px);\n    opacity: 0.1;\n  }\n  50.1% {\n    transform: scaleX(-1) translateX(-12px);\n    opacity: 0.1;\n  }\n  100% {\n    transform: scaleX(-1) translateX(0);\n  }\n}\n\n/* Свернутый режим */\n.FCPanel--collapsed {\n  pointer-events: none;\n}\n\n/* Вручную управляем интерактивными областями в свернутом режиме,\n * так как трансформ оставляет родителя на месте */\n.FCPanel--collapsed .FCPanel__widthToggle,\n.FCPanel--collapsed .FCPanel__list,\n.FCPanel--collapsed .FCPanel__add {\n  pointer-events: auto;\n}\n\n/* Сворачиваем башню */\n.FCPanel--collapsed .FCPanel__list {\n  transform: translateY(calc(100% - var(--add-height)));\n  transition-timing-function: ease-out;\n}\n\n/* Дополнительный задел высотой в один элемент,\n * ловит ховер на список и предотвращает сворачивание панельки\n * при удалении первого элемента списка в свернутом режиме\n */\n.FCPanel--collapsed .FCPanel__list::before {\n  position: absolute;\n  bottom: 100%;\n  width: 100%;\n  padding-top: 100%; /* считаем, что элемент списка квадратный */\n  z-index: -1;\n}\n\n.FCPanel--collapsed .FCPanel__list:hover::before {\n  content: '';\n}\n\n/* Тьюнинг задержки скругления уголков на разворачивании */\n.FCPanel--collapsed .FCPanel__add {\n  transition: border-radius 0s ease calc(var(--collapse-hover-delay) + 0.01s);\n}\n\n/* Тьюнинг задержки скругления уголков на сворачивании */\n.FCPanel--collapsed:not(:hover) .FCPanel__add {\n  border-radius: 8px 8px 0 0;\n  transition-delay: 0.05s;\n}\n\n/* Разворачиваем по ховеру, но с небольшой защитой от проведения мимо */\n.FCPanel--collapsed:hover .FCPanel__list {\n  transform: translateY(0);\n  transition-delay: var(--collapse-hover-delay);\n}\n\n/* Показываем экспандер после анимации башни */\n.FCPanel--collapsed:hover .FCPanel__widthToggle {\n  transition-delay: calc(\n    var(--collapse-hover-delay) + var(--collapse-duration)\n  );\n}\n\n/* Прячем экспандер перед башней */\n.FCPanel--collapsed:not(:hover) .FCPanel__widthToggle {\n  opacity: 0;\n  pointer-events: none;\n  transition-delay: 0s;\n}\n"],sourceRoot:""}]);const s=a},1121:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCSearch {\n  position: relative;\n  width: 100%;\n  color: var(--icon_outline_secondary);\n}\n\n.FCSearch__icon {\n  position: absolute;\n  top: 50%;\n  left: 10px;\n  margin-top: -8px;\n  pointer-events: none;\n}\n\n.FCSearch__input.FCSearch__input {\n  display: block;\n  width: 100%;\n  border: 0;\n  background: transparent;\n  font: 15px/20px var(--font);\n  padding: 0 34px;\n  outline: none;\n  color: var(--text_primary);\n  line-height: 43px;\n}\n\n.FCSearch__input::placeholder {\n  color: var(--text_tertiary);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCSearch/FCSearch.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,WAAW;EACX,oCAAoC;AACtC;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,gBAAgB;EAChB,oBAAoB;AACtB;;AAEA;EACE,cAAc;EACd,WAAW;EACX,SAAS;EACT,uBAAuB;EACvB,2BAA2B;EAC3B,eAAe;EACf,aAAa;EACb,0BAA0B;EAC1B,iBAAiB;AACnB;;AAEA;EACE,2BAA2B;AAC7B",sourcesContent:[".FCSearch {\n  position: relative;\n  width: 100%;\n  color: var(--icon_outline_secondary);\n}\n\n.FCSearch__icon {\n  position: absolute;\n  top: 50%;\n  left: 10px;\n  margin-top: -8px;\n  pointer-events: none;\n}\n\n.FCSearch__input.FCSearch__input {\n  display: block;\n  width: 100%;\n  border: 0;\n  background: transparent;\n  font: 15px/20px var(--font);\n  padding: 0 34px;\n  outline: none;\n  color: var(--text_primary);\n  line-height: 43px;\n}\n\n.FCSearch__input::placeholder {\n  color: var(--text_tertiary);\n}\n"],sourceRoot:""}]);const s=a},5419:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCThumb {\n  --fc-convo-item-bg: var(--background_content);\n  position: relative;\n  background: var(--fc-convo-item-bg);\n  transition: background 0.2s ease;\n}\n\n.FCThumb:focus,\n.FCThumb:hover {\n  --fc-convo-item-bg: var(--background_hover);\n}\n\n.FCThumb.FCThumb--selected {\n  --fc-convo-item-bg: var(--background_highlighted);\n}\n\n.FCThumb:first-child {\n  border-radius: 8px 8px 0 0;\n}\n\n.FCThumb__link,\n.FCThumb__link:hover {\n  display: flex;\n  padding: 6px;\n  cursor: pointer;\n  text-decoration: none;\n  font-size: 13px;\n  line-height: 16px;\n}\n\n.FCThumb__unread {\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  z-index: 1;\n  background: var(--counter_prominent_background);\n  color: var(--counter_prominent_text);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);\n  text-align: center;\n  padding: 2px 4px;\n  border-radius: 9px;\n  /* В макете нет семиболда + кегль 12px, поправить при переходе на VK Sans */\n  font: 500 11px/14px var(--font);\n  min-width: 18px;\n  min-height: 18px;\n}\n\n.FCThumb__unread--blue {\n  background: var(--counter_primary_background);\n}\n\n.FCThumb--muted .FCThumb__unread,\n.FCThumb--archived .FCThumb__unread {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.FCThumb__title {\n  margin-left: 8px;\n}\n\n.FCThumb__archiveIcon {\n  position: absolute;\n}\n\n.FCThumb__close {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  background: transparent;\n  outline: none;\n  border: 0;\n  opacity: 0;\n  z-index: 1;\n}\n\n.FCThumb:hover .FCThumb__close {\n  opacity: 1;\n}\n\n.FCThumb--collapsed .FCThumb__close {\n  width: 18px;\n  height: 18px;\n  position: absolute;\n  top: 5px;\n  right: 4px;\n  color: var(--counter_prominent_text); /* @TODO: correct token */\n  background: rgba(0, 0, 0, 0.56); /* @TODO: correct token */\n  border-radius: 50%;\n  transition: opacity 0.14s ease, background 0.14s ease;\n}\n\n.FCThumb--collapsed .FCThumb__close::before {\n  content: '';\n  position: absolute;\n  top: -5px;\n  right: -4px;\n  bottom: 0;\n  left: 0;\n  max-width: initial; /* @TODO discuss global override */\n}\n\n.FCThumb--collapsed .FCThumb__close:hover {\n  background: rgba(0, 0, 0, 0.7);\n}\n\n.FCThumb--wide .FCThumb__close {\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 8px;\n  top: 16px;\n  background: var(--background_content) /* красим подложку */;\n  color: var(--icon_secondary);\n  box-shadow: -7px 0 10px 8px var(--fc-convo-item-bg) /* красим затенение */,\n    -7px 0 10px 8px var(--background_content) /* красим затенение */,\n    inset 0 0 0 20px var(--fc-convo-item-bg) /* красим подложку */;\n  transition: opacity 0.14s ease, box-shadow 0.2s ease;\n}\n\n.FCThumb--wide .FCThumb__close > * {\n  opacity: 0.7;\n  transition: opacity 0.14s ease;\n}\n\n.FCThumb--wide .FCThumb__close:hover > * {\n  opacity: 1;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCThumb/FCThumb.css"],names:[],mappings:"AAAA;EACE,6CAA6C;EAC7C,kBAAkB;EAClB,mCAAmC;EACnC,gCAAgC;AAClC;;AAEA;;EAEE,2CAA2C;AAC7C;;AAEA;EACE,iDAAiD;AACnD;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;;EAEE,aAAa;EACb,YAAY;EACZ,eAAe;EACf,qBAAqB;EACrB,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,+CAA+C;EAC/C,oCAAoC;EACpC,yCAAyC;EACzC,kBAAkB;EAClB,gBAAgB;EAChB,kBAAkB;EAClB,2EAA2E;EAC3E,+BAA+B;EAC/B,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,6CAA6C;AAC/C;;AAEA;;EAEE,+CAA+C;EAC/C,oCAAoC;AACtC;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,eAAe;EACf,uBAAuB;EACvB,aAAa;EACb,SAAS;EACT,UAAU;EACV,UAAU;AACZ;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,oCAAoC,EAAE,yBAAyB;EAC/D,+BAA+B,EAAE,yBAAyB;EAC1D,kBAAkB;EAClB,qDAAqD;AACvD;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,SAAS;EACT,OAAO;EACP,kBAAkB,EAAE,kCAAkC;AACxD;;AAEA;EACE,8BAA8B;AAChC;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,UAAU;EACV,SAAS;EACT,2DAA2D;EAC3D,4BAA4B;EAC5B;;kEAEgE;EAChE,oDAAoD;AACtD;;AAEA;EACE,YAAY;EACZ,8BAA8B;AAChC;;AAEA;EACE,UAAU;AACZ",sourcesContent:[".FCThumb {\n  --fc-convo-item-bg: var(--background_content);\n  position: relative;\n  background: var(--fc-convo-item-bg);\n  transition: background 0.2s ease;\n}\n\n.FCThumb:focus,\n.FCThumb:hover {\n  --fc-convo-item-bg: var(--background_hover);\n}\n\n.FCThumb.FCThumb--selected {\n  --fc-convo-item-bg: var(--background_highlighted);\n}\n\n.FCThumb:first-child {\n  border-radius: 8px 8px 0 0;\n}\n\n.FCThumb__link,\n.FCThumb__link:hover {\n  display: flex;\n  padding: 6px;\n  cursor: pointer;\n  text-decoration: none;\n  font-size: 13px;\n  line-height: 16px;\n}\n\n.FCThumb__unread {\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  z-index: 1;\n  background: var(--counter_prominent_background);\n  color: var(--counter_prominent_text);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);\n  text-align: center;\n  padding: 2px 4px;\n  border-radius: 9px;\n  /* В макете нет семиболда + кегль 12px, поправить при переходе на VK Sans */\n  font: 500 11px/14px var(--font);\n  min-width: 18px;\n  min-height: 18px;\n}\n\n.FCThumb__unread--blue {\n  background: var(--counter_primary_background);\n}\n\n.FCThumb--muted .FCThumb__unread,\n.FCThumb--archived .FCThumb__unread {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.FCThumb__title {\n  margin-left: 8px;\n}\n\n.FCThumb__archiveIcon {\n  position: absolute;\n}\n\n.FCThumb__close {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  background: transparent;\n  outline: none;\n  border: 0;\n  opacity: 0;\n  z-index: 1;\n}\n\n.FCThumb:hover .FCThumb__close {\n  opacity: 1;\n}\n\n.FCThumb--collapsed .FCThumb__close {\n  width: 18px;\n  height: 18px;\n  position: absolute;\n  top: 5px;\n  right: 4px;\n  color: var(--counter_prominent_text); /* @TODO: correct token */\n  background: rgba(0, 0, 0, 0.56); /* @TODO: correct token */\n  border-radius: 50%;\n  transition: opacity 0.14s ease, background 0.14s ease;\n}\n\n.FCThumb--collapsed .FCThumb__close::before {\n  content: '';\n  position: absolute;\n  top: -5px;\n  right: -4px;\n  bottom: 0;\n  left: 0;\n  max-width: initial; /* @TODO discuss global override */\n}\n\n.FCThumb--collapsed .FCThumb__close:hover {\n  background: rgba(0, 0, 0, 0.7);\n}\n\n.FCThumb--wide .FCThumb__close {\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 8px;\n  top: 16px;\n  background: var(--background_content) /* красим подложку */;\n  color: var(--icon_secondary);\n  box-shadow: -7px 0 10px 8px var(--fc-convo-item-bg) /* красим затенение */,\n    -7px 0 10px 8px var(--background_content) /* красим затенение */,\n    inset 0 0 0 20px var(--fc-convo-item-bg) /* красим подложку */;\n  transition: opacity 0.14s ease, box-shadow 0.2s ease;\n}\n\n.FCThumb--wide .FCThumb__close > * {\n  opacity: 0.7;\n  transition: opacity 0.14s ease;\n}\n\n.FCThumb--wide .FCThumb__close:hover > * {\n  opacity: 1;\n}\n"],sourceRoot:""}]);const s=a},4090:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".FCWindow {\n  --border-radius: 8px;\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  background: var(--background_content);\n  box-shadow: 0 1px 0 var(--separator_alternate),\n    0 0 0 1px var(--separator_alternate), 0 0 2px rgba(0, 0, 0, 0.08),\n    0 8px 24px rgba(0, 0, 0, 0.08);\n  border-radius: var(--border-radius) var(--border-radius) 0 0;\n  min-height: 120px;\n  display: flex;\n  flex-direction: column;\n  animation: FCWindow__in 0.2s ease;\n}\n\n.FCWindow--blocked::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  border-radius: inherit;\n  background: transparent;\n}\n\n.FCWindow--active {\n  z-index: 1;\n}\n\n.FCWindow__header {\n  display: flex;\n  align-items: center;\n  height: 44px;\n  border-bottom: 1px solid var(--separator_alternate);\n  border-radius: 8px 8px 0 0;\n  flex: 0 0 44px;\n}\n\n/**\n * Повышаем специфичность, чтобы перебить 011 ([dir] h1) в vkcom\n */\n.FCWindow__title.FCWindow__title {\n  margin: 0;\n  padding: 10px;\n  flex: 1 1 auto;\n  font: 500 13px/16px var(--font);\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  cursor: grab;\n  user-select: none;\n  color: var(--text_primary);\n}\n\n.FCWindow--dragging .FCWindow__title {\n  cursor: grabbing;\n}\n\n.FCWindow__actions {\n  flex: 0 0 auto;\n  padding-right: 6px;\n}\n\n/* change to gap when we drop safari < 14 support */\n.FCWindow__actions > :nth-child(n + 2) {\n  margin-left: 4px;\n}\n\n.FCWindow__content {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  overflow: auto;\n  overscroll-behavior: none;\n}\n\n.FCWindow__footer {\n  flex-shrink: 0;\n  position: relative;\n  display: flex;\n  align-items: center;\n  border-top: 1px solid var(--separator_alternate);\n}\n\n.FCWindow--rounded {\n  border-radius: var(--border-radius);\n  overflow: hidden;\n}\n\n@keyframes FCWindow__in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n","",{version:3,sources:["webpack://./src/browser/ui/FCWindow/FCWindow.css"],names:[],mappings:"AAAA;EACE,oBAAoB;EACpB,eAAe;EACf,QAAQ;EACR,SAAS;EACT,qCAAqC;EACrC;;kCAEgC;EAChC,4DAA4D;EAC5D,iBAAiB;EACjB,aAAa;EACb,sBAAsB;EACtB,iCAAiC;AACnC;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,YAAY;EACZ,mDAAmD;EACnD,0BAA0B;EAC1B,cAAc;AAChB;;AAEA;;EAEE;AACF;EACE,SAAS;EACT,aAAa;EACb,cAAc;EACd,+BAA+B;EAC/B,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,iBAAiB;EACjB,0BAA0B;AAC5B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,kBAAkB;AACpB;;AAEA,mDAAmD;AACnD;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,cAAc;EACd,cAAc;EACd,yBAAyB;AAC3B;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,gDAAgD;AAClD;;AAEA;EACE,mCAAmC;EACnC,gBAAgB;AAClB;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF",sourcesContent:[".FCWindow {\n  --border-radius: 8px;\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  background: var(--background_content);\n  box-shadow: 0 1px 0 var(--separator_alternate),\n    0 0 0 1px var(--separator_alternate), 0 0 2px rgba(0, 0, 0, 0.08),\n    0 8px 24px rgba(0, 0, 0, 0.08);\n  border-radius: var(--border-radius) var(--border-radius) 0 0;\n  min-height: 120px;\n  display: flex;\n  flex-direction: column;\n  animation: FCWindow__in 0.2s ease;\n}\n\n.FCWindow--blocked::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  border-radius: inherit;\n  background: transparent;\n}\n\n.FCWindow--active {\n  z-index: 1;\n}\n\n.FCWindow__header {\n  display: flex;\n  align-items: center;\n  height: 44px;\n  border-bottom: 1px solid var(--separator_alternate);\n  border-radius: 8px 8px 0 0;\n  flex: 0 0 44px;\n}\n\n/**\n * Повышаем специфичность, чтобы перебить 011 ([dir] h1) в vkcom\n */\n.FCWindow__title.FCWindow__title {\n  margin: 0;\n  padding: 10px;\n  flex: 1 1 auto;\n  font: 500 13px/16px var(--font);\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  cursor: grab;\n  user-select: none;\n  color: var(--text_primary);\n}\n\n.FCWindow--dragging .FCWindow__title {\n  cursor: grabbing;\n}\n\n.FCWindow__actions {\n  flex: 0 0 auto;\n  padding-right: 6px;\n}\n\n/* change to gap when we drop safari < 14 support */\n.FCWindow__actions > :nth-child(n + 2) {\n  margin-left: 4px;\n}\n\n.FCWindow__content {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  overflow: auto;\n  overscroll-behavior: none;\n}\n\n.FCWindow__footer {\n  flex-shrink: 0;\n  position: relative;\n  display: flex;\n  align-items: center;\n  border-top: 1px solid var(--separator_alternate);\n}\n\n.FCWindow--rounded {\n  border-radius: var(--border-radius);\n  overflow: hidden;\n}\n\n@keyframes FCWindow__in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n"],sourceRoot:""}]);const s=a},2019:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ForwardedMessage {\n  position: relative;\n  padding: 0 0 0 var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.ForwardedMessage:first-of-type {\n  margin-top: var(--messageVerticalIndent);\n}\n.ForwardedMessage + .ForwardedMessage {\n  padding-top: var(--messageHorizontalIndent);\n}\n\n.ForwardedMessage .ForwardedMessage {\n  margin-left: calc(-0.5 * var(--messageHorizontalIndent));\n}\n\n.ForwardedMessage::before {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 2px;\n  content: '';\n  background: var(--im_forward_line_tint);\n}\n\n.ForwardedMessage:first-of-type::before {\n  border-radius: 1px 1px 0 0;\n}\n\n.ForwardedMessage:last-of-type::before {\n  border-radius: 0 0 1px 1px;\n}\n\n.ForwardedMessage__header {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'avatar title'\n    'avatar date';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  margin: 0 0 calc(0.5 * var(--messageVerticalIndent));\n}\n\n.ForwardedMessage__avatar {\n  grid-area: avatar;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n}\n\n.ForwardedMessage__title {\n  color: var(--text_link);\n  grid-area: title;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ForwardedMessage__titleLink {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n}\n\n.ForwardedMessage__link,\n.ForwardedMessage__link:hover {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.ForwardedMessage__date {\n  grid-area: date;\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ForwardedMessage__empty {\n  color: var(--text_secondary);\n}\n\n.ForwardedMessage__text:empty + .ForwardedMessage__attachments {\n  padding-top: calc(0.5 * var(--messageVerticalIndent));\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ForwardedMessage/ForwardedMessage.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,6CAA6C;EAC7C,mEAAmE;AACrE;;AAEA;EACE,wCAAwC;AAC1C;AACA;EACE,2CAA2C;AAC7C;;AAEA;EACE,wDAAwD;AAC1D;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,UAAU;EACV,WAAW;EACX,uCAAuC;AACzC;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB;;iBAEe;EACf,oCAAoC;EACpC,2BAA2B;EAC3B,oDAAoD;AACtD;;AAEA;EACE,iBAAiB;EACjB,wDAAwD;AAC1D;;AAEA;EACE,uBAAuB;EACvB,gBAAgB;EAChB,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,uBAAuB;EACvB,sEAAsE;EACtE,qBAAqB;AACvB;;AAEA;;EAEE,qBAAqB;EACrB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,4BAA4B;EAC5B,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,qDAAqD;AACvD",sourcesContent:[".ForwardedMessage {\n  position: relative;\n  padding: 0 0 0 var(--messageHorizontalIndent);\n  font: var(--messageFontSize) / var(--messageLineHeight) var(--font);\n}\n\n.ForwardedMessage:first-of-type {\n  margin-top: var(--messageVerticalIndent);\n}\n.ForwardedMessage + .ForwardedMessage {\n  padding-top: var(--messageHorizontalIndent);\n}\n\n.ForwardedMessage .ForwardedMessage {\n  margin-left: calc(-0.5 * var(--messageHorizontalIndent));\n}\n\n.ForwardedMessage::before {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 2px;\n  content: '';\n  background: var(--im_forward_line_tint);\n}\n\n.ForwardedMessage:first-of-type::before {\n  border-radius: 1px 1px 0 0;\n}\n\n.ForwardedMessage:last-of-type::before {\n  border-radius: 0 0 1px 1px;\n}\n\n.ForwardedMessage__header {\n  display: grid;\n  align-items: center;\n  grid-template-areas:\n    'avatar title'\n    'avatar date';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  margin: 0 0 calc(0.5 * var(--messageVerticalIndent));\n}\n\n.ForwardedMessage__avatar {\n  grid-area: avatar;\n  margin-right: calc(0.8 * var(--messageHorizontalIndent));\n}\n\n.ForwardedMessage__title {\n  color: var(--text_link);\n  grid-area: title;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ForwardedMessage__titleLink {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  text-decoration: none;\n}\n\n.ForwardedMessage__link,\n.ForwardedMessage__link:hover {\n  text-decoration: none;\n  color: var(--text_link);\n  cursor: pointer;\n}\n\n.ForwardedMessage__date {\n  grid-area: date;\n  color: var(--text_secondary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ForwardedMessage__empty {\n  color: var(--text_secondary);\n}\n\n.ForwardedMessage__text:empty + .ForwardedMessage__attachments {\n  padding-top: calc(0.5 * var(--messageVerticalIndent));\n}\n"],sourceRoot:""}]);const s=a},2650:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".HorizontalScroll {\n  position: relative;\n  overflow: hidden;\n}\n\n.HorizontalScroll__in {\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n  padding-bottom: 20px;\n  margin-bottom: -20px;\n}\n\n.HorizontalScroll__in::-webkit-scrollbar {\n  display: none;\n}\n\n.HorizontalScroll__in-wrapper {\n  transition: transform 0.2s;\n}\n\n.HorizontalScroll__leftBorder {\n  position: absolute;\n  width: 20px;\n  opacity: 0;\n  background: linear-gradient(\n    90deg,\n    var(--background_content),\n    transparent 70%\n  );\n  height: 100%;\n  will-change: opacity;\n  transition: opacity 0.15s;\n  top: 0;\n  left: 0;\n  z-index: 1;\n}\n\n.HorizontalScroll__leftBorder--active {\n  opacity: 1;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/HorizontalScroll/HorizontalScroll.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,iCAAiC;EACjC,oBAAoB;EACpB,oBAAoB;AACtB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,UAAU;EACV;;;;GAIC;EACD,YAAY;EACZ,oBAAoB;EACpB,yBAAyB;EACzB,MAAM;EACN,OAAO;EACP,UAAU;AACZ;;AAEA;EACE,UAAU;AACZ",sourcesContent:[".HorizontalScroll {\n  position: relative;\n  overflow: hidden;\n}\n\n.HorizontalScroll__in {\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n  padding-bottom: 20px;\n  margin-bottom: -20px;\n}\n\n.HorizontalScroll__in::-webkit-scrollbar {\n  display: none;\n}\n\n.HorizontalScroll__in-wrapper {\n  transition: transform 0.2s;\n}\n\n.HorizontalScroll__leftBorder {\n  position: absolute;\n  width: 20px;\n  opacity: 0;\n  background: linear-gradient(\n    90deg,\n    var(--background_content),\n    transparent 70%\n  );\n  height: 100%;\n  will-change: opacity;\n  transition: opacity 0.15s;\n  top: 0;\n  left: 0;\n  z-index: 1;\n}\n\n.HorizontalScroll__leftBorder--active {\n  opacity: 1;\n}\n"],sourceRoot:""}]);const s=a},4672:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".HorizontalScroll__arrow {\n  position: absolute;\n  cursor: pointer;\n  user-select: auto;\n  top: 0;\n  height: 100%;\n  opacity: 0;\n  z-index: 3;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  transition: opacity 0.15s;\n}\n\n.HorizontalScroll--ios .HorizontalScroll__arrow,\n.Gallery--ios .HorizontalScroll__arrow {\n  transition-timing-function: var(--ios-easing);\n}\n\n.HorizontalScroll--android .HorizontalScroll__arrow,\n.HorizontalScroll--vkcom .HorizontalScroll__arrow,\n.Gallery--android .HorizontalScroll__arrow,\n.Gallery--vkcom .HorizontalScroll__arrow {\n  transition-timing-function: var(--android-easing);\n}\n\n.HorizontalScroll:hover .HorizontalScroll__arrow,\n.Gallery:hover .HorizontalScroll__arrow {\n  opacity: 0.72;\n}\n\n.HorizontalScroll:hover .HorizontalScroll__arrow:hover,\n.Gallery:hover .HorizontalScroll__arrow:hover {\n  opacity: 1;\n}\n\n.HorizontalScroll__arrow-icon {\n  background-color: var(--modal_card_background);\n  color: var(--icon_secondary);\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.12), 0 0 10px rgba(0, 0, 0, 0.2);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.HorizontalScroll__arrow-left {\n  left: 0;\n}\n\n.HorizontalScroll__arrow-left .HorizontalScroll__arrow-icon {\n  transform: rotate(180deg);\n}\n\n.HorizontalScroll__arrow-right {\n  right: 0;\n}\n\n.HorizontalScroll__arrow-left:hover\n  ~ .HorizontalScroll__in\n  .HorizontalScroll__in-wrapper {\n  transform: translateX(8px);\n}\n\n.HorizontalScroll__arrow-right:hover\n  ~ .HorizontalScroll__in\n  .HorizontalScroll__in-wrapper {\n  transform: translateX(-8px);\n}\n\n.HorizontalScroll__arrow--size-s.HorizontalScroll__arrow-left {\n  padding-left: 12px;\n}\n\n.HorizontalScroll__arrow--size-s.HorizontalScroll__arrow-right {\n  padding-right: 12px;\n}\n\n.HorizontalScroll__arrow--size-s .HorizontalScroll__arrow-icon {\n  width: 24px;\n  height: 24px;\n}\n\n.HorizontalScroll__arrow--size-m.HorizontalScroll__arrow-left {\n  padding-left: 16px;\n}\n\n.HorizontalScroll__arrow--size-m.HorizontalScroll__arrow-right {\n  padding-right: 16px;\n}\n\n.HorizontalScroll__arrow--size-m .HorizontalScroll__arrow-icon {\n  width: 40px;\n  height: 40px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/HorizontalScrollArrow/HorizontalScrollArrow.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,eAAe;EACf,iBAAiB;EACjB,MAAM;EACN,YAAY;EACZ,UAAU;EACV,UAAU;EACV,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,yBAAyB;AAC3B;;AAEA;;EAEE,6CAA6C;AAC/C;;AAEA;;;;EAIE,iDAAiD;AACnD;;AAEA;;EAEE,aAAa;AACf;;AAEA;;EAEE,UAAU;AACZ;;AAEA;EACE,8CAA8C;EAC9C,4BAA4B;EAC5B,oEAAoE;EACpE,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,QAAQ;AACV;;AAEA;;;EAGE,0BAA0B;AAC5B;;AAEA;;;EAGE,2BAA2B;AAC7B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,YAAY;AACd",sourcesContent:[".HorizontalScroll__arrow {\n  position: absolute;\n  cursor: pointer;\n  user-select: auto;\n  top: 0;\n  height: 100%;\n  opacity: 0;\n  z-index: 3;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  transition: opacity 0.15s;\n}\n\n.HorizontalScroll--ios .HorizontalScroll__arrow,\n.Gallery--ios .HorizontalScroll__arrow {\n  transition-timing-function: var(--ios-easing);\n}\n\n.HorizontalScroll--android .HorizontalScroll__arrow,\n.HorizontalScroll--vkcom .HorizontalScroll__arrow,\n.Gallery--android .HorizontalScroll__arrow,\n.Gallery--vkcom .HorizontalScroll__arrow {\n  transition-timing-function: var(--android-easing);\n}\n\n.HorizontalScroll:hover .HorizontalScroll__arrow,\n.Gallery:hover .HorizontalScroll__arrow {\n  opacity: 0.72;\n}\n\n.HorizontalScroll:hover .HorizontalScroll__arrow:hover,\n.Gallery:hover .HorizontalScroll__arrow:hover {\n  opacity: 1;\n}\n\n.HorizontalScroll__arrow-icon {\n  background-color: var(--modal_card_background);\n  color: var(--icon_secondary);\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.12), 0 0 10px rgba(0, 0, 0, 0.2);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.HorizontalScroll__arrow-left {\n  left: 0;\n}\n\n.HorizontalScroll__arrow-left .HorizontalScroll__arrow-icon {\n  transform: rotate(180deg);\n}\n\n.HorizontalScroll__arrow-right {\n  right: 0;\n}\n\n.HorizontalScroll__arrow-left:hover\n  ~ .HorizontalScroll__in\n  .HorizontalScroll__in-wrapper {\n  transform: translateX(8px);\n}\n\n.HorizontalScroll__arrow-right:hover\n  ~ .HorizontalScroll__in\n  .HorizontalScroll__in-wrapper {\n  transform: translateX(-8px);\n}\n\n.HorizontalScroll__arrow--size-s.HorizontalScroll__arrow-left {\n  padding-left: 12px;\n}\n\n.HorizontalScroll__arrow--size-s.HorizontalScroll__arrow-right {\n  padding-right: 12px;\n}\n\n.HorizontalScroll__arrow--size-s .HorizontalScroll__arrow-icon {\n  width: 24px;\n  height: 24px;\n}\n\n.HorizontalScroll__arrow--size-m.HorizontalScroll__arrow-left {\n  padding-left: 16px;\n}\n\n.HorizontalScroll__arrow--size-m.HorizontalScroll__arrow-right {\n  padding-right: 16px;\n}\n\n.HorizontalScroll__arrow--size-m .HorizontalScroll__arrow-icon {\n  width: 40px;\n  height: 40px;\n}\n"],sourceRoot:""}]);const s=a},6624:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".MessagePreview {\n  padding-right: 0.5ch; /* Оставляем небольшой запас для того, чтобы эмоджи не обрезались */\n}\n\n.MessagePreview__attach {\n  color: var(--text_link);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/MessagePreview/MessagePreview.css"],names:[],mappings:"AAAA;EACE,oBAAoB,EAAE,mEAAmE;AAC3F;;AAEA;EACE,uBAAuB;AACzB",sourcesContent:[".MessagePreview {\n  padding-right: 0.5ch; /* Оставляем небольшой запас для того, чтобы эмоджи не обрезались */\n}\n\n.MessagePreview__attach {\n  color: var(--text_link);\n}\n"],sourceRoot:""}]);const s=a},8516:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".MessageText {\n}\n\n.MessageText__link {\n  text-decoration: none;\n  color: var(--text_link);\n  padding: 1px 0; /* Без дырок между строк */\n}\n\n.MessageText__link:hover {\n  opacity: 0.9;\n}\n\n.MessageText__pseudoLink {\n  color: var(--text_link);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/MessageText/MessageText.css"],names:[],mappings:"AAAA;AACA;;AAEA;EACE,qBAAqB;EACrB,uBAAuB;EACvB,cAAc,EAAE,0BAA0B;AAC5C;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,uBAAuB;AACzB",sourcesContent:[".MessageText {\n}\n\n.MessageText__link {\n  text-decoration: none;\n  color: var(--text_link);\n  padding: 1px 0; /* Без дырок между строк */\n}\n\n.MessageText__link:hover {\n  opacity: 0.9;\n}\n\n.MessageText__pseudoLink {\n  color: var(--text_link);\n}\n"],sourceRoot:""}]);const s=a},5701:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".NoResults {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  flex-direction: column;\n  font: 13px/16px var(--font);\n  color: var(--text_secondary);\n  flex: 1 0 auto;\n}\n\n.NoResults__text {\n  padding: 16px 0 0;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/NoResults/NoResults.css"],names:[],mappings:"AAAA;EACE,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,kBAAkB;EAClB,sBAAsB;EACtB,2BAA2B;EAC3B,4BAA4B;EAC5B,cAAc;AAChB;;AAEA;EACE,iBAAiB;AACnB",sourcesContent:[".NoResults {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  flex-direction: column;\n  font: 13px/16px var(--font);\n  color: var(--text_secondary);\n  flex: 1 0 auto;\n}\n\n.NoResults__text {\n  padding: 16px 0 0;\n}\n"],sourceRoot:""}]);const s=a},5312:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".OptimizedSpinner {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/OptimizedSpinner/OptimizedSpinner.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;AACd",sourcesContent:[".OptimizedSpinner {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n"],sourceRoot:""}]);const s=a},8049:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".PeerInfo {\n  display: grid;\n  min-width: 240px;\n  max-width: 400px;\n  padding: 12px 20px 12px 12px;\n  gap: 0 12px;\n  grid-template-areas:\n    'avatar title'\n    'avatar status'\n    'avatar followers'\n    'avatar mutual'\n    'avatar actions';\n}\n\n.PeerInfo__title {\n  grid-area: title;\n  overflow: hidden;\n}\n\n.PeerInfo__link {\n  color: var(--text_link);\n  text-decoration: none;\n  overflow: hidden;\n}\n\n.PeerInfo__link:hover {\n  text-decoration: underline;\n}\n\n.PeerInfo__name {\n  font-size: 14px;\n  line-height: 18px;\n  letter-spacing: -0.004em;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.PeerInfo__verified {\n  display: inline-block;\n  color: var(--accent);\n}\n\n.PeerInfo__avatar {\n  grid-area: avatar;\n}\n\n.PeerInfo__status {\n  grid-area: status;\n  margin-top: 4px;\n  font: 13px / 16px var(--font);\n  color: var(--text_subhead);\n}\n\n.PeerInfo__mutual {\n  grid-area: mutual;\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n  margin-top: 12px;\n  color: var(--text_secondary);\n}\n\n.PeerInfo__followers {\n  grid-area: followers;\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n  margin-top: 4px;\n  color: var(--text_secondary);\n}\n\n.PeerInfo__actions {\n  grid-area: actions;\n  margin-top: 12px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/PeerInfo/PeerInfo.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,gBAAgB;EAChB,gBAAgB;EAChB,4BAA4B;EAC5B,WAAW;EACX;;;;;oBAKkB;AACpB;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,uBAAuB;EACvB,qBAAqB;EACrB,gBAAgB;AAClB;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,wBAAwB;EACxB,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;EACrB,oBAAoB;AACtB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,eAAe;EACf,6BAA6B;EAC7B,0BAA0B;AAC5B;;AAEA;EACE,iBAAiB;EACjB,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,gBAAgB;EAChB,4BAA4B;AAC9B;;AAEA;EACE,oBAAoB;EACpB,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,eAAe;EACf,4BAA4B;AAC9B;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;AAClB",sourcesContent:[".PeerInfo {\n  display: grid;\n  min-width: 240px;\n  max-width: 400px;\n  padding: 12px 20px 12px 12px;\n  gap: 0 12px;\n  grid-template-areas:\n    'avatar title'\n    'avatar status'\n    'avatar followers'\n    'avatar mutual'\n    'avatar actions';\n}\n\n.PeerInfo__title {\n  grid-area: title;\n  overflow: hidden;\n}\n\n.PeerInfo__link {\n  color: var(--text_link);\n  text-decoration: none;\n  overflow: hidden;\n}\n\n.PeerInfo__link:hover {\n  text-decoration: underline;\n}\n\n.PeerInfo__name {\n  font-size: 14px;\n  line-height: 18px;\n  letter-spacing: -0.004em;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.PeerInfo__verified {\n  display: inline-block;\n  color: var(--accent);\n}\n\n.PeerInfo__avatar {\n  grid-area: avatar;\n}\n\n.PeerInfo__status {\n  grid-area: status;\n  margin-top: 4px;\n  font: 13px / 16px var(--font);\n  color: var(--text_subhead);\n}\n\n.PeerInfo__mutual {\n  grid-area: mutual;\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n  margin-top: 12px;\n  color: var(--text_secondary);\n}\n\n.PeerInfo__followers {\n  grid-area: followers;\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n  margin-top: 4px;\n  color: var(--text_secondary);\n}\n\n.PeerInfo__actions {\n  grid-area: actions;\n  margin-top: 12px;\n}\n"],sourceRoot:""}]);const s=a},8422:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".PeerInfoActions {\n  display: grid;\n  gap: 8px;\n  grid-auto-flow: column;\n  justify-items: start;\n  justify-content: start;\n  position: relative;\n}\n\n.PeerInfoActions__callDropdown {\n  position: absolute;\n  z-index: 1;\n  top: 100%;\n  left: 50%;\n  margin-top: 4px;\n  max-width: initial;\n  background: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  pointer-events: none;\n  padding: 8px 0;\n  transform: translate(-50%, 10px);\n  opacity: 0;\n  transition: transform 0.3s 0.2s ease, opacity 0.2s 0.3s ease-in;\n}\n\n.PeerInfoActions__callDropdown--visible {\n  transform: translate(-50%, 0);\n  opacity: 1;\n  pointer-events: all;\n  transition: transform 0.3s ease, opacity 0.2s ease-out;\n}\n\n.PeerInfoActions__callDropdownList {\n  display: flex;\n  flex-flow: column nowrap;\n  max-width: initial;\n}\n\n.PeerInfoActions__buttonIcon {\n  transform: translateY(1px);\n}\n\n.PeerInfoActions__callDropdownAction {\n  padding: 8px 12px;\n  background: var(--modal_card_background);\n  border: none;\n  outline: none;\n  box-shadow: none;\n  cursor: pointer;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-self: flex-start;\n}\n\n.PeerInfoActions__callDropdownAction:hover {\n  background: var(--background_hover);\n}\n\n.PeerInfoActions__callDropdownIcon,\n.PeerInfoActions__callDropdownText {\n  margin-right: 8px;\n}\n\n.PeerInfoActions__callDropdownText {\n  font-size: 14px;\n  line-height: 18px;\n  color: var(--text_primary);\n}\n\n.PeerInfoActions__callDropdownIcon {\n  color: var(--accent);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/PeerInfoActions/PeerInfoActions.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,QAAQ;EACR,sBAAsB;EACtB,oBAAoB;EACpB,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,SAAS;EACT,SAAS;EACT,eAAe;EACf,kBAAkB;EAClB,wCAAwC;EACxC,kBAAkB;EAClB,6CAA6C;EAC7C,oBAAoB;EACpB,cAAc;EACd,gCAAgC;EAChC,UAAU;EACV,+DAA+D;AACjE;;AAEA;EACE,6BAA6B;EAC7B,UAAU;EACV,mBAAmB;EACnB,sDAAsD;AACxD;;AAEA;EACE,aAAa;EACb,wBAAwB;EACxB,kBAAkB;AACpB;;AAEA;EACE,0BAA0B;AAC5B;;AAEA;EACE,iBAAiB;EACjB,wCAAwC;EACxC,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,eAAe;EACf,aAAa;EACb,qBAAqB;EACrB,mBAAmB;EACnB,wBAAwB;AAC1B;;AAEA;EACE,mCAAmC;AACrC;;AAEA;;EAEE,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,0BAA0B;AAC5B;;AAEA;EACE,oBAAoB;AACtB",sourcesContent:[".PeerInfoActions {\n  display: grid;\n  gap: 8px;\n  grid-auto-flow: column;\n  justify-items: start;\n  justify-content: start;\n  position: relative;\n}\n\n.PeerInfoActions__callDropdown {\n  position: absolute;\n  z-index: 1;\n  top: 100%;\n  left: 50%;\n  margin-top: 4px;\n  max-width: initial;\n  background: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  pointer-events: none;\n  padding: 8px 0;\n  transform: translate(-50%, 10px);\n  opacity: 0;\n  transition: transform 0.3s 0.2s ease, opacity 0.2s 0.3s ease-in;\n}\n\n.PeerInfoActions__callDropdown--visible {\n  transform: translate(-50%, 0);\n  opacity: 1;\n  pointer-events: all;\n  transition: transform 0.3s ease, opacity 0.2s ease-out;\n}\n\n.PeerInfoActions__callDropdownList {\n  display: flex;\n  flex-flow: column nowrap;\n  max-width: initial;\n}\n\n.PeerInfoActions__buttonIcon {\n  transform: translateY(1px);\n}\n\n.PeerInfoActions__callDropdownAction {\n  padding: 8px 12px;\n  background: var(--modal_card_background);\n  border: none;\n  outline: none;\n  box-shadow: none;\n  cursor: pointer;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-self: flex-start;\n}\n\n.PeerInfoActions__callDropdownAction:hover {\n  background: var(--background_hover);\n}\n\n.PeerInfoActions__callDropdownIcon,\n.PeerInfoActions__callDropdownText {\n  margin-right: 8px;\n}\n\n.PeerInfoActions__callDropdownText {\n  font-size: 14px;\n  line-height: 18px;\n  color: var(--text_primary);\n}\n\n.PeerInfoActions__callDropdownIcon {\n  color: var(--accent);\n}\n"],sourceRoot:""}]);const s=a},3669:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".PeerInfoPopper__popper {\n  background: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  position: relative;\n  z-index: 100;\n  margin: 8px 0;\n  opacity: 1;\n  transition: opacity 0.14s linear 0.3s, transform 0.14s linear 0.3s;\n}\n\n.PeerInfoPopper__popper--appear {\n  pointer-events: none;\n  transform: translateY(-10px);\n  opacity: 0;\n}\n\n.PeerInfoPopper__popper--appear-active {\n  opacity: 1;\n  transform: none;\n}\n\n.PeerInfoPopper__popper--exit {\n  opacity: 1;\n  transform: none;\n}\n\n.PeerInfoPopper__popper--exit-active {\n  transform: translateY(-10px);\n  opacity: 0;\n  transition: opacity 0.1s linear 0.1s, transform 0.1s linear 0.1s;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/PeerInfoPopper/PeerInfoPopper.css"],names:[],mappings:"AAAA;EACE,wCAAwC;EACxC,kBAAkB;EAClB,6CAA6C;EAC7C,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,UAAU;EACV,kEAAkE;AACpE;;AAEA;EACE,oBAAoB;EACpB,4BAA4B;EAC5B,UAAU;AACZ;;AAEA;EACE,UAAU;EACV,eAAe;AACjB;;AAEA;EACE,UAAU;EACV,eAAe;AACjB;;AAEA;EACE,4BAA4B;EAC5B,UAAU;EACV,gEAAgE;AAClE",sourcesContent:[".PeerInfoPopper__popper {\n  background: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  position: relative;\n  z-index: 100;\n  margin: 8px 0;\n  opacity: 1;\n  transition: opacity 0.14s linear 0.3s, transform 0.14s linear 0.3s;\n}\n\n.PeerInfoPopper__popper--appear {\n  pointer-events: none;\n  transform: translateY(-10px);\n  opacity: 0;\n}\n\n.PeerInfoPopper__popper--appear-active {\n  opacity: 1;\n  transform: none;\n}\n\n.PeerInfoPopper__popper--exit {\n  opacity: 1;\n  transform: none;\n}\n\n.PeerInfoPopper__popper--exit-active {\n  transform: translateY(-10px);\n  opacity: 0;\n  transition: opacity 0.1s linear 0.1s, transform 0.1s linear 0.1s;\n}\n"],sourceRoot:""}]);const s=a},5822:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".PeerTitle {\n  display: flex;\n  align-items: center;\n  color: inherit;\n  font-family: var(--font);\n  font-size: inherit;\n  line-height: inherit;\n  font-weight: inherit;\n  flex: 1 1 auto;\n  overflow: hidden;\n  max-width: 100%;\n}\n\n.PeerTitle__title {\n  flex: 0 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.PeerTitle--vkAdmin .PeerTitle__title {\n  color: var(--dynamic_green);\n}\n\n.PeerTitle__icon {\n  margin-left: 5px;\n}\n\n.PeerTitle__verifiedIcon {\n  flex: 0 0 auto;\n  color: var(--accent);\n}\n.PeerTitle--vkAdmin .PeerTitle__verifiedIcon {\n  display: none;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/PeerTitle/PeerTitle.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,cAAc;EACd,wBAAwB;EACxB,kBAAkB;EAClB,oBAAoB;EACpB,oBAAoB;EACpB,cAAc;EACd,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;AACA;EACE,2BAA2B;AAC7B;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,oBAAoB;AACtB;AACA;EACE,aAAa;AACf",sourcesContent:[".PeerTitle {\n  display: flex;\n  align-items: center;\n  color: inherit;\n  font-family: var(--font);\n  font-size: inherit;\n  line-height: inherit;\n  font-weight: inherit;\n  flex: 1 1 auto;\n  overflow: hidden;\n  max-width: 100%;\n}\n\n.PeerTitle__title {\n  flex: 0 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.PeerTitle--vkAdmin .PeerTitle__title {\n  color: var(--dynamic_green);\n}\n\n.PeerTitle__icon {\n  margin-left: 5px;\n}\n\n.PeerTitle__verifiedIcon {\n  flex: 0 0 auto;\n  color: var(--accent);\n}\n.PeerTitle--vkAdmin .PeerTitle__verifiedIcon {\n  display: none;\n}\n"],sourceRoot:""}]);const s=a},5653:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".MEPopper {\n  position: absolute;\n  width: 0;\n  height: 0;\n  display: flex;\n  z-index: calc(var(--fcZIndex, 1) + 1);\n}\n\n.MEPopper--top {\n  align-items: flex-end;\n}\n\n.MEPopper--right {\n  justify-content: left;\n  align-items: center;\n}\n\n.MEPopper--bottom {\n  align-items: flex-start;\n}\n\n.MEPopper--left {\n  justify-content: left;\n  align-items: center;\n  direction: rtl;\n}\n\n.MEPopper--alignLeft {\n  justify-content: left;\n}\n\n.MEPopper--alignCenter {\n  justify-content: center;\n}\n\n.MEPopper--alignRight {\n  direction: rtl;\n  justify-content: right;\n}\n\n.MEPopper > * {\n  direction: ltr;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Popper/Popper.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,aAAa;EACb,qCAAqC;AACvC;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,cAAc;AAChB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,sBAAsB;AACxB;;AAEA;EACE,cAAc;AAChB",sourcesContent:[".MEPopper {\n  position: absolute;\n  width: 0;\n  height: 0;\n  display: flex;\n  z-index: calc(var(--fcZIndex, 1) + 1);\n}\n\n.MEPopper--top {\n  align-items: flex-end;\n}\n\n.MEPopper--right {\n  justify-content: left;\n  align-items: center;\n}\n\n.MEPopper--bottom {\n  align-items: flex-start;\n}\n\n.MEPopper--left {\n  justify-content: left;\n  align-items: center;\n  direction: rtl;\n}\n\n.MEPopper--alignLeft {\n  justify-content: left;\n}\n\n.MEPopper--alignCenter {\n  justify-content: center;\n}\n\n.MEPopper--alignRight {\n  direction: rtl;\n  justify-content: right;\n}\n\n.MEPopper > * {\n  direction: ltr;\n}\n"],sourceRoot:""}]);const s=a},8067:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Popover {\n  position: absolute;\n}\n\n.Popover--top {\n  padding-bottom: 8px;\n}\n\n.Popover--bottom {\n  padding-top: 8px;\n}\n\n.Popover--left {\n  padding-right: 8px;\n}\n\n.Popover--right {\n  padding-left: 8px;\n}\n\n.Popover__wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 5;\n}\n\n.Popover__content {\n  background-color: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  position: relative;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ProfileInfoTTApp/Popover.css"],names:[],mappings:"AAAA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,UAAU;AACZ;;AAEA;EACE,8CAA8C;EAC9C,kBAAkB;EAClB,6CAA6C;EAC7C,kBAAkB;AACpB",sourcesContent:[".Popover {\n  position: absolute;\n}\n\n.Popover--top {\n  padding-bottom: 8px;\n}\n\n.Popover--bottom {\n  padding-top: 8px;\n}\n\n.Popover--left {\n  padding-right: 8px;\n}\n\n.Popover--right {\n  padding-left: 8px;\n}\n\n.Popover__wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 5;\n}\n\n.Popover__content {\n  background-color: var(--modal_card_background);\n  border-radius: 8px;\n  box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.32);\n  position: relative;\n}\n"],sourceRoot:""}]);const s=a},7438:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ProfileInfoTTApp__popover--appear {\n  pointer-events: none;\n  transform: translateY(-20px);\n  opacity: 0;\n}\n\n.ProfileInfoTTApp__popover--appear-active {\n  opacity: 1;\n  transform: none;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n\n.ProfileInfoTTApp__popover--exit {\n  opacity: 1;\n  transform: none;\n}\n\n.ProfileInfoTTApp__popover--exit-active {\n  transform: translateY(-20px);\n  opacity: 0;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ProfileInfoTTApp/ProfileInfoTTApp.css"],names:[],mappings:"AAAA;EACE,oBAAoB;EACpB,4BAA4B;EAC5B,UAAU;AACZ;;AAEA;EACE,UAAU;EACV,eAAe;EACf,gEAAgE;AAClE;;AAEA;EACE,UAAU;EACV,eAAe;AACjB;;AAEA;EACE,4BAA4B;EAC5B,UAAU;EACV,gEAAgE;AAClE",sourcesContent:[".ProfileInfoTTApp__popover--appear {\n  pointer-events: none;\n  transform: translateY(-20px);\n  opacity: 0;\n}\n\n.ProfileInfoTTApp__popover--appear-active {\n  opacity: 1;\n  transform: none;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n\n.ProfileInfoTTApp__popover--exit {\n  opacity: 1;\n  transform: none;\n}\n\n.ProfileInfoTTApp__popover--exit-active {\n  transform: translateY(-20px);\n  opacity: 0;\n  transition: opacity 0.1s linear 0.2s, transform 0.1s linear 0.2s;\n}\n"],sourceRoot:""}]);const s=a},1798:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Reply {\n  position: relative;\n  flex: 0 1 128px;\n  padding: calc(0.5 * var(--messageVerticalIndent))\n    var(--messageHorizontalIndent);\n  white-space: nowrap;\n}\n\n.Reply::before {\n  position: absolute;\n  top: calc(0.5 * var(--messageVerticalIndent));\n  bottom: calc(0.5 * var(--messageVerticalIndent));\n  left: 0;\n  width: 2px;\n  border-radius: 2px;\n  background: var(--im_reply_separator);\n  content: '';\n}\n\n.Reply__author {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 0 2px;\n}\n\n.Reply__authorLink {\n  color: var(--text_link);\n  text-decoration: none;\n}\n\n.Reply__content {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/RepliedMessage/RepliedMessage.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,eAAe;EACf;kCACgC;EAChC,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,6CAA6C;EAC7C,gDAAgD;EAChD,OAAO;EACP,UAAU;EACV,kBAAkB;EAClB,qCAAqC;EACrC,WAAW;AACb;;AAEA;EACE,uBAAuB;EACvB,sEAAsE;EACtE,gBAAgB;EAChB,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,uBAAuB;EACvB,qBAAqB;AACvB;;AAEA;EACE,gBAAgB;EAChB,uBAAuB;AACzB",sourcesContent:[".Reply {\n  position: relative;\n  flex: 0 1 128px;\n  padding: calc(0.5 * var(--messageVerticalIndent))\n    var(--messageHorizontalIndent);\n  white-space: nowrap;\n}\n\n.Reply::before {\n  position: absolute;\n  top: calc(0.5 * var(--messageVerticalIndent));\n  bottom: calc(0.5 * var(--messageVerticalIndent));\n  left: 0;\n  width: 2px;\n  border-radius: 2px;\n  background: var(--im_reply_separator);\n  content: '';\n}\n\n.Reply__author {\n  color: var(--text_link);\n  font: 500 0.925em / calc(0.875 * var(--messageLineHeight)) var(--font);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0 0 2px;\n}\n\n.Reply__authorLink {\n  color: var(--text_link);\n  text-decoration: none;\n}\n\n.Reply__content {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n"],sourceRoot:""}]);const s=a},5958:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".SearchResult {\n  display: grid;\n  align-items: center;\n  gap: 10px;\n  padding: 6px 10px;\n  cursor: pointer;\n  border: 0;\n  width: 100%;\n  background: transparent;\n  text-align: left;\n  font: 500 14px/22px var(--font);\n  max-width: 100%;\n  overflow: hidden;\n  transition: background-color 0.2s ease;\n  grid-template-columns: auto 1fr auto;\n}\n\n.SearchResult:hover,\n.SearchResult[aria-selected='true'] {\n  background: var(--content_tint_background);\n  outline: none;\n}\n\n.SearchResult:focus {\n  outline: none;\n}\n\n.SearchResult__icons {\n  flex: 0 0 auto;\n  display: flex;\n  justify-content: flex-end;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/SearchResult/SearchResult.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,SAAS;EACT,iBAAiB;EACjB,eAAe;EACf,SAAS;EACT,WAAW;EACX,uBAAuB;EACvB,gBAAgB;EAChB,+BAA+B;EAC/B,eAAe;EACf,gBAAgB;EAChB,sCAAsC;EACtC,oCAAoC;AACtC;;AAEA;;EAEE,0CAA0C;EAC1C,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;EACd,aAAa;EACb,yBAAyB;AAC3B",sourcesContent:[".SearchResult {\n  display: grid;\n  align-items: center;\n  gap: 10px;\n  padding: 6px 10px;\n  cursor: pointer;\n  border: 0;\n  width: 100%;\n  background: transparent;\n  text-align: left;\n  font: 500 14px/22px var(--font);\n  max-width: 100%;\n  overflow: hidden;\n  transition: background-color 0.2s ease;\n  grid-template-columns: auto 1fr auto;\n}\n\n.SearchResult:hover,\n.SearchResult[aria-selected='true'] {\n  background: var(--content_tint_background);\n  outline: none;\n}\n\n.SearchResult:focus {\n  outline: none;\n}\n\n.SearchResult__icons {\n  flex: 0 0 auto;\n  display: flex;\n  justify-content: flex-end;\n}\n"],sourceRoot:""}]);const s=a},5982:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".ServiceMessage {\n  color: #828282; /* @TODO: correct token */\n  font: calc(0.925 * var(--messageFontSize)) / var(--messageLineHeight)\n    var(--font);\n  box-sizing: border-box;\n  width: 100%;\n  padding: 5px calc(2 * var(--messageHorizontalIndent));\n  text-align: center;\n}\n\n.ServiceMessage__link {\n  text-decoration: none;\n  color: #828282; /* @TODO: correct token */\n  font-weight: 500;\n  transition: opacity 0.2s ease;\n}\n\n.ServiceMessage__link:hover {\n  opacity: 0.8;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/ServiceMessage/ServiceMessage.css"],names:[],mappings:"AAAA;EACE,cAAc,EAAE,yBAAyB;EACzC;eACa;EACb,sBAAsB;EACtB,WAAW;EACX,qDAAqD;EACrD,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;EACrB,cAAc,EAAE,yBAAyB;EACzC,gBAAgB;EAChB,6BAA6B;AAC/B;;AAEA;EACE,YAAY;AACd",sourcesContent:[".ServiceMessage {\n  color: #828282; /* @TODO: correct token */\n  font: calc(0.925 * var(--messageFontSize)) / var(--messageLineHeight)\n    var(--font);\n  box-sizing: border-box;\n  width: 100%;\n  padding: 5px calc(2 * var(--messageHorizontalIndent));\n  text-align: center;\n}\n\n.ServiceMessage__link {\n  text-decoration: none;\n  color: #828282; /* @TODO: correct token */\n  font-weight: 500;\n  transition: opacity 0.2s ease;\n}\n\n.ServiceMessage__link:hover {\n  opacity: 0.8;\n}\n"],sourceRoot:""}]);const s=a},5630:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Settings {\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  position: relative;\n  z-index: 0; /* stack context for children */\n}\n\n.Settings__loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: var(--background_content);\n  z-index: 2;\n}\n\n.Settings__switch {\n  margin: 0 10px;\n}\n\n.Settings__button {\n  background: none;\n  border: 0;\n  margin: 0;\n  cursor: pointer;\n  outline: none;\n  display: inline-flex;\n  align-items: center;\n  font-size: 13px;\n  color: var(--text_link);\n  padding: 4px 0;\n  opacity: 1;\n  transition: opacity 0.05s;\n}\n\n.Settings__button:hover,\n.Settings__button:focus {\n  opacity: 0.7;\n}\n\n.Settings__buttonChevron {\n  margin-left: 4px;\n  margin-bottom: -2px;\n  color: var(--icon_tertiary);\n}\n\n/* VKUI overrides */\n.Settings__select .PopoutRoot--absolute .vkuiActionSheet {\n  top: 100% !important;\n  right: 0;\n  left: auto !important;\n  padding: 4px 0;\n}\n\n.Settings__select\n  .vkuiActionSheetItem--withSubtitle\n  .vkuiActionSheetItem__container {\n  padding: 8px 0;\n}\n\n.Settings__select .vkuiActionSheetItem--vkcom {\n  padding: 0 12px;\n}\n\n.Settings__select .vkuiActionSheetItem__marker,\n.Settings__select .vkuiActionSheetItem__marker .Icon--done_24,\n.Settings__select .vkuiActionSheetItem__marker svg {\n  width: 16px !important;\n  height: 16px !important;\n}\n\n.Settings__select .vkuiText--vkcom {\n  font-size: 13px;\n  line-height: 16px;\n}\n\n.Settings__select .vkuiCaption--vkcom {\n  font-size: 12px;\n  line-height: 14px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Settings/Settings.css"],names:[],mappings:"AAAA;EACE,UAAU;EACV,SAAS;EACT,gBAAgB;EAChB,kBAAkB;EAClB,UAAU,EAAE,+BAA+B;AAC7C;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,qCAAqC;EACrC,UAAU;AACZ;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,gBAAgB;EAChB,SAAS;EACT,SAAS;EACT,eAAe;EACf,aAAa;EACb,oBAAoB;EACpB,mBAAmB;EACnB,eAAe;EACf,uBAAuB;EACvB,cAAc;EACd,UAAU;EACV,yBAAyB;AAC3B;;AAEA;;EAEE,YAAY;AACd;;AAEA;EACE,gBAAgB;EAChB,mBAAmB;EACnB,2BAA2B;AAC7B;;AAEA,mBAAmB;AACnB;EACE,oBAAoB;EACpB,QAAQ;EACR,qBAAqB;EACrB,cAAc;AAChB;;AAEA;;;EAGE,cAAc;AAChB;;AAEA;EACE,eAAe;AACjB;;AAEA;;;EAGE,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,iBAAiB;AACnB",sourcesContent:[".Settings {\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  position: relative;\n  z-index: 0; /* stack context for children */\n}\n\n.Settings__loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: var(--background_content);\n  z-index: 2;\n}\n\n.Settings__switch {\n  margin: 0 10px;\n}\n\n.Settings__button {\n  background: none;\n  border: 0;\n  margin: 0;\n  cursor: pointer;\n  outline: none;\n  display: inline-flex;\n  align-items: center;\n  font-size: 13px;\n  color: var(--text_link);\n  padding: 4px 0;\n  opacity: 1;\n  transition: opacity 0.05s;\n}\n\n.Settings__button:hover,\n.Settings__button:focus {\n  opacity: 0.7;\n}\n\n.Settings__buttonChevron {\n  margin-left: 4px;\n  margin-bottom: -2px;\n  color: var(--icon_tertiary);\n}\n\n/* VKUI overrides */\n.Settings__select .PopoutRoot--absolute .vkuiActionSheet {\n  top: 100% !important;\n  right: 0;\n  left: auto !important;\n  padding: 4px 0;\n}\n\n.Settings__select\n  .vkuiActionSheetItem--withSubtitle\n  .vkuiActionSheetItem__container {\n  padding: 8px 0;\n}\n\n.Settings__select .vkuiActionSheetItem--vkcom {\n  padding: 0 12px;\n}\n\n.Settings__select .vkuiActionSheetItem__marker,\n.Settings__select .vkuiActionSheetItem__marker .Icon--done_24,\n.Settings__select .vkuiActionSheetItem__marker svg {\n  width: 16px !important;\n  height: 16px !important;\n}\n\n.Settings__select .vkuiText--vkcom {\n  font-size: 13px;\n  line-height: 16px;\n}\n\n.Settings__select .vkuiCaption--vkcom {\n  font-size: 12px;\n  line-height: 14px;\n}\n"],sourceRoot:""}]);const s=a},2405:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".SettingsApp {\n}\n","",{version:3,sources:["webpack://./src/browser/ui/SettingsApp/SettingsApp.css"],names:[],mappings:"AAAA;AACA",sourcesContent:[".SettingsApp {\n}\n"],sourceRoot:""}]);const s=a},8099:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".SettingsListItem {\n  display: flex;\n  align-items: flex-start;\n  min-height: 28px;\n  padding: 16px 0;\n}\n\n.SettingsListItem__icon {\n  flex-shrink: 0;\n  width: 28px;\n  height: 28px;\n  margin-right: 12px;\n}\n\n.SettingsListItem__info {\n  margin-right: auto;\n  min-height: inherit;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.SettingsListItem__title {\n  font-size: 13px;\n  line-height: 16px;\n  color: var(--text_primary);\n}\n\n.SettingsListItem__description {\n  font-size: 12px;\n  line-height: 14px;\n  color: var(--text_secondary);\n  margin-top: 4px;\n}\n\n.SettingsListItem__control {\n  flex-shrink: 0;\n  min-height: inherit;\n  display: flex;\n  align-items: center;\n  margin-left: 24px;\n}\n\n.SettingsListItem + .SettingsListItem {\n  border-top: 1px solid var(--separator_alternate);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/SettingsListItem/SettingsListItem.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,uBAAuB;EACvB,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,aAAa;EACb,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,0BAA0B;AAC5B;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,4BAA4B;EAC5B,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,mBAAmB;EACnB,aAAa;EACb,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,gDAAgD;AAClD",sourcesContent:[".SettingsListItem {\n  display: flex;\n  align-items: flex-start;\n  min-height: 28px;\n  padding: 16px 0;\n}\n\n.SettingsListItem__icon {\n  flex-shrink: 0;\n  width: 28px;\n  height: 28px;\n  margin-right: 12px;\n}\n\n.SettingsListItem__info {\n  margin-right: auto;\n  min-height: inherit;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.SettingsListItem__title {\n  font-size: 13px;\n  line-height: 16px;\n  color: var(--text_primary);\n}\n\n.SettingsListItem__description {\n  font-size: 12px;\n  line-height: 14px;\n  color: var(--text_secondary);\n  margin-top: 4px;\n}\n\n.SettingsListItem__control {\n  flex-shrink: 0;\n  min-height: inherit;\n  display: flex;\n  align-items: center;\n  margin-left: 24px;\n}\n\n.SettingsListItem + .SettingsListItem {\n  border-top: 1px solid var(--separator_alternate);\n}\n"],sourceRoot:""}]);const s=a},4328:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".StickersPanel {\n  max-width: none;\n  padding: 12px 0 8px 0;\n  position: relative;\n  background-color: var(--background_content);\n}\n\n.StickersPanel::before {\n  content: '';\n  left: 8px;\n  right: 8px;\n  height: 1px;\n  position: absolute;\n  top: 0;\n  background-color: var(--separator_alternate);\n}\n\n.StickersPanel__list {\n  display: inline-flex;\n  max-width: none;\n  margin: 0 8px;\n}\n\n.StickersPanel__listItem {\n  padding: 4px;\n  border-radius: 4px;\n  margin-right: 6px;\n  cursor: pointer;\n}\n\n.StickersPanel__listItem:hover {\n  background: var(--content_tint_background);\n}\n\n.StickersPanel__listItem:last-child {\n  margin-right: 0;\n}\n\n.StickersPanel__listItem:first-child {\n}\n","",{version:3,sources:["webpack://./src/browser/ui/StickersPanel/StickersPanel.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,qBAAqB;EACrB,kBAAkB;EAClB,2CAA2C;AAC7C;;AAEA;EACE,WAAW;EACX,SAAS;EACT,UAAU;EACV,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,4CAA4C;AAC9C;;AAEA;EACE,oBAAoB;EACpB,eAAe;EACf,aAAa;AACf;;AAEA;EACE,YAAY;EACZ,kBAAkB;EAClB,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,eAAe;AACjB;;AAEA;AACA",sourcesContent:[".StickersPanel {\n  max-width: none;\n  padding: 12px 0 8px 0;\n  position: relative;\n  background-color: var(--background_content);\n}\n\n.StickersPanel::before {\n  content: '';\n  left: 8px;\n  right: 8px;\n  height: 1px;\n  position: absolute;\n  top: 0;\n  background-color: var(--separator_alternate);\n}\n\n.StickersPanel__list {\n  display: inline-flex;\n  max-width: none;\n  margin: 0 8px;\n}\n\n.StickersPanel__listItem {\n  padding: 4px;\n  border-radius: 4px;\n  margin-right: 6px;\n  cursor: pointer;\n}\n\n.StickersPanel__listItem:hover {\n  background: var(--content_tint_background);\n}\n\n.StickersPanel__listItem:last-child {\n  margin-right: 0;\n}\n\n.StickersPanel__listItem:first-child {\n}\n"],sourceRoot:""}]);const s=a},2268:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".Symbols {\n  display: none;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Symbols/Symbols.css"],names:[],mappings:"AAAA;EACE,aAAa;AACf",sourcesContent:[".Symbols {\n  display: none;\n}\n"],sourceRoot:""}]);const s=a},4399:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".TCLConvoList {\n  --separator-padding-horizontal: 16px;\n  --separator-padding-vertical: 6px;\n  --separator-height: 1px;\n\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background: var(--background_content);\n}\n\n.TCLConvoList__search {\n  position: relative;\n  width: 100%;\n  height: 36px;\n  background: var(--background_content);\n  border-bottom: 1px solid var(--separator_alternate);\n  margin-bottom: 2px;\n}\n\n.TCLConvoList__searchInput {\n  padding: 0 35px;\n  width: 100%;\n  height: 100%;\n  background: inherit;\n  color: var(--text_primary);\n  font: 13px/16px var(--font);\n  border: 1px solid transparent;\n}\n\n.TCLConvoList__searchInput:focus {\n  outline: none;\n}\n\n.TCLConvoList__searchInput::-webkit-search-cancel-button {\n  display: none;\n}\n\n.TCLConvoList__searchIcon {\n  position: absolute;\n  left: 11px;\n  top: calc(50% - 9px);\n  color: var(--text_placeholder);\n}\n\n.TCLConvoList__cancelIcon {\n  visibility: hidden;\n  position: absolute;\n  right: 10px;\n  top: calc(50% - 7px);\n  color: var(--text_placeholder);\n  border: 0;\n  background: transparent;\n  cursor: pointer;\n}\n\n.TCLConvoList__search--active .TCLConvoList__cancelIcon {\n  visibility: visible;\n}\n\n.TCLConvoList__items {\n  height: 400px;\n  overflow-y: auto;\n  cursor: default;\n  overscroll-behavior: none;\n}\n\n.TCLConvoList__virtual {\n  overscroll-behavior: none;\n}\n\n.TCLConvoList__item--separator {\n  padding-top: calc(\n    2 * var(--separator-padding-vertical) + var(--separator-height)\n  );\n}\n\n.TCLConvoList__item--separator::before {\n  display: block;\n  content: '';\n  height: var(--separator-height);\n  background: var(--separator_common);\n  position: absolute;\n  top: calc(var(--separator-padding-vertical) - var(--separator-height));\n  width: calc(100% - 2 * var(--separator-padding-horizontal));\n  left: var(--separator-padding-horizontal);\n}\n\n.TCLConvoList__loader {\n  padding: 20px 0;\n  height: 100%;\n}\n\n.TCLConvoList__footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 12px 13px;\n  width: 100%;\n  border-top: 1px solid var(--separator_alternate);\n}\n\n.TCLConvoList__folder {\n  cursor: pointer;\n  background: inherit;\n  border: 0;\n  font: 13px/15px var(--font);\n  color: var(--button_tertiary_foreground);\n  outline: none;\n}\n.TCLConvoList__folder:hover {\n  text-decoration: underline;\n}\n\n.TCLConvoList__showAll {\n  background: inherit;\n  color: var(--button_tertiary_foreground);\n  text-align: center;\n  text-decoration: none;\n  font: 13px/15px var(--font);\n}\n.TCLConvoList__showAll:hover {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/TCLConvoList/TCLConvoList.css"],names:[],mappings:"AAAA;EACE,oCAAoC;EACpC,iCAAiC;EACjC,uBAAuB;;EAEvB,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,gBAAgB;EAChB,qCAAqC;AACvC;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,qCAAqC;EACrC,mDAAmD;EACnD,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,YAAY;EACZ,mBAAmB;EACnB,0BAA0B;EAC1B,2BAA2B;EAC3B,6BAA6B;AAC/B;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,oBAAoB;EACpB,8BAA8B;AAChC;;AAEA;EACE,kBAAkB;EAClB,kBAAkB;EAClB,WAAW;EACX,oBAAoB;EACpB,8BAA8B;EAC9B,SAAS;EACT,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,gBAAgB;EAChB,eAAe;EACf,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE;;GAEC;AACH;;AAEA;EACE,cAAc;EACd,WAAW;EACX,+BAA+B;EAC/B,mCAAmC;EACnC,kBAAkB;EAClB,sEAAsE;EACtE,2DAA2D;EAC3D,yCAAyC;AAC3C;;AAEA;EACE,eAAe;EACf,YAAY;AACd;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,gDAAgD;AAClD;;AAEA;EACE,eAAe;EACf,mBAAmB;EACnB,SAAS;EACT,2BAA2B;EAC3B,wCAAwC;EACxC,aAAa;AACf;AACA;EACE,0BAA0B;AAC5B;;AAEA;EACE,mBAAmB;EACnB,wCAAwC;EACxC,kBAAkB;EAClB,qBAAqB;EACrB,2BAA2B;AAC7B;AACA;EACE,0BAA0B;AAC5B",sourcesContent:[".TCLConvoList {\n  --separator-padding-horizontal: 16px;\n  --separator-padding-vertical: 6px;\n  --separator-height: 1px;\n\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background: var(--background_content);\n}\n\n.TCLConvoList__search {\n  position: relative;\n  width: 100%;\n  height: 36px;\n  background: var(--background_content);\n  border-bottom: 1px solid var(--separator_alternate);\n  margin-bottom: 2px;\n}\n\n.TCLConvoList__searchInput {\n  padding: 0 35px;\n  width: 100%;\n  height: 100%;\n  background: inherit;\n  color: var(--text_primary);\n  font: 13px/16px var(--font);\n  border: 1px solid transparent;\n}\n\n.TCLConvoList__searchInput:focus {\n  outline: none;\n}\n\n.TCLConvoList__searchInput::-webkit-search-cancel-button {\n  display: none;\n}\n\n.TCLConvoList__searchIcon {\n  position: absolute;\n  left: 11px;\n  top: calc(50% - 9px);\n  color: var(--text_placeholder);\n}\n\n.TCLConvoList__cancelIcon {\n  visibility: hidden;\n  position: absolute;\n  right: 10px;\n  top: calc(50% - 7px);\n  color: var(--text_placeholder);\n  border: 0;\n  background: transparent;\n  cursor: pointer;\n}\n\n.TCLConvoList__search--active .TCLConvoList__cancelIcon {\n  visibility: visible;\n}\n\n.TCLConvoList__items {\n  height: 400px;\n  overflow-y: auto;\n  cursor: default;\n  overscroll-behavior: none;\n}\n\n.TCLConvoList__virtual {\n  overscroll-behavior: none;\n}\n\n.TCLConvoList__item--separator {\n  padding-top: calc(\n    2 * var(--separator-padding-vertical) + var(--separator-height)\n  );\n}\n\n.TCLConvoList__item--separator::before {\n  display: block;\n  content: '';\n  height: var(--separator-height);\n  background: var(--separator_common);\n  position: absolute;\n  top: calc(var(--separator-padding-vertical) - var(--separator-height));\n  width: calc(100% - 2 * var(--separator-padding-horizontal));\n  left: var(--separator-padding-horizontal);\n}\n\n.TCLConvoList__loader {\n  padding: 20px 0;\n  height: 100%;\n}\n\n.TCLConvoList__footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 12px 13px;\n  width: 100%;\n  border-top: 1px solid var(--separator_alternate);\n}\n\n.TCLConvoList__folder {\n  cursor: pointer;\n  background: inherit;\n  border: 0;\n  font: 13px/15px var(--font);\n  color: var(--button_tertiary_foreground);\n  outline: none;\n}\n.TCLConvoList__folder:hover {\n  text-decoration: underline;\n}\n\n.TCLConvoList__showAll {\n  background: inherit;\n  color: var(--button_tertiary_foreground);\n  text-align: center;\n  text-decoration: none;\n  font: 13px/15px var(--font);\n}\n.TCLConvoList__showAll:hover {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]);const s=a},5940:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".TCLConvoListItem {\n  height: 100%;\n  display: grid;\n  align-items: center;\n  grid-template-areas: 'avatar header icons' 'avatar message icons';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 0 16px 0 10px;\n  transition: background-color 0.2s ease;\n  font: 13px/16px var(--font);\n  white-space: nowrap;\n  user-select: none;\n  cursor: pointer;\n}\n\n.TCLConvoListItem:hover {\n  background: var(--background_hover);\n}\n\n.TCLConvoListItem:focus,\n.TCLConvoListItem--selected {\n  background: var(--field_background); /* @TODO Странная переменная */\n  outline: none;\n}\n\n.TCLConvoListItem__avatar {\n  grid-area: avatar;\n  padding-right: 10px;\n}\n\n.TCLConvoListItem__header {\n  grid-area: header;\n  align-self: end;\n  font: 500 13px/17px var(--font);\n  overflow: hidden;\n}\n\n.TCLConvoListItem__message {\n  grid-area: message;\n  align-self: start;\n  display: flex;\n  align-items: baseline;\n  gap: 5px;\n  max-width: 100%;\n  overflow: hidden;\n  margin-top: 2px;\n  text-overflow: ellipsis;\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__typing {\n  display: inline-flex;\n  align-items: center;\n  color: var(--accent);\n}\n\n.TCLConvoListItem__typingText {\n  width: min-content;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-right: 0.5ch;\n}\n\n.TCLConvoListItem__typingIndicator {\n  flex-shrink: 0;\n}\n\n.TCLConvoListItem__author {\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__text {\n  flex: 0 1 auto;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  color: var(--text_subhead);\n}\n\n.TCLConvoListItem__date {\n  flex: 0 0 auto;\n  font: 12px/20px var(--font);\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__icons {\n  grid-area: icons;\n  align-self: center;\n  display: grid;\n  align-items: center;\n  height: 20px;\n  gap: 3px;\n  padding-left: 1ch;\n  grid-template-columns: auto 1fr auto;\n}\n\n.TCLConvoListItem__icons:empty {\n  padding: 0;\n}\n\n.TCLConvoListItem__bombIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n.TopConvoListItem--muted .TopConvoListItem__bombIcon {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.TCLConvoListItem__mentionIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n\n.TCLConvoListItem__unreadOut {\n  height: 8px;\n  width: 8px;\n  border-radius: 50%;\n  background: var(--counter_primary_background);\n}\n\n.TCLConvoListItem--muted .TCLConvoListItem__unreadOut {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.TCLConvoListItem__clockIcon {\n  color: var(--counter_secondary_background);\n}\n\n.TCLConvoListItem__pinIcon {\n  color: var(--counter_secondary_background);\n}\n\n.TCLConvoListItem--muted .TCLConvoListItem__pinIcon {\n  color: var(--counter_secondary_background);\n}\n","",{version:3,sources:["webpack://./src/browser/ui/TCLConvoListItem/TCLConvoListItem.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,iEAAiE;EACjE,oCAAoC;EACpC,2BAA2B;EAC3B,sBAAsB;EACtB,sCAAsC;EACtC,2BAA2B;EAC3B,mBAAmB;EACnB,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,mCAAmC;AACrC;;AAEA;;EAEE,mCAAmC,EAAE,8BAA8B;EACnE,aAAa;AACf;;AAEA;EACE,iBAAiB;EACjB,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;EACjB,eAAe;EACf,+BAA+B;EAC/B,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;EACjB,aAAa;EACb,qBAAqB;EACrB,QAAQ;EACR,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,uBAAuB;EACvB,2BAA2B;AAC7B;;AAEA;EACE,oBAAoB;EACpB,mBAAmB;EACnB,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,cAAc;EACd,uBAAuB;EACvB,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,cAAc;EACd,2BAA2B;EAC3B,2BAA2B;AAC7B;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,YAAY;EACZ,QAAQ;EACR,iBAAiB;EACjB,oCAAoC;AACtC;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,6CAA6C;EAC7C,kCAAkC;AACpC;AACA;EACE,+CAA+C;EAC/C,oCAAoC;AACtC;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,6CAA6C;EAC7C,kCAAkC;AACpC;;AAEA;EACE,WAAW;EACX,UAAU;EACV,kBAAkB;EAClB,6CAA6C;AAC/C;;AAEA;EACE,+CAA+C;EAC/C,oCAAoC;AACtC;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,0CAA0C;AAC5C",sourcesContent:[".TCLConvoListItem {\n  height: 100%;\n  display: grid;\n  align-items: center;\n  grid-template-areas: 'avatar header icons' 'avatar message icons';\n  grid-template-columns: auto 1fr auto;\n  grid-template-rows: 1fr 1fr;\n  padding: 0 16px 0 10px;\n  transition: background-color 0.2s ease;\n  font: 13px/16px var(--font);\n  white-space: nowrap;\n  user-select: none;\n  cursor: pointer;\n}\n\n.TCLConvoListItem:hover {\n  background: var(--background_hover);\n}\n\n.TCLConvoListItem:focus,\n.TCLConvoListItem--selected {\n  background: var(--field_background); /* @TODO Странная переменная */\n  outline: none;\n}\n\n.TCLConvoListItem__avatar {\n  grid-area: avatar;\n  padding-right: 10px;\n}\n\n.TCLConvoListItem__header {\n  grid-area: header;\n  align-self: end;\n  font: 500 13px/17px var(--font);\n  overflow: hidden;\n}\n\n.TCLConvoListItem__message {\n  grid-area: message;\n  align-self: start;\n  display: flex;\n  align-items: baseline;\n  gap: 5px;\n  max-width: 100%;\n  overflow: hidden;\n  margin-top: 2px;\n  text-overflow: ellipsis;\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__typing {\n  display: inline-flex;\n  align-items: center;\n  color: var(--accent);\n}\n\n.TCLConvoListItem__typingText {\n  width: min-content;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-right: 0.5ch;\n}\n\n.TCLConvoListItem__typingIndicator {\n  flex-shrink: 0;\n}\n\n.TCLConvoListItem__author {\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__text {\n  flex: 0 1 auto;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  color: var(--text_subhead);\n}\n\n.TCLConvoListItem__date {\n  flex: 0 0 auto;\n  font: 12px/20px var(--font);\n  color: var(--text_tertiary);\n}\n\n.TCLConvoListItem__icons {\n  grid-area: icons;\n  align-self: center;\n  display: grid;\n  align-items: center;\n  height: 20px;\n  gap: 3px;\n  padding-left: 1ch;\n  grid-template-columns: auto 1fr auto;\n}\n\n.TCLConvoListItem__icons:empty {\n  padding: 0;\n}\n\n.TCLConvoListItem__bombIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n.TopConvoListItem--muted .TopConvoListItem__bombIcon {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.TCLConvoListItem__mentionIcon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 18px;\n  width: 18px;\n  border-radius: 10px;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n\n.TCLConvoListItem__unreadOut {\n  height: 8px;\n  width: 8px;\n  border-radius: 50%;\n  background: var(--counter_primary_background);\n}\n\n.TCLConvoListItem--muted .TCLConvoListItem__unreadOut {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.TCLConvoListItem__clockIcon {\n  color: var(--counter_secondary_background);\n}\n\n.TCLConvoListItem__pinIcon {\n  color: var(--counter_secondary_background);\n}\n\n.TCLConvoListItem--muted .TCLConvoListItem__pinIcon {\n  color: var(--counter_secondary_background);\n}\n"],sourceRoot:""}]);const s=a},5094:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".METooltip {\n  --tailSize: 5px;\n  --tooltip_dark_background: rgba(0, 0, 0, 0.72); /* @TODO: correct token */\n  --tooltip_dark_border: rgba(0, 0, 0, 0.72); /* @TODO: correct token */\n  --tooltip_light_background: #fff; /* @TODO: correct token */\n  --tooltip_light_border: #c5d0db; /* @TODO: correct token */\n\n  position: relative;\n  animation: fadeIn 0.3s ease;\n  transition: opacity 0.2s ease, visibility 0.2s ease;\n  padding: 3px 9px;\n  border-radius: 4px;\n  font: 12.5px/18px var(--font);\n  height: min-content;\n  white-space: nowrap;\n  pointer-events: none;\n  max-width: none;\n  color: #fff; /* @TODO: correct token */\n  background: var(--tooltip_dark_background);\n}\n\n.METooltip--removed {\n  visibility: hidden;\n  opacity: 0;\n}\n\n/**\n * Задаем отступы самого тултипа от Поппера для хвостика\n * Например, если позиционируемся сверху (над элементом),\n * то снизу должен быть отступ для хвостика\n */\n[data-position='top'] > .METooltip {\n  margin-bottom: var(--tailSize);\n}\n\n[data-position='right'] > .METooltip {\n  margin-left: var(--tailSize);\n}\n\n[data-position='bottom'] > .METooltip {\n  margin-top: var(--tailSize);\n}\n\n[data-position='left'] > .METooltip {\n  margin-right: var(--tailSize);\n}\n\n/**\n * Хвостик тултипа\n */\n.METooltip::after {\n  position: absolute;\n  border: var(--tailSize) solid transparent;\n  content: '';\n}\n\n/**\n * Отображаем хвостик, перекрашивая один из бордеров\n * для появления видимого треугольника\n */\n[data-position='top'] > .METooltip::after {\n  top: 100%;\n  border-top-color: var(--tooltip_dark_background);\n}\n\n[data-position='right'] > .METooltip::after {\n  top: calc(50% - var(--tailSize));\n  right: 100%;\n  border-right-color: var(--tooltip_dark_background);\n}\n\n[data-position='bottom'] > .METooltip::after {\n  bottom: 100%;\n  border-bottom-color: var(--tooltip_dark_background);\n}\n\n[data-position='left'] > .METooltip::after {\n  top: calc(50% - var(--tailSize));\n  left: 100%;\n  border-left-color: var(--tooltip_dark_background);\n}\n\n/**\n * Для режима, когда тултип показывается сверху или снизу,\n * выравниваем тултип по горизонтали (когда он находится на верхней или нижней стороне)\n */\n\n[data-position='top'][data-align='left'] > .METooltip::after,\n[data-position='bottom'][data-align='left'] > .METooltip::after {\n  left: 5px;\n}\n\n[data-position='top'][data-align='center'] > .METooltip::after,\n[data-position='bottom'][data-align='center'] > .METooltip::after {\n  left: calc(50% - var(--tailSize));\n}\n\n[data-position='top'][data-align='right'] > .METooltip::after,\n[data-position='bottom'][data-align='right'] > .METooltip::after {\n  right: 5px;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n","",{version:3,sources:["webpack://./src/browser/ui/Tooltip/Tooltip.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,8CAA8C,EAAE,yBAAyB;EACzE,0CAA0C,EAAE,yBAAyB;EACrE,gCAAgC,EAAE,yBAAyB;EAC3D,+BAA+B,EAAE,yBAAyB;;EAE1D,kBAAkB;EAClB,2BAA2B;EAC3B,mDAAmD;EACnD,gBAAgB;EAChB,kBAAkB;EAClB,6BAA6B;EAC7B,mBAAmB;EACnB,mBAAmB;EACnB,oBAAoB;EACpB,eAAe;EACf,WAAW,EAAE,yBAAyB;EACtC,0CAA0C;AAC5C;;AAEA;EACE,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;;;EAIE;AACF;EACE,8BAA8B;AAChC;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;;EAEE;AACF;EACE,kBAAkB;EAClB,yCAAyC;EACzC,WAAW;AACb;;AAEA;;;EAGE;AACF;EACE,SAAS;EACT,gDAAgD;AAClD;;AAEA;EACE,gCAAgC;EAChC,WAAW;EACX,kDAAkD;AACpD;;AAEA;EACE,YAAY;EACZ,mDAAmD;AACrD;;AAEA;EACE,gCAAgC;EAChC,UAAU;EACV,iDAAiD;AACnD;;AAEA;;;EAGE;;AAEF;;EAEE,SAAS;AACX;;AAEA;;EAEE,iCAAiC;AACnC;;AAEA;;EAEE,UAAU;AACZ;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF",sourcesContent:[".METooltip {\n  --tailSize: 5px;\n  --tooltip_dark_background: rgba(0, 0, 0, 0.72); /* @TODO: correct token */\n  --tooltip_dark_border: rgba(0, 0, 0, 0.72); /* @TODO: correct token */\n  --tooltip_light_background: #fff; /* @TODO: correct token */\n  --tooltip_light_border: #c5d0db; /* @TODO: correct token */\n\n  position: relative;\n  animation: fadeIn 0.3s ease;\n  transition: opacity 0.2s ease, visibility 0.2s ease;\n  padding: 3px 9px;\n  border-radius: 4px;\n  font: 12.5px/18px var(--font);\n  height: min-content;\n  white-space: nowrap;\n  pointer-events: none;\n  max-width: none;\n  color: #fff; /* @TODO: correct token */\n  background: var(--tooltip_dark_background);\n}\n\n.METooltip--removed {\n  visibility: hidden;\n  opacity: 0;\n}\n\n/**\n * Задаем отступы самого тултипа от Поппера для хвостика\n * Например, если позиционируемся сверху (над элементом),\n * то снизу должен быть отступ для хвостика\n */\n[data-position='top'] > .METooltip {\n  margin-bottom: var(--tailSize);\n}\n\n[data-position='right'] > .METooltip {\n  margin-left: var(--tailSize);\n}\n\n[data-position='bottom'] > .METooltip {\n  margin-top: var(--tailSize);\n}\n\n[data-position='left'] > .METooltip {\n  margin-right: var(--tailSize);\n}\n\n/**\n * Хвостик тултипа\n */\n.METooltip::after {\n  position: absolute;\n  border: var(--tailSize) solid transparent;\n  content: '';\n}\n\n/**\n * Отображаем хвостик, перекрашивая один из бордеров\n * для появления видимого треугольника\n */\n[data-position='top'] > .METooltip::after {\n  top: 100%;\n  border-top-color: var(--tooltip_dark_background);\n}\n\n[data-position='right'] > .METooltip::after {\n  top: calc(50% - var(--tailSize));\n  right: 100%;\n  border-right-color: var(--tooltip_dark_background);\n}\n\n[data-position='bottom'] > .METooltip::after {\n  bottom: 100%;\n  border-bottom-color: var(--tooltip_dark_background);\n}\n\n[data-position='left'] > .METooltip::after {\n  top: calc(50% - var(--tailSize));\n  left: 100%;\n  border-left-color: var(--tooltip_dark_background);\n}\n\n/**\n * Для режима, когда тултип показывается сверху или снизу,\n * выравниваем тултип по горизонтали (когда он находится на верхней или нижней стороне)\n */\n\n[data-position='top'][data-align='left'] > .METooltip::after,\n[data-position='bottom'][data-align='left'] > .METooltip::after {\n  left: 5px;\n}\n\n[data-position='top'][data-align='center'] > .METooltip::after,\n[data-position='bottom'][data-align='center'] > .METooltip::after {\n  left: calc(50% - var(--tailSize));\n}\n\n[data-position='top'][data-align='right'] > .METooltip::after,\n[data-position='bottom'][data-align='right'] > .METooltip::after {\n  right: 5px;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n"],sourceRoot:""}]);const s=a},5469:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".TypingIndicator {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  vertical-align: middle;\n}\n\n.TypingIndicator--text .TypingIndicator__particle,\n.TypingIndicator--text::before,\n.TypingIndicator--text::after {\n  width: 4px;\n  height: 4px;\n  margin-right: 3px;\n  background: currentColor;\n  border-radius: 3px;\n  backface-visibility: hidden;\n  animation: TypingAnimationText 1s linear infinite;\n}\n\n.TypingIndicator--text::before,\n.TypingIndicator--text::after {\n  content: '';\n  display: block;\n}\n\n.TypingIndicator.TypingIndicator--text::before {\n  animation-delay: calc(-1 / 6 * 1s);\n}\n.TypingIndicator.TypingIndicator--text::after {\n  animation-delay: calc(1 / 6 * 1s);\n}\n\n@keyframes TypingAnimationText {\n  0%,\n  66.7%,\n  100% {\n    opacity: 0.4;\n  }\n  33.3% {\n    opacity: 1;\n  }\n}\n\n.TypingIndicator--voice .TypingIndicator__particle,\n.TypingIndicator--voice::before,\n.TypingIndicator--voice::after {\n  width: 3px;\n  height: 12px;\n  margin-right: 3px;\n  border-radius: 2px;\n  background: currentColor;\n  transform: scaleY(0.45);\n  animation: TypingAnimationVoice 1s linear infinite;\n}\n\n.TypingIndicator--voice::before,\n.TypingIndicator--voice::after {\n  content: '';\n  display: block;\n}\n\n.TypingIndicator::before {\n  animation-delay: calc(-1 / 6 * 1s);\n}\n\n.TypingIndicator::after {\n  animation-delay: calc(1 / 6 * 1s);\n}\n\n@keyframes TypingAnimationVoice {\n  0%,\n  66.7%,\n  100% {\n    opacity: 0.4;\n    transform: scaleY(0.67);\n  }\n  33.3% {\n    opacity: 1;\n    transform: scaleY(1);\n  }\n}\n\n.TypingIndicator--file {\n}\n\n.TypingIndicator--file .TypingIndicator__particle {\n  width: 20px;\n  height: 6px;\n  border-radius: 2px;\n  overflow: hidden;\n  animation: none;\n  position: relative;\n  background: none;\n}\n\n.TypingIndicator--file .TypingIndicator__particle::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: currentColor;\n  opacity: 0.3;\n}\n\n.TypingIndicator--file .TypingIndicator__particle::after {\n  content: '';\n  display: block;\n  width: 50%;\n  height: 100%;\n  border-radius: 2px;\n  background: currentColor;\n  animation: TypingAnimationFile 1s linear infinite;\n}\n\n@keyframes TypingAnimationFile {\n  0% {\n    transform: translateX(-100%);\n  }\n  100% {\n    transform: translateX(200%);\n  }\n}\n","",{version:3,sources:["webpack://./src/browser/ui/TypingIndicator/TypingIndicator.css"],names:[],mappings:"AAAA;EACE,oBAAoB;EACpB,uBAAuB;EACvB,mBAAmB;EACnB,sBAAsB;AACxB;;AAEA;;;EAGE,UAAU;EACV,WAAW;EACX,iBAAiB;EACjB,wBAAwB;EACxB,kBAAkB;EAClB,2BAA2B;EAC3B,iDAAiD;AACnD;;AAEA;;EAEE,WAAW;EACX,cAAc;AAChB;;AAEA;EACE,kCAAkC;AACpC;AACA;EACE,iCAAiC;AACnC;;AAEA;EACE;;;IAGE,YAAY;EACd;EACA;IACE,UAAU;EACZ;AACF;;AAEA;;;EAGE,UAAU;EACV,YAAY;EACZ,iBAAiB;EACjB,kBAAkB;EAClB,wBAAwB;EACxB,uBAAuB;EACvB,kDAAkD;AACpD;;AAEA;;EAEE,WAAW;EACX,cAAc;AAChB;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,iCAAiC;AACnC;;AAEA;EACE;;;IAGE,YAAY;IACZ,uBAAuB;EACzB;EACA;IACE,UAAU;IACV,oBAAoB;EACtB;AACF;;AAEA;AACA;;AAEA;EACE,WAAW;EACX,WAAW;EACX,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;EACf,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,wBAAwB;EACxB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,cAAc;EACd,UAAU;EACV,YAAY;EACZ,kBAAkB;EAClB,wBAAwB;EACxB,iDAAiD;AACnD;;AAEA;EACE;IACE,4BAA4B;EAC9B;EACA;IACE,2BAA2B;EAC7B;AACF",sourcesContent:[".TypingIndicator {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  vertical-align: middle;\n}\n\n.TypingIndicator--text .TypingIndicator__particle,\n.TypingIndicator--text::before,\n.TypingIndicator--text::after {\n  width: 4px;\n  height: 4px;\n  margin-right: 3px;\n  background: currentColor;\n  border-radius: 3px;\n  backface-visibility: hidden;\n  animation: TypingAnimationText 1s linear infinite;\n}\n\n.TypingIndicator--text::before,\n.TypingIndicator--text::after {\n  content: '';\n  display: block;\n}\n\n.TypingIndicator.TypingIndicator--text::before {\n  animation-delay: calc(-1 / 6 * 1s);\n}\n.TypingIndicator.TypingIndicator--text::after {\n  animation-delay: calc(1 / 6 * 1s);\n}\n\n@keyframes TypingAnimationText {\n  0%,\n  66.7%,\n  100% {\n    opacity: 0.4;\n  }\n  33.3% {\n    opacity: 1;\n  }\n}\n\n.TypingIndicator--voice .TypingIndicator__particle,\n.TypingIndicator--voice::before,\n.TypingIndicator--voice::after {\n  width: 3px;\n  height: 12px;\n  margin-right: 3px;\n  border-radius: 2px;\n  background: currentColor;\n  transform: scaleY(0.45);\n  animation: TypingAnimationVoice 1s linear infinite;\n}\n\n.TypingIndicator--voice::before,\n.TypingIndicator--voice::after {\n  content: '';\n  display: block;\n}\n\n.TypingIndicator::before {\n  animation-delay: calc(-1 / 6 * 1s);\n}\n\n.TypingIndicator::after {\n  animation-delay: calc(1 / 6 * 1s);\n}\n\n@keyframes TypingAnimationVoice {\n  0%,\n  66.7%,\n  100% {\n    opacity: 0.4;\n    transform: scaleY(0.67);\n  }\n  33.3% {\n    opacity: 1;\n    transform: scaleY(1);\n  }\n}\n\n.TypingIndicator--file {\n}\n\n.TypingIndicator--file .TypingIndicator__particle {\n  width: 20px;\n  height: 6px;\n  border-radius: 2px;\n  overflow: hidden;\n  animation: none;\n  position: relative;\n  background: none;\n}\n\n.TypingIndicator--file .TypingIndicator__particle::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: currentColor;\n  opacity: 0.3;\n}\n\n.TypingIndicator--file .TypingIndicator__particle::after {\n  content: '';\n  display: block;\n  width: 50%;\n  height: 100%;\n  border-radius: 2px;\n  background: currentColor;\n  animation: TypingAnimationFile 1s linear infinite;\n}\n\n@keyframes TypingAnimationFile {\n  0% {\n    transform: translateX(-100%);\n  }\n  100% {\n    transform: translateX(200%);\n  }\n}\n"],sourceRoot:""}]);const s=a},3024:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(6863),o=t.n(r),i=t(4518),a=t.n(i)()(o());a.push([e.id,".UnreadCounter {\n  min-width: 20px;\n  height: 20px;\n  padding: 0 6px;\n  border-radius: 10px;\n  font: 500 13px/20px var(--font);\n  text-align: center;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n\n.UnreadCounter--muted {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.UnreadCounter--size-18 {\n  min-width: 18px;\n  height: 18px;\n  /* @TODO В макете 12px + нет семиболда, поправить при переходе на VK Sans */\n  font: 500 12px/18px var(--font);\n  padding: 0 4px;\n}\n","",{version:3,sources:["webpack://./src/browser/ui/UnreadCounter/UnreadCounter.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,YAAY;EACZ,cAAc;EACd,mBAAmB;EACnB,+BAA+B;EAC/B,kBAAkB;EAClB,6CAA6C;EAC7C,kCAAkC;AACpC;;AAEA;EACE,+CAA+C;EAC/C,oCAAoC;AACtC;;AAEA;EACE,eAAe;EACf,YAAY;EACZ,2EAA2E;EAC3E,+BAA+B;EAC/B,cAAc;AAChB",sourcesContent:[".UnreadCounter {\n  min-width: 20px;\n  height: 20px;\n  padding: 0 6px;\n  border-radius: 10px;\n  font: 500 13px/20px var(--font);\n  text-align: center;\n  background: var(--counter_primary_background);\n  color: var(--counter_primary_text);\n}\n\n.UnreadCounter--muted {\n  background: var(--counter_secondary_background);\n  color: var(--counter_secondary_text);\n}\n\n.UnreadCounter--size-18 {\n  min-width: 18px;\n  height: 18px;\n  /* @TODO В макете 12px + нет семиболда, поправить при переходе на VK Sans */\n  font: 500 12px/18px var(--font);\n  padding: 0 4px;\n}\n"],sourceRoot:""}]);const s=a},3379:e=>{"use strict";var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var A=t(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==A)n[A].references++,n[A].updater(p);else{var h=o(p,r);r.byIndex=s,n.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=t(i[a]);n[s].references--}for(var l=r(e,o),c=0;c<i.length;c++){var u=t(i[c]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}i=l}}},569:e=>{"use strict";var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},9216:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},3565:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},7795:e=>{"use strict";e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},4589:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},5724:e=>{"use strict";e.exports=s},4098:e=>{"use strict";e.exports=o},4262:e=>{"use strict";e.exports=a},8562:e=>{"use strict";e.exports=i},4654:()=>{},176:(e,n,t)=>{"use strict";var r=t(3926),o=r("%Array%"),i=r("%Symbol.species%",!0),a=r("%TypeError%"),s=t(8278),l=t(6794),c=t(1237),u=t(291),d=t(1232);e.exports=function(e,n){if(!u(n)||n<0)throw new a("Assertion failed: length must be an integer >= 0");var t,r=0===n?0:n;if(l(e)&&(t=s(e,"constructor"),i&&"Object"===d(t)&&null===(t=s(t,i))&&(t=void 0)),void 0===t)return o(r);if(!c(t))throw new a("C must be a constructor");return new t(r)}},6124:(e,n,t)=>{"use strict";var r=t(3926),o=t(533),i=r("%TypeError%"),a=t(6794),s=r("%Reflect.apply%",!0)||o("%Function.prototype.apply%");e.exports=function(e,n){var t=arguments.length>2?arguments[2]:[];if(!a(t))throw new i("Assertion failed: optional `argumentsList`, if provided, must be a List");return s(e,n,t)}},2738:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(8265),i=t(1246),a=t(7893),s=t(1388),l=t(9866),c=t(5060),u=t(7590),d=t(1232);e.exports=function(e,n,t){if("Object"!==d(e))throw new r("Assertion failed: Type(O) is not Object");if(!c(n))throw new r("Assertion failed: IsPropertyKey(P) is not true");var A=a(e,n),p=!A||l(e);return!(A&&(!A["[[Writable]]"]||!A["[[Configurable]]"])||!p)&&o(s,u,i,e,n,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":t,"[[Writable]]":!0})}},702:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(2738),i=t(5060),a=t(1232);e.exports=function(e,n,t){if("Object"!==a(e))throw new r("Assertion failed: Type(O) is not Object");if(!i(n))throw new r("Assertion failed: IsPropertyKey(P) is not true");var s=o(e,n,t);if(!s)throw new r("unable to create data property");return s}},2051:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(9669),i=t(8265),a=t(1246),s=t(1083),l=t(1388),c=t(5060),u=t(7590),d=t(6217),A=t(1232);e.exports=function(e,n,t){if("Object"!==A(e))throw new r("Assertion failed: Type(O) is not Object");if(!c(n))throw new r("Assertion failed: IsPropertyKey(P) is not true");var p=o({Type:A,IsDataDescriptor:l,IsAccessorDescriptor:s},t)?t:d(t);if(!o({Type:A,IsDataDescriptor:l,IsAccessorDescriptor:s},p))throw new r("Assertion failed: Desc is not a valid Property Descriptor");return i(l,u,a,e,n,p)}},494:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(9425),i=t(6124),a=t(702),s=t(8278),l=t(9089),c=t(6794),u=t(3838),d=t(6338);e.exports=function e(n,t,A,p,h){var m;arguments.length>5&&(m=arguments[5]);for(var f=p,g=0;g<A;){var C=d(g);if(!0===l(t,C)){var v=s(t,C);if(void 0!==m){if(arguments.length<=6)throw new r("Assertion failed: thisArg is required when mapperFunction is provided");v=i(m,arguments[6],[v,g,t])}var E=!1;if(h>0&&(E=c(v)),E)f=e(n,v,u(v),f,h-1);else{if(f>=o)throw new r("index too large");a(n,d(f),v),f+=1}}g+=1}return f}},1246:(e,n,t)=>{"use strict";var r=t(3742),o=t(1232);e.exports=function(e){if(void 0===e)return e;r(o,"Property Descriptor","Desc",e);var n={};return"[[Value]]"in e&&(n.value=e["[[Value]]"]),"[[Writable]]"in e&&(n.writable=e["[[Writable]]"]),"[[Get]]"in e&&(n.get=e["[[Get]]"]),"[[Set]]"in e&&(n.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(n.enumerable=e["[[Enumerable]]"]),"[[Configurable]]"in e&&(n.configurable=e["[[Configurable]]"]),n}},8278:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(7915),i=t(5060),a=t(1232);e.exports=function(e,n){if("Object"!==a(e))throw new r("Assertion failed: Type(O) is not Object");if(!i(n))throw new r("Assertion failed: IsPropertyKey(P) is not true, got "+o(n));return e[n]}},9089:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(5060),i=t(1232);e.exports=function(e,n){if("Object"!==i(e))throw new r("Assertion failed: `O` must be an Object");if(!o(n))throw new r("Assertion failed: `P` must be a Property Key");return n in e}},1083:(e,n,t)=>{"use strict";var r=t(8315),o=t(3742),i=t(1232);e.exports=function(e){return void 0!==e&&(o(i,"Property Descriptor","Desc",e),!(!r(e,"[[Get]]")&&!r(e,"[[Set]]")))}},6794:(e,n,t)=>{"use strict";var r=t(3926)("%Array%"),o=!r.isArray&&t(533)("Object.prototype.toString");e.exports=r.isArray||function(e){return"[object Array]"===o(e)}},1386:(e,n,t)=>{"use strict";e.exports=t(2231)},1237:(e,n,t)=>{"use strict";var r=t(7439)("%Reflect.construct%",!0),o=t(2051);try{o({},"",{"[[Get]]":function(){}})}catch(e){o=null}if(o&&r){var i={},a={};o(a,"length",{"[[Get]]":function(){throw i},"[[Enumerable]]":!0}),e.exports=function(e){try{r(e,a)}catch(e){return e===i}}}else e.exports=function(e){return"function"==typeof e&&!!e.prototype}},1388:(e,n,t)=>{"use strict";var r=t(8315),o=t(3742),i=t(1232);e.exports=function(e){return void 0!==e&&(o(i,"Property Descriptor","Desc",e),!(!r(e,"[[Value]]")&&!r(e,"[[Writable]]")))}},9866:(e,n,t)=>{"use strict";var r=t(3926)("%Object%"),o=t(6621),i=r.preventExtensions,a=r.isExtensible;e.exports=i?function(e){return!o(e)&&a(e)}:function(e){return!o(e)}},291:(e,n,t)=>{"use strict";var r=t(4687),o=t(1924),i=t(1757),a=t(5854);e.exports=function(e){if("number"!=typeof e||i(e)||!a(e))return!1;var n=r(e);return o(n)===n}},5060:e=>{"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},4074:(e,n,t)=>{"use strict";var r=t(3926)("%Symbol.match%",!0),o=t(879),i=t(7082);e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(r){var n=e[r];if(void 0!==n)return i(n)}return o(e)}},3838:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%"),o=t(8278),i=t(502),a=t(1232);e.exports=function(e){if("Object"!==a(e))throw new r("Assertion failed: `obj` must be an Object");return i(o(e,"length"))}},7893:(e,n,t)=>{"use strict";var r=t(3926),o=t(964),i=r("%TypeError%"),a=t(533)("Object.prototype.propertyIsEnumerable"),s=t(8315),l=t(6794),c=t(5060),u=t(4074),d=t(6217),A=t(1232);e.exports=function(e,n){if("Object"!==A(e))throw new i("Assertion failed: O must be an Object");if(!c(n))throw new i("Assertion failed: P must be a Property Key");if(s(e,n)){if(!o){var t=l(e)&&"length"===n,r=u(e)&&"lastIndex"===n;return{"[[Configurable]]":!(t||r),"[[Enumerable]]":a(e,n),"[[Value]]":e[n],"[[Writable]]":!0}}return d(o(e,n))}}},8643:(e,n,t)=>{"use strict";e.exports=t(4411)},7590:(e,n,t)=>{"use strict";var r=t(1757);e.exports=function(e,n){return e===n?0!==e||1/e==1/n:r(e)&&r(n)}},7082:e=>{"use strict";e.exports=function(e){return!!e}},4867:(e,n,t)=>{"use strict";var r=t(2213),o=t(6480);e.exports=function(e){var n=o(e);return 0!==n&&(n=r(n)),0===n?0:n}},502:(e,n,t)=>{"use strict";var r=t(9425),o=t(4867);e.exports=function(e){var n=o(e);return n<=0?0:n>r?r:n}},6480:(e,n,t)=>{"use strict";var r=t(3926),o=r("%TypeError%"),i=r("%Number%"),a=r("%RegExp%"),s=r("%parseInt%"),l=t(533),c=t(3832),u=t(6621),d=l("String.prototype.slice"),A=c(/^0b[01]+$/i),p=c(/^0o[0-7]+$/i),h=c(/^[-+]0x[0-9a-f]+$/i),m=c(new a("["+["","​","￾"].join("")+"]","g")),f=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),g=new RegExp("(^["+f+"]+)|(["+f+"]+$)","g"),C=l("String.prototype.replace"),v=t(1750);e.exports=function e(n){var t=u(n)?n:v(n,i);if("symbol"==typeof t)throw new o("Cannot convert a Symbol value to a number");if("bigint"==typeof t)throw new o("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof t){if(A(t))return e(s(d(t,2),2));if(p(t))return e(s(d(t,2),8));if(m(t)||h(t))return NaN;var r=function(e){return C(e,g,"")}(t);if(r!==t)return e(r)}return i(t)}},8717:(e,n,t)=>{"use strict";var r=t(3926)("%Object%"),o=t(8643);e.exports=function(e){return o(e),r(e)}},1750:(e,n,t)=>{"use strict";var r=t(2957);e.exports=function(e){return arguments.length>1?r(e,arguments[1]):r(e)}},6217:(e,n,t)=>{"use strict";var r=t(8315),o=t(3926)("%TypeError%"),i=t(1232),a=t(7082),s=t(1386);e.exports=function(e){if("Object"!==i(e))throw new o("ToPropertyDescriptor requires an object");var n={};if(r(e,"enumerable")&&(n["[[Enumerable]]"]=a(e.enumerable)),r(e,"configurable")&&(n["[[Configurable]]"]=a(e.configurable)),r(e,"value")&&(n["[[Value]]"]=e.value),r(e,"writable")&&(n["[[Writable]]"]=a(e.writable)),r(e,"get")){var t=e.get;if(void 0!==t&&!s(t))throw new o("getter must be a function");n["[[Get]]"]=t}if(r(e,"set")){var l=e.set;if(void 0!==l&&!s(l))throw new o("setter must be a function");n["[[Set]]"]=l}if((r(n,"[[Get]]")||r(n,"[[Set]]"))&&(r(n,"[[Value]]")||r(n,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}},6338:(e,n,t)=>{"use strict";var r=t(3926),o=r("%String%"),i=r("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new i("Cannot convert a Symbol value to a string");return o(e)}},1232:(e,n,t)=>{"use strict";var r=t(7571);e.exports=function(e){return"symbol"==typeof e?"Symbol":"bigint"==typeof e?"BigInt":r(e)}},4687:(e,n,t)=>{"use strict";var r=t(3926)("%Math.abs%");e.exports=function(e){return r(e)}},1924:e=>{"use strict";var n=Math.floor;e.exports=function(e){return n(e)}},4411:(e,n,t)=>{"use strict";var r=t(3926)("%TypeError%");e.exports=function(e,n){if(null==e)throw new r(n||"Cannot call method on "+e);return e}},2213:(e,n,t)=>{"use strict";var r=t(9030),o=t(8175),i=t(7563),a=t(1757),s=t(5854),l=t(1066);e.exports=function(e){var n=i(e);return a(n)?0:0!==n&&s(n)?l(n)*o(r(n)):n}},7563:(e,n,t)=>{"use strict";var r=t(5180);e.exports=function(e){var n=r(e,Number);if("string"!=typeof n)return+n;var t=n.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(t)?NaN:+t}},5180:(e,n,t)=>{"use strict";e.exports=t(1898)},7571:e=>{"use strict";e.exports=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}},9030:(e,n,t)=>{"use strict";var r=t(3926)("%Math.abs%");e.exports=function(e){return r(e)}},8175:e=>{"use strict";var n=Math.floor;e.exports=function(e){return n(e)}},7439:(e,n,t)=>{"use strict";e.exports=t(3926)},8265:(e,n,t)=>{"use strict";var r=t(3926)("%Object.defineProperty%",!0);if(r)try{r({},"a",{value:1})}catch(e){r=null}var o=t(533)("Object.prototype.propertyIsEnumerable");e.exports=function(e,n,t,i,a,s){if(!r){if(!e(s))return!1;if(!s["[[Configurable]]"]||!s["[[Writable]]"])return!1;if(a in i&&o(i,a)!==!!s["[[Enumerable]]"])return!1;var l=s["[[Value]]"];return i[a]=l,n(i[a],l)}return r(i,a,t(s)),!0}},3742:(e,n,t)=>{"use strict";var r=t(3926),o=r("%TypeError%"),i=r("%SyntaxError%"),a=t(8315),s={"Property Descriptor":function(e,n){if("Object"!==e(n))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in n)if(a(n,r)&&!t[r])return!1;var i=a(n,"[[Value]]"),s=a(n,"[[Get]]")||a(n,"[[Set]]");if(i&&s)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,n,t,r){var a=s[n];if("function"!=typeof a)throw new i("unknown record type: "+n);if(!a(e,r))throw new o(t+" must be a "+n)}},964:(e,n,t)=>{"use strict";var r=t(3926)("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(e){r=null}e.exports=r},5854:e=>{"use strict";var n=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},1757:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},6621:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},9669:(e,n,t)=>{"use strict";var r=t(3926),o=t(8315),i=r("%TypeError%");e.exports=function(e,n){if("Object"!==e.Type(n))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in n)if(o(n,r)&&!t[r])return!1;if(e.IsDataDescriptor(n)&&e.IsAccessorDescriptor(n))throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}},9425:(e,n,t)=>{"use strict";var r=t(3926),o=r("%Math%"),i=r("%Number%");e.exports=i.MAX_SAFE_INTEGER||o.pow(2,53)-1},3832:(e,n,t)=>{"use strict";var r=t(3926)("RegExp.prototype.test"),o=t(4203);e.exports=function(e){return o(r,e)}},1066:e=>{"use strict";e.exports=function(e){return e>=0?1:-1}}},c={};function u(e){var n=c[e];if(void 0!==n)return n.exports;var t=c[e]={id:e,exports:{}};return l[e].call(t.exports,t,t.exports,u),t.exports}u.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return u.d(n,{a:n}),n},u.d=(e,n)=>{for(var t in n)u.o(n,t)&&!u.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var d={};return(()=>{"use strict";u.r(d),u.d(d,{API_GROUP_FIELDS:()=>_e,API_USER_FIELDS:()=>Ee,API_VERSION:()=>be,Api:()=>Yr,Engine:()=>Gr,ExternalEvents:()=>so,FCApp:()=>fC,Idle:()=>lo,Lang:()=>eo,Player:()=>io,ProfileInfoTTApp:()=>_v,Queue:()=>Kr,SettingsApp:()=>s_,Storage:()=>ao,TCLApp:()=>lv,createStore:()=>Hr,initConfig:()=>l_});var e=u(3379),n=u.n(e),r=u(7795),o=u.n(r),i=u(569),a=u.n(i),s=u(3565),l=u.n(s),c=u(9216),A=u.n(c),p=u(4589),h=u.n(p),m=u(5076),f={};f.styleTagTransform=h(),f.setAttributes=l(),f.insert=a().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=A(),n()(m.Z,f),m.Z&&m.Z.locals&&m.Z.locals;var g=u(8075),C={};function v(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function E(e){return!!e&&!!e[ae]}function _(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var n=Object.getPrototypeOf(e);if(null===n)return!0;var t=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return t===Object||"function"==typeof t&&Function.toString.call(t)===le}(e)||Array.isArray(e)||!!e[ie]||!!e.constructor[ie]||x(e)||k(e))}function b(e,n,t){void 0===t&&(t=!1),0===y(e)?(t?Object.keys:ce)(e).forEach((function(r){t&&"symbol"==typeof r||n(r,e[r],e)})):e.forEach((function(t,r){return n(r,t,e)}))}function y(e){var n=e[ae];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:x(e)?2:k(e)?3:0}function B(e,n){return 2===y(e)?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function w(e,n,t){var r=y(e);2===r?e.set(n,t):3===r?(e.delete(n),e.add(t)):e[n]=t}function x(e){return ne&&e instanceof Map}function k(e){return te&&e instanceof Set}function D(e){return e.o||e.t}function S(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=ue(e);delete n[ae];for(var t=ce(n),r=0;r<t.length;r++){var o=t[r],i=n[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),n)}function I(e,n){return void 0===n&&(n=!1),M(e)||E(e)||!_(e)||(y(e)>1&&(e.set=e.add=e.clear=e.delete=F),Object.freeze(e),n&&b(e,(function(e,n){return I(n,!0)}),!0)),e}function F(){v(2)}function M(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function T(e){var n=de[e];return n||v(18,e),n}function P(){return J}function O(e,n){n&&(T("Patches"),e.u=[],e.s=[],e.v=n)}function z(e){N(e),e.p.forEach(L),e.p=null}function N(e){e===J&&(J=e.l)}function j(e){return J={p:[],l:J,h:e,m:!0,_:0}}function L(e){var n=e[ae];0===n.i||1===n.i?n.j():n.O=!0}function R(e,n){n._=n.p.length;var t=n.p[0],r=void 0!==e&&e!==t;return n.h.g||T("ES5").S(n,e,r),r?(t[ae].P&&(z(n),v(4)),_(e)&&(e=U(n,e),n.l||H(n,e)),n.u&&T("Patches").M(t[ae],e,n.u,n.s)):e=U(n,t,[]),z(n),n.u&&n.v(n.u,n.s),e!==oe?e:void 0}function U(e,n,t){if(M(n))return n;var r=n[ae];if(!r)return b(n,(function(o,i){return W(e,r,n,o,i,t)}),!0),n;if(r.A!==e)return n;if(!r.P)return H(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=S(r.k):r.o;b(3===r.i?new Set(o):o,(function(n,i){return W(e,r,o,n,i,t)})),H(e,o,!1),t&&e.u&&T("Patches").R(r,t,e.u,e.s)}return r.o}function W(e,n,t,r,o,i){if(E(o)){var a=U(e,o,i&&n&&3!==n.i&&!B(n.D,r)?i.concat(r):void 0);if(w(t,r,a),!E(a))return;e.m=!1}if(_(o)&&!M(o)){if(!e.h.F&&e._<1)return;U(e,o),n&&n.A.l||H(e,o)}}function H(e,n,t){void 0===t&&(t=!1),e.h.F&&e.m&&I(n,t)}function q(e,n){var t=e[ae];return(t?D(t):e)[n]}function Z(e,n){if(n in e)for(var t=Object.getPrototypeOf(e);t;){var r=Object.getOwnPropertyDescriptor(t,n);if(r)return r;t=Object.getPrototypeOf(t)}}function V(e){e.P||(e.P=!0,e.l&&V(e.l))}function Y(e){e.o||(e.o=S(e.t))}function G(e,n,t){var r=x(n)?T("MapSet").N(n,t):k(n)?T("MapSet").T(n,t):e.g?function(e,n){var t=Array.isArray(e),r={i:t?1:0,A:n?n.A:P(),P:!1,I:!1,D:{},l:n,t:e,k:null,o:null,j:null,C:!1},o=r,i=Ae;t&&(o=[r],i=pe);var a=Proxy.revocable(o,i),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(n,t):T("ES5").J(n,t);return(t?t.A:P()).p.push(r),r}function $(e){return E(e)||v(22,e),function e(n){if(!_(n))return n;var t,r=n[ae],o=y(n);if(r){if(!r.P&&(r.i<4||!T("ES5").K(r)))return r.t;r.I=!0,t=X(n,o),r.I=!1}else t=X(n,o);return b(t,(function(n,o){r&&function(e,n){return 2===y(e)?e.get(n):e[n]}(r.t,n)===o||w(t,n,e(o))})),3===o?new Set(t):t}(e)}function X(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return S(e)}function K(){function e(e,n){function t(){this.constructor=e}o(e,n),e.prototype=(t.prototype=n.prototype,new t)}function n(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function t(e){e.o||(e.o=new Set,e.t.forEach((function(n){if(_(n)){var t=G(e.A.h,n,e);e.p.set(n,t),e.o.add(t)}else e.o.add(n)})))}function r(e){e.O&&v(3,JSON.stringify(D(e)))}var o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},i=function(){function t(e,n){return this[ae]={i:2,l:n,A:n?n.A:P(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,O:!1},this}e(t,Map);var o=t.prototype;return Object.defineProperty(o,"size",{get:function(){return D(this[ae]).size}}),o.has=function(e){return D(this[ae]).has(e)},o.set=function(e,t){var o=this[ae];return r(o),D(o).has(e)&&D(o).get(e)===t||(n(o),V(o),o.D.set(e,!0),o.o.set(e,t),o.D.set(e,!0)),this},o.delete=function(e){if(!this.has(e))return!1;var t=this[ae];return r(t),n(t),V(t),t.D.set(e,!1),t.o.delete(e),!0},o.clear=function(){var e=this[ae];r(e),D(e).size&&(n(e),V(e),e.D=new Map,b(e.t,(function(n){e.D.set(n,!1)})),e.o.clear())},o.forEach=function(e,n){var t=this;D(this[ae]).forEach((function(r,o){e.call(n,t.get(o),o,t)}))},o.get=function(e){var t=this[ae];r(t);var o=D(t).get(e);if(t.I||!_(o))return o;if(o!==t.t.get(e))return o;var i=G(t.A.h,o,t);return n(t),t.o.set(e,i),i},o.keys=function(){return D(this[ae]).keys()},o.values=function(){var e,n=this,t=this.keys();return(e={})[se]=function(){return n.values()},e.next=function(){var e=t.next();return e.done?e:{done:!1,value:n.get(e.value)}},e},o.entries=function(){var e,n=this,t=this.keys();return(e={})[se]=function(){return n.entries()},e.next=function(){var e=t.next();if(e.done)return e;var r=n.get(e.value);return{done:!1,value:[e.value,r]}},e},o[se]=function(){return this.entries()},t}(),a=function(){function n(e,n){return this[ae]={i:3,l:n,A:n?n.A:P(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,O:!1,C:!1},this}e(n,Set);var o=n.prototype;return Object.defineProperty(o,"size",{get:function(){return D(this[ae]).size}}),o.has=function(e){var n=this[ae];return r(n),n.o?!!n.o.has(e)||!(!n.p.has(e)||!n.o.has(n.p.get(e))):n.t.has(e)},o.add=function(e){var n=this[ae];return r(n),this.has(e)||(t(n),V(n),n.o.add(e)),this},o.delete=function(e){if(!this.has(e))return!1;var n=this[ae];return r(n),t(n),V(n),n.o.delete(e)||!!n.p.has(e)&&n.o.delete(n.p.get(e))},o.clear=function(){var e=this[ae];r(e),D(e).size&&(t(e),V(e),e.o.clear())},o.values=function(){var e=this[ae];return r(e),t(e),e.o.values()},o.entries=function(){var e=this[ae];return r(e),t(e),e.o.entries()},o.keys=function(){return this.values()},o[se]=function(){return this.values()},o.forEach=function(e,n){for(var t=this.values(),r=t.next();!r.done;)e.call(n,r.value,r.value,this),r=t.next()},n}();!function(e,n){de[e]||(de[e]=n)}("MapSet",{N:function(e,n){return new i(e,n)},T:function(e,n){return new a(e,n)}})}C.styleTagTransform=h(),C.setAttributes=l(),C.insert=a().bind(null,"head"),C.domAPI=o(),C.insertStyleElement=A(),n()(g.Z,C),g.Z&&g.Z.locals&&g.Z.locals;var Q,J,ee="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ne="undefined"!=typeof Map,te="undefined"!=typeof Set,re="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,oe=ee?Symbol.for("immer-nothing"):((Q={})["immer-nothing"]=!0,Q),ie=ee?Symbol.for("immer-draftable"):"__$immer_draftable",ae=ee?Symbol.for("immer-state"):"__$immer_state",se="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",le=""+Object.prototype.constructor,ce="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ue=Object.getOwnPropertyDescriptors||function(e){var n={};return ce(e).forEach((function(t){n[t]=Object.getOwnPropertyDescriptor(e,t)})),n},de={},Ae={get:function(e,n){if(n===ae)return e;var t=D(e);if(!B(t,n))return function(e,n,t){var r,o=Z(n,t);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,t,n);var r=t[n];return e.I||!_(r)?r:r===q(e.t,n)?(Y(e),e.o[n]=G(e.A.h,r,e)):r},has:function(e,n){return n in D(e)},ownKeys:function(e){return Reflect.ownKeys(D(e))},set:function(e,n,t){var r=Z(D(e),n);if(null==r?void 0:r.set)return r.set.call(e.k,t),!0;if(!e.P){var o=q(D(e),n),i=null==o?void 0:o[ae];if(i&&i.t===t)return e.o[n]=t,e.D[n]=!1,!0;if(function(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n}(t,o)&&(void 0!==t||B(e.t,n)))return!0;Y(e),V(e)}return e.o[n]===t&&"number"!=typeof t&&(void 0!==t||n in e.o)||(e.o[n]=t,e.D[n]=!0,!0)},deleteProperty:function(e,n){return void 0!==q(e.t,n)||n in e.t?(e.D[n]=!1,Y(e),V(e)):delete e.D[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var t=D(e),r=Reflect.getOwnPropertyDescriptor(t,n);return r?{writable:!0,configurable:1!==e.i||"length"!==n,enumerable:r.enumerable,value:t[n]}:r},defineProperty:function(){v(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){v(12)}},pe={};b(Ae,(function(e,n){pe[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),pe.deleteProperty=function(e,n){return Ae.deleteProperty.call(this,e[0],n)},pe.set=function(e,n,t){return Ae.set.call(this,e[0],n,t,e[0])};var he=new(function(){function e(e){var n=this;this.g=re,this.F=!0,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var o=t;t=e;var i=n;return function(e){var n=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(a))}))}}var a;if("function"!=typeof t&&v(6),void 0!==r&&"function"!=typeof r&&v(7),_(e)){var s=j(n),l=G(n,e,void 0),c=!0;try{a=t(l),c=!1}finally{c?z(s):N(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return O(s,r),R(e,s)}),(function(e){throw z(s),e})):(O(s,r),R(a,s))}if(!e||"object"!=typeof e){if((a=t(e))===oe)return;return void 0===a&&(a=e),n.F&&I(a,!0),a}v(21,e)},this.produceWithPatches=function(e,t){return"function"==typeof e?function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return n.produceWithPatches(t,(function(n){return e.apply(void 0,[n].concat(o))}))}:[n.produce(e,t,(function(e,n){r=e,o=n})),r,o];var r,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var n=e.prototype;return n.createDraft=function(e){_(e)||v(8),E(e)&&(e=$(e));var n=j(this),t=G(this,e,void 0);return t[ae].C=!0,N(n),t},n.finishDraft=function(e,n){var t=(e&&e[ae]).A;return O(t,n),R(void 0,t)},n.setAutoFreeze=function(e){this.F=e},n.setUseProxies=function(e){e&&!re&&v(20),this.g=e},n.applyPatches=function(e,n){var t;for(t=n.length-1;t>=0;t--){var r=n[t];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}t>-1&&(n=n.slice(t+1));var o=T("Patches").$;return E(e)?o(e,n):this.produce(e,(function(e){return o(e,n)}))},e}()),me=he.produce,fe=(he.produceWithPatches.bind(he),he.setAutoFreeze.bind(he)),ge=(he.setUseProxies.bind(he),he.applyPatches.bind(he),he.createDraft.bind(he)),Ce=he.finishDraft.bind(he);const ve=me,Ee=["id","first_name","first_name_gen","first_name_acc","last_name","last_name_gen","last_name_acc","sex","photo_50","photo_100","photo_200","contact_name","occupation","bdate","city","screen_name","online_info","verified","blacklisted","blacklisted_by_me","can_call","can_write_private_message","can_send_friend_request","friend_status","followers_count"],_e=["id","name","screen_name","type","photo_50","photo_100","members_count","member_status","verified","is_closed","can_message","deactivated","activity","ban_info"],be="5.163";function ye(e){throw new Error("Exhaustivness failure! This should never happen.")}function Be(e){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){return new Promise((n=>{setTimeout(n,e)}))}))}class we{constructor(e,n){this.minTimeout=e,this.maxTimeout=n,this.delay=()=>this.timeout,this.attempts=()=>this.retries,this.backoff=()=>{this.timeout=Math.min(2*this.timeout,this.maxTimeout),this.retries++},this.reset=()=>{this.timeout=this.minTimeout,this.retries=0},this.timeout=e,this.retries=0}}function xe(e){return e.length>0?e:null}function ke(e){return e>Math.pow(1024,3)?Number((e/Math.pow(1024,3)).toFixed(2))+" GB":e>Math.pow(1024,2)?Number((e/Math.pow(1024,2)).toFixed(1))+" MB":Math.round(e/1024)+" KB"}function De(e){return e>=1e9?Math.floor(e/1e9)+"B":e>=1e6?Math.floor(e/1e6)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e?e.toString():""}function Se(e,n){e||(e=0),e=Math.abs(e);const t=Math.floor(e/3600).toString(),r=(Math.floor(e/60)%60).toString(),o=(e%60).toString().padStart(2,"0");return e>=3600||n?[t,r.padStart(2,"0"),o].join(":"):[r.padStart(1,"0"),o].join(":")}function Ie(e){if(Number.isNaN(e)&&(e=0),!e||!Number.isInteger(e))return 0;const n=e;return Me(n)||Pe(n)||Te(n)?n:0}function Fe(e){if(!e||!Number.isInteger(e))return 0;const n=e;return Me(n)||Pe(n)||Te(n)||(t=n)>-19e8&&t<-189e7?n:0;var t}function Me(e){return e>0&&e<2e9}function Te(e){return e>2e9}function Pe(e){return e<0&&e>-189e7}function Oe(e,n="nom"){switch(e.kind){case"User":switch(n){case"nom":return e.firstName+" "+e.lastName;case"gen":return e.firstNameGen+" "+e.lastNameGen;case"acc":return e.firstNameAcc+" "+e.lastNameAcc;default:return ye()}case"Group":return e.name;case"Chat":return e.title;default:return ye()}}function ze(e){switch(e.kind){case"User":return e.firstName+" "+e.lastName.charAt(0)+(e.lastName.length>1?".":"");case"Group":return e.name;case"Chat":return e.title;default:return ye()}}function Ne(e){switch(e.kind){case"User":return e.firstName;case"Group":return e.name;case"Chat":return e.title;default:return ye()}}function je(e){if("Chat"===e.kind)return"";if(e.screenName)return`/${e.screenName}`;switch(e.kind){case"User":return`/id${e.id}`;case"Group":return`/club${Math.abs(e.id)}`;default:return ye()}}function Le(e,n,t){e.lastSeen.at=n,e.lastSeen.platform=t}function Re(e,n){switch(n){case"add":{if(!e.canChangeFriendship)break;const n={unfamiliar:"outgoingRequest",outgoingRequest:"outgoingRequest",incomingRequest:"friends",friends:"friends"};e.friendship=n[e.friendship];break}case"delete":{const n={unfamiliar:"unfamiliar",outgoingRequest:"unfamiliar",incomingRequest:"incomingRequest",friends:"incomingRequest"};e.friendship=n[e.friendship];break}default:ye()}}function Ue(e,n){switch(n){case"join":{const n={notMember:e.isClosed?"outgoingRequest":"member",member:"member",unsure:"member",declined:"member",outgoingRequest:"outgoingRequest",incomingRequest:"member"}[e.membership];e.membership!==n&&"member"===n&&e.memberCount++,e.membership=n;break}case"leave":{const n={notMember:"notMember",member:"notMember",unsure:"notMember",declined:"notMember",outgoingRequest:"notMember",incomingRequest:"declined"}[e.membership];e.membership!==n&&e.memberCount--,e.membership=n;break}default:ye()}}function We(e,n){return e.get(n)||e.get(Ie())}var He=u(6883),qe=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"']];function Ze(e){return qe.reduce((function(e,n){var t=n[0],r=n[1];return e.replace(new RegExp(t,"ig"),r)}),e).replace(/&#(\d+);/g,(function(e,n){return String.fromCodePoint(n)}))}function Ve(e){return Ye(e,fn)}function Ye(e,n){if(0===e.length)return[];try{return n.many().map((e=>{const n=[];for(const t of e)switch(t.name){case"LineBreak":n.push({kind:"LineBreak"});break;case"Mention":n.push(Object.assign({kind:"Mention"},t.value));break;case"NamedMention":n.push(Object.assign({kind:"NamedMention"},t.value));break;case"MassMention":n.push({kind:"MassMention",displayName:t.value});break;case"AliasMention":n.push(Object.assign({kind:"AliasMention"},t.value));break;case"ClientMention":n.push({kind:"ClientMention",screenName:t.value});break;case"Email":n.push({kind:"Email",email:t.value});break;case"Hashtag":n.push({kind:"Hashtag",tag:t.value});break;case"Url":const{protocol:e,domainName:r,domain:o,port:i,query:a,full:s}=t.value,l=`${e||"http://"}${r}${o}${i}${a}`;if(o.length<=on&&rn.has(o.toLowerCase())){n.push({kind:"Url",caption:s,href:l});break}n.push({kind:"Text",text:Ze(s)});break;case"Text":const c=n[n.length-1];"Text"===(null==c?void 0:c.kind)?c.text+=t.value:n.push({kind:"Text",text:t.value});break;default:n.push({kind:"Text",text:t.value})}for(const e of n)switch(e.kind){case"Text":e.text=Ze(e.text);break;case"Url":e.caption=Ze(e.caption),e.href=Ze(e.href)}return n})).tryParse(e)}catch(e){return[]}}const Ge=He.regexp(/\n|<br ?\/?>/).node("LineBreak"),$e=He.regexp(/(?!,|;|:|\.|\s|\n|"|\(|\)|\[|\]|!|\?)([*@](all|everyone|все|online|here|здесь|тут))(?=$|,|;|:|\.(?![a-z0-9_-])|\s|\n|"|\(|\)|\[|\]|!|\?)/i,1).node("MassMention"),Xe=He.seqObj(["prefix",He.oneOf("@*")],["handle",He.alt(He.digit,He.letter,He.string("_")).atLeast(2).map((e=>e.join("")))]),Ke=He.seqObj(He.string("["),["type",He.alt(He.string("id"),He.string("club"))],["peerId",He.digit.atLeast(1).map((e=>+e.join("")))],He.string("|"),["screenName",Xe],He.string("]")).map((e=>({type:e.type,peerId:"club"===e.type?Ie(-e.peerId):Ie(e.peerId),screenName:e.screenName.handle}))).node("Mention"),Qe=He.seqObj(He.string("["),["type",He.alt(He.string("id"),He.string("club"))],["peerId",He.digit.atLeast(1).map((e=>+e.join("")))],["displayName",He.regexp(/\|(.+?)\]/,1)]).map((e=>({type:e.type,peerId:"club"===e.type?Ie(-e.peerId):Ie(e.peerId),displayName:e.displayName}))).node("NamedMention"),Je=He.seqObj(["screenName",Xe],He.whitespace,["displayName",He.regexp(/\((.+?)\)/,1)]).map((e=>({screenName:e.screenName.handle,displayName:e.displayName}))).node("AliasMention"),en=Xe.map((e=>e.handle)).node("ClientMention"),nn="((?:[\\w\\$А-Яа-яёЁєЄҐґЇїІіЈј\\—\\-\\_]+\\.){1,5})",tn="([A-Za-zа-яА-Я\\-\\d]{2,22})",rn=new Set([..."aaa,aarp,abarth,abb,abbott,abbvie,abc,able,abogado,abudhabi,ac,academy,accenture,accountant,accountants,aco,active,actor,ad,adac,ads,adult,ae,aeg,aero,aetna,af,afamilycompany,afl,africa,ag,agakhan,agency,ai,aig,aigo,airbus,airforce,airtel,akdn,al,alfaromeo,alibaba,alipay,allfinanz,allstate,ally,alsace,alstom,am,americanexpress,americanfamily,amex,amfam,amica,amsterdam,an,analytics,android,anquan,anz,ao,aol,apartments,app,apple,aq,aquarelle,ar,aramco,archi,army,arpa,art,arte,as,asda,asia,associates,at,athleta,attorney,au,auction,audi,audible,audio,auspost,author,auto,autos,avianca,aw,aws,ax,axa,az,azure,ba,baby,baidu,banamex,bananarepublic,band,bank,bar,barcelona,barclaycard,barclays,barefoot,bargains,baseball,basketball,bauhaus,bayern,bb,bbc,bbt,bbva,bcg,bcn,bd,be,beats,beauty,beer,bentley,berlin,best,bestbuy,bet,bf,bg,bh,bharti,bi,bible,bid,bike,bing,bingo,bio,biz,bj,bl,black,blackfriday,blanco,blockbuster,blog,bloomberg,blue,bm,bms,bmw,bn,bnl,bnpparibas,bo,boats,boehringer,bofa,bom,bond,boo,book,booking,boots,bosch,bostik,boston,bot,boutique,box,bq,br,bradesco,bridgestone,broadway,broker,brother,brussels,bs,bt,budapest,bugatti,build,builders,business,buy,buzz,bv,bw,by,bz,bzh,ca,cab,cafe,cal,call,calvinklein,cam,camera,camp,cancerresearch,canon,capetown,capital,capitalone,car,caravan,cards,care,career,careers,cars,cartier,casa,case,caseih,cash,casino,cat,catering,catholic,cba,cbn,cbre,cbs,cc,cd,ceb,center,ceo,cern,cf,cfa,cfd,cg,ch,chanel,channel,chase,chat,cheap,chintai,chloe,christmas,chrome,chrysler,church,ci,cipriani,circle,cisco,citadel,citi,citic,city,cityeats,ck,cl,claims,cleaning,click,clinic,clinique,clothing,cloud,club,clubmed,cm,cn,co,coach,codes,coffee,college,cologne,com,comcast,commbank,community,company,compare,computer,comsec,condos,construction,consulting,contact,contractors,cooking,cookingchannel,cool,coop,corsica,country,coupon,coupons,courses,cr,credit,creditcard,creditunion,cricket,crown,crs,cruise,cruises,csc,cu,cuisinella,cv,cw,cx,cy,cymru,cyou,cz,dabur,dad,dance,data,date,dating,datsun,day,dclk,dds,de,deal,dealer,deals,degree,delivery,dell,deloitte,delta,democrat,dental,dentist,desi,design,dev,dhl,diamonds,diet,digital,direct,directory,discount,discover,dish,diy,dj,dk,dm,dnp,do,docs,doctor,dodge,dog,doha,domains,dot,download,drive,dtv,dubai,duck,dunlop,duns,dupont,durban,dvag,dvr,dz,earth,eat,ec,eco,edeka,edu,education,ee,eg,eh,email,emerck,energy,engineer,engineering,enterprises,epost,epson,equipment,er,ericsson,erni,es,esq,estate,esurance,et,eu,eurovision,eus,events,everbank,exchange,expert,exposed,express,extraspace,fage,fail,fairwinds,faith,family,fan,fans,farm,farmers,fashion,fast,fedex,feedback,ferrari,ferrero,fi,fiat,fidelity,fido,film,final,finance,financial,fire,firestone,firmdale,fish,fishing,fit,fitness,fj,fk,flickr,flights,flir,florist,flowers,fly,fm,fo,foo,food,foodnetwork,football,ford,forex,forsale,forum,foundation,fox,fr,free,fresenius,frl,frogans,frontdoor,frontier,ftr,fujitsu,fujixerox,fun,fund,furniture,futbol,fyi,ga,gal,gallery,gallo,gallup,game,games,gap,garden,gb,gbiz,gd,gdn,ge,gea,gent,genting,george,gf,gg,ggee,gh,gi,gift,gifts,gives,giving,gl,glade,glass,gle,global,globo,gm,gmail,gmbh,gmo,gmx,gn,godaddy,gold,goldpoint,golf,goo,goodhands,goodyear,goog,google,gop,got,gov,gp,gq,gr,grainger,graphics,gratis,green,gripe,group,gs,gt,gu,guardian,gucci,guge,guide,guitars,guru,gw,gy,hair,hamburg,hangout,haus,hbo,hdfc,hdfcbank,health,healthcare,help,helsinki,here,hermes,hgtv,hiphop,hisamitsu,hitachi,hiv,hk,hkt,hm,hn,hockey,holdings,holiday,homedepot,homegoods,homes,homesense,honda,honeywell,horse,hospital,host,hosting,hot,hoteles,hotmail,house,how,hr,hsbc,ht,htc,hu,hughes,hyatt,hyundai,ibm,icbc,ice,icu,id,ie,ieee,ifm,ikano,il,im,imamat,imdb,immo,immobilien,in,industries,infiniti,info,ing,ink,institute,insurance,insure,int,intel,international,intuit,investments,io,ipiranga,iq,ir,irish,is,iselect,ismaili,ist,istanbul,it,itau,itv,iveco,iwc,jaguar,java,jcb,jcp,je,jeep,jetzt,jewelry,jio,jlc,jll,jm,jmp,jnj,jo,jobs,joburg,jot,joy,jp,jpmorgan,jprs,juegos,juniper,kaufen,kddi,ke,kerryhotels,kerrylogistics,kerryproperties,kfh,kg,kh,ki,kia,kim,kinder,kindle,kitchen,kiwi,km,kn,koeln,komatsu,kosher,kp,kpmg,kpn,kr,krd,kred,kuokgroup,kw,ky,kyoto,kz,la,lacaixa,ladbrokes,lamborghini,lamer,lancaster,lancia,lancome,land,landrover,lanxess,lasalle,lat,latino,latrobe,law,lawyer,lb,lc,lds,lease,leclerc,lefrak,legal,lego,lexus,lgbt,li,liaison,lidl,life,lifeinsurance,lifestyle,lighting,like,lilly,limited,limo,lincoln,linde,link,lipsy,live,living,lixil,lk,loan,loans,local,locker,locus,loft,lol,london,lotte,lotto,love,lpl,lplfinancial,lr,ls,lt,ltd,ltda,lu,lundbeck,lupin,luxe,luxury,lv,ly,ma,macys,madrid,maif,maison,makeup,man,management,mango,market,marketing,markets,marriott,marshalls,maserati,mattel,mba,mc,mcd,mcdonalds,mckinsey,md,me,med,media,meet,melbourne,meme,memorial,men,menu,meo,metlife,mf,mg,mh,miami,microsoft,mil,mini,mint,mit,mitsubishi,mk,ml,mlb,mls,mm,mma,mn,mo,mobi,mobile,mobily,moda,moe,moi,mom,monash,money,monster,montblanc,mopar,mormon,mortgage,moscow,moto,motorcycles,mov,movie,movistar,mp,mq,mr,ms,msd,mt,mtn,mtpc,mtr,mu,museum,mutual,mv,mw,mx,my,mz,na,nab,nadex,nagoya,name,nationwide,natura,navy,nba,nc,ne,nec,net,netbank,netflix,network,neustar,new,newholland,news,next,nextdirect,nexus,nf,nfl,ng,ngo,nhk,ni,nico,nike,nikon,ninja,nissan,nissay,nl,no,nokia,northwesternmutual,norton,now,nowruz,nowtv,np,nr,nra,nrw,ntt,nu,nyc,nz,obi,observer,off,office,okinawa,olayan,olayangroup,oldnavy,ollo,om,omega,one,ong,onl,online,onyourside,ooo,open,oracle,orange,org,organic,orientexpress,origins,osaka,otsuka,ott,ovh,pa,page,pamperedchef,panasonic,panerai,paris,pars,partners,parts,party,passagens,pay,pccw,pe,pet,pf,pfizer,pg,ph,pharmacy,philips,phone,photo,photography,photos,physio,piaget,pics,pictet,pictures,pid,pin,ping,pink,pioneer,pizza,pk,pl,place,play,playstation,plumbing,plus,pm,pn,pnc,pohl,poker,politie,porn,post,pr,pramerica,praxi,press,prime,pro,prod,productions,prof,progressive,promo,properties,property,protection,pru,prudential,ps,pt,pub,pw,pwc,py,qa,qpon,quebec,quest,qvc,racing,radio,raid,re,read,realestate,realtor,realty,recipes,red,redstone,redumbrella,rehab,reise,reisen,reit,reliance,ren,rent,rentals,repair,report,republican,rest,restaurant,review,reviews,rexroth,rich,richardli,ricoh,rightathome,ril,rio,rip,rmit,ro,rocher,rocks,rodeo,rogers,room,rs,rsvp,ru,ruhr,run,rw,rwe,ryukyu,sa,saarland,safe,safety,sakura,sale,salon,samsclub,samsung,sandvik,sandvikcoromant,sanofi,sap,sapo,sarl,sas,save,saxo,sb,sbi,sbs,sc,sca,scb,schaeffler,schmidt,scholarships,school,schule,schwarz,science,scjohnson,scor,scot,sd,se,seat,secure,security,seek,select,sener,services,ses,seven,sew,sex,sexy,sfr,sg,sh,shangrila,sharp,shaw,shell,shia,shiksha,shoes,shop,shopping,shouji,show,showtime,shriram,si,silk,sina,singles,site,sj,sk,ski,skin,sky,skype,sl,sling,sm,smart,smile,sn,sncf,so,soccer,social,softbank,software,sohu,solar,solutions,song,sony,soy,space,spiegel,spot,spreadbetting,sr,srl,srt,ss,st,stada,staples,star,starhub,statebank,statefarm,statoil,stc,stcgroup,stockholm,storage,store,stream,studio,study,style,su,sucks,supplies,supply,support,surf,surgery,suzuki,sv,swatch,swiftcover,swiss,sx,sy,sydney,symantec,systems,sz,tab,taipei,talk,taobao,target,tatamotors,tatar,tattoo,tax,taxi,tc,tci,td,tdk,team,tech,technology,tel,telecity,telefonica,temasek,tennis,teva,tf,tg,th,thd,theater,theatre,tiaa,tickets,tienda,tiffany,tips,tires,tirol,tj,tjmaxx,tjx,tk,tkmaxx,tl,tm,tmall,tn,to,today,tokyo,tools,top,toray,toshiba,total,tours,town,toyota,toys,tp,tr,trade,trading,training,travel,travelchannel,travelers,travelersinsurance,trust,trv,tt,tube,tui,tunes,tushu,tv,tvs,tw,tz,ua,ubank,ubs,uconnect,ug,uk,um,unicom,university,uno,uol,ups,us,uy,uz,va,vacations,vana,vanguard,vc,ve,vegas,ventures,verisign,vermögensberater,vermögensberatung,versicherung,vet,vg,vi,viajes,video,vig,viking,villas,vin,vip,virgin,visa,vision,vista,vistaprint,viva,vivo,vlaanderen,vn,vodka,volkswagen,volvo,vote,voting,voto,voyage,vu,vuelos,wales,walmart,walter,wang,wanggou,warman,watch,watches,weather,weatherchannel,webcam,weber,website,wed,wedding,weibo,weir,wf,whoswho,wien,wiki,williamhill,win,windows,wine,winners,wme,wolterskluwer,woodside,work,works,world,wow,ws,wtc,wtf,xbox,xerox,xfinity,xihuan,xin,xperia,xxx,xyz,yachts,yahoo,yamaxun,yandex,ye,yodobashi,yoga,yokohama,you,youtube,yt,yu,yun,za,zappos,zara,zero,zip,zippo,zm,zone,zuerich,zw".split(","),..."бг,бел,дети,ею,католик,ком,мкд,мон,москва,онлайн,орг,рус,рф,сайт,срб,укр".split(","),..."qxam,90ae,90ais,d1acj3b,e1a4c,80aqecdr1a,j1aef,d1alf,l1acc,80adxhks,80asehdb,c1avg,p1acf,p1ai,80aswg,90a3ac,j1amh,80ao21a,y9a3aq,9dbq2a,mgbca7dzdo,mgba3a3ejt,mgbayh7gpa,lgbbat1ad8j,mgberp4a5d4ar,mgba7c0bbn0a,mgbc0a9azcg,mgb2ddes,mgbaam7a8h,mgba3a4f16a,mgbbh1a,mgbab2bd,ngbe9e0a,mgbbh1a71e,pgbs0dh,mgbpl2fh,ogbpf8fl,ngbc5azd,mgbtx2b,mgb9awbf,ygbi2ammx,wgbl6a,mgbi4ecexp,fhbei,wgbh1c,mgbx4cd0ab,mgbb9fbpob,4gbrim,mgbt3dhd,mgbai9azgqp6j,mgbgu82a,11b4c3d,c2br7g,h2brj9c,h2breg3eve,h2brj9c8c,i1b6b1a6a2e,54b7fta0cc,45brj9c,45br5cyl,s9brj9c,gecrj9c,3hcrj9c,xkc2dl3a5ee0h,xkc2al3hye2a,clchc0ea0b2g2a9gcd,fpcrj9c3d,2scrj9c,rvc1e0am3e,fzc2c9e2c,42c2d9a,o3cw4h,node,q9jyb4c,gckr3f0f,qcka1pmc,tckwe,cck2b3b,1ck2e1b,bck1b9a5dre4c,eckvdtc9d,rhqv96g,fiq64b,fiqs8s,fiqz9s,fiq228c5hs,vhquv,1qqw23a,vuq861b,nyqy26a,45q11c,55qx5d,55qw42g,kprw13d,kpry57d,czru2d,czrs0t,czr694b,w4rs40l,w4r85el8fhu5dnra,3ds443g,3oq18vl8pn36a,pssy2u,tiq49xqyj,fjq720a,fct429k,estv75g,xhq521b,9krt00a,30rr7y,6qq986b3xl,kput3i,kpu716f,zfr164b,mxtq1m,yfro4i67o,efvy88h,9et52u,rovu88b,nqv7f,b4w605ferd,unup4y,mix891f,mix082f,3pxu8k,pbt977c,6frz82g,nqv7fs00ema,ses554g,hxt814e,5tzm5g,io0a7i,8y0a063a,jlq61u9w7b,flw351e,g2xx48c,gk3at1e,3bst00m,fzys8d69uvgm,kcrx77d1x4a,jvr189m,imr513n,5su34j936bgsg,j6w193g,t60b56a,mk1bu44c,cg4bki,3e0b707e".split(",").map((e=>"xn--"+e))]),on=[...rn].reduce(((e,n)=>Math.max(e,n.length)),0),an=He.seq(He.regexp(new RegExp("(https?:\\/\\/)?")),He.regexp(new RegExp(nn)),He.regexp(new RegExp(tn)),He.regexp(new RegExp("(?:\\:(\\d{2,5}))?")),He.regexp(new RegExp("(([\\/?#])(?:\\&amp;|\\&|\\&#\\d{2,6};|,[_%]|!|,*[\\wА-Яа-я\\xa8\\xb8\\xc0-\\xffєЄҐґЇїІіЈј\\—\\-\\_@#%?+\\/\\$.~=;:'ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ　-〿＀-￯*]+|(?:\\(|\\[)[\\w\\$А-Яа-яёЁєЄҐґЇїІіЈј\\d&#%;,]+(?:\\)|\\])){0,200})?"))).map((e=>{const[n,t,r,o,i]=e;return{protocol:n,domainName:t,domain:r,port:o,query:i,full:e.join("")}})).node("Url"),sn=He.regexp(new RegExp("([a-zA-Zа-яА-Я\\-_\\.0-9\\+]+@("+nn+tn+"))","i")).node("Email"),ln="a-zA-Zа-яА-ЯёіјєїґўЁІЈЄЇҐЎ’",cn="(?:&#(?:19[2-9]|(?:[2-9]|1[0-3])[0-9][0-9]);?)",un=`(?:[${ln}]|${cn})`,dn=`(?:[${ln}_\\d]|${cn})`,An=He.seqObj(He.string("#"),["tag",He.regexp(new RegExp(`${dn}{0,100}${un}${dn}{0,100}`))]).map((e=>"#"+e.tag)).node("Hashtag"),pn=He.any.node("Text"),hn=He.alt(Ge,an,An,sn,$e,Ke,Qe,Je),mn=He.alt(hn,en,pn),fn=He.alt(hn,pn);var gn,Cn=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};function vn(e){return Number.isNaN(e)&&(e=0),!e||e<0?0:e}function En(e){return Number.isNaN(e)&&(e=0),!e||e<0?0:e}function _n(e){return!e||e>0?0:e}function bn(e){const n="Normal"===e.kind&&e.id?`&msgid=${e.id}`:"";return`/im?sel=${e.peerId}${n}`}function yn(e,n,t,r){const o=["gift","graffiti","call"],i=(a=new Date(e.sentAt),s=new Date(n.sentAt),!(a.getDate()===s.getDate()&&a.getMonth()===s.getMonth()&&a.getFullYear()===s.getFullYear()));var a,s;const l="Queued"!==e.kind&&"Queued"!==n.kind&&!n.isOut&&n.cmid>t&&(e.isOut?e.cmid<=r:e.cmid<=t);return i||l||"Service"===e.kind||"Service"===n.kind||"Normal"===e.kind&&e.expireTTL||"Normal"===n.kind&&n.expireTTL||"Expired"===e.kind||"Expired"===n.kind||e.authorId!==n.authorId||n.sentAt-e.sentAt>3e5||"Normal"===e.kind&&o.some((n=>void 0!==e.attaches[n]))||"Normal"===n.kind&&o.some((e=>void 0!==n.attaches[e]))||"Normal"===n.kind&&n.replyMessage?{kind:"split",atUnread:l,atDate:i}:{kind:"continue"}}function Bn(e){const n={DONT_USE_ME_isUnread:0,isOut:1,isImportant:3,isSpam:6,isDeleted:7,isVoiceListened:12,DONT_USE_ME_isStealth:16,isDeletedForAll:17,noPush:20,DONT_USE_ME_skipUnread:23};if("number"==typeof e){const t={};for(const r of Object.keys(n))t[r]=(e&1<<n[r])>0;return t}let t=0;for(const r of Object.keys(e))e[r]&&(t|=1<<n[r]);return t}function wn(e){if(e.isOut)return!1;const n=e.attaches.voice;return!!n&&!n.isListened}function xn(e){var n,t;if(!("sticker_id"in e))return;if(!e.images||!e.images_with_background||!e.sticker_id)return;const r=e.images.find((e=>128===e.height)),o=e.images.find((e=>256===e.height)),i=e.images_with_background.find((e=>128===e.height)),a=e.images_with_background.find((e=>128===e.height));return r&&o&&i&&a?{id:e.sticker_id,kind:"Sticker",image128:{light:r.url,dark:i.url},image256:{light:o.url,dark:a.url},animation:e.animations&&{light:(null===(n=e.animations.find((e=>"light"===e.type)))||void 0===n?void 0:n.url)||"",dark:(null===(t=e.animations.find((e=>"dark"===e.type)))||void 0===t?void 0:t.url)||""}}:void 0}function kn(e,n,t){var r,o,i,a;if(0===e.length)return{};const s={},l=e=>{s.unknown=[...s.unknown||[],{data:e}]};for(const h of e)switch(h.type){case"photo":{if(!h.photo){l(h);break}const e=Tn(h.photo,t);if(!e){l(h);break}s.photos=[...s.photos||[],e];break}case"audio":{if(!h.audio){l(h);break}const e=jn(h.audio);s.audios=[...s.audios||[],e];break}case"video":if(!h.video){l(h);break}const e=Pn(h.video,t);if(!e){l(h);break}s.videos=[...s.videos||[],e];break;case"doc":{if(!h.doc){l(h);break}const e=Mn(h.doc);if(!e){l(h);break}s.docs=[...s.docs||[],e];break}case"link":{if(!h.link){l(h);break}const e=In(h.link);if(!e){l(h);break}s.link=e;break}case"market":{if(!h.market){l(h);break}const e=Fn(h.market);if(!e){l(h);break}s.market=e;break}case"market_album":if(!h.market_market_album){l(h);break}s.marketAlbum={kind:"MarketAlbum"};break;case"gift":if(!h.gift){l(h);break}const m=Nn(h.gift);if(!m){l(h);break}s.gift=m;break;case"sticker":{if(!h.sticker){l(h);break}const e=xn(h.sticker);if(!e){l(h);break}s.sticker=e;break}case"wall":{if(!h.wall||!h.wall.from_id||!h.wall.id){l(h);break}const e=[...h.wall.attachments||[]];h.wall.geo&&e.push({type:"geo",geo:h.wall.geo});const n=null!==(o=null!==(r=h.wall.owner_id)&&void 0!==r?r:h.wall.source_id)&&void 0!==o?o:h.wall.to_id;if(!n){l(h);break}s.wall={kind:"Wall",authorId:Ie(h.wall.from_id),ownerId:Ie(n),id:h.wall.id,date:1e3*(h.wall.date||0),chunks:Ve(h.wall.text||""),attaches:Dn(e,h.wall.access_key)};break}case"wall_reply":{if(!(h.wall_reply&&h.wall_reply.from_id&&h.wall_reply.id&&h.wall_reply.post_id)){l(h);break}const e=null!==(a=null!==(i=h.wall_reply.owner_id)&&void 0!==i?i:h.wall_reply.source_id)&&void 0!==a?a:h.wall_reply.to_id;if(!e){l(h);break}s.wallReply={kind:"WallReply",id:h.wall_reply.id,postId:h.wall_reply.post_id,authorId:Ie(h.wall_reply.from_id),ownerId:Ie(e),parentsStack:h.wall_reply.parents_stack,date:1e3*(h.wall_reply.date||0),chunks:Ve(h.wall_reply.text||""),attaches:Sn(h.wall_reply.attachments||[])};break}case"article":if(!h.article){l(h);break}s.article={kind:"Article",url:(p=h.article).url||"",title:p.title||"",meta:p.subtitle||"",image:p.photo?Wn(p.photo.sizes||[]):void 0};break;case"poll":if(!h.poll||!h.poll.owner_id||!h.poll.id){l(h);break}s.poll={kind:"Poll",id:h.poll.id,ownerId:h.poll.owner_id};break;case"call":if(!h.call){l(h);break}s.call={kind:"Call"};break;case"graffiti":if(!h.graffiti){l(h);break}s.graffiti={kind:"Graffiti"};break;case"audio_message":if(!h.audio_message){l(h);break}s.voice=Ln(h.audio_message,n);break;case"audio_playlist":if(!h.audio_playlist){l(h);break}s.audioPlaylist={kind:"AudioPlaylist",id:(A=h.audio_playlist).id,ownerId:A.owner_id,type:Un[A.type],title:A.title,accessKey:A.access_key,image:zn(A.photo,"photo")};break;case"playlist":l(h);break;case"podcast":if(!h.podcast){l(h);break}s.podcast={kind:"Podcast",id:(d=h.podcast).id,ownerId:d.owner_id,title:d.title,image:d.podcast_info.cover&&d.podcast_info.cover.sizes?Hn(d.podcast_info.cover.sizes):void 0};break;case"money_transfer":if(!h.money_transfer){l(h);break}s.moneyTransfer={kind:"MoneyTransfer",text:h.money_transfer.amount.text};break;case"money_request":if(!h.money_request){l(h);break}s.moneyRequest={kind:"MoneyRequest",id:(u=h.money_request).id,toId:u.to_id,fromId:u.from_id,text:u.amount.text,initUrl:u.init_url,isUserOwner:!!u.user_is_owner,isProcessed:!!u.processed,amount:u.amount};break;case"story":if(!h.story){l(h);break}s.story={kind:"Story",id:(c=h.story).id,ownerId:c.owner_id,image:c.photo&&c.photo.sizes?Wn(c.photo.sizes):void 0,date:void 0!==c.date?1e3*c.date:void 0,available:!c.is_expired&&0!==c.can_see};break;case"geo":if(!h.geo||!h.geo.coordinates){l(h);break}s.geo={kind:"Geo",coordinates:h.geo.coordinates,place:h.geo.place};break;case"group_call_in_progress":if(!h.group_call_in_progress){l(h);break}s.activeCall=qn(h.group_call_in_progress);break;case"mini_app":if(!h.mini_app){l(h);break}const f=Vn(h.mini_app);if(!f){l(h);break}s.miniApps=[...s.miniApps||[],f];break;default:h.type,l(h)}var c,u,d,A,p;return s}function Dn(e,n){var t;const r=[];for(const n of e)switch(n.type){case"photo":case"audio":case"video":case"doc":case"link":case"mini_app":case"sticker":case"market":case"article":case"poll":case"audio_playlist":case"podcast":case"market_album":r.push({type:n.type,[n.type]:n[n.type]});break;case"geo":{if(!n.geo)break;const e=null===(t=n.geo.coordinates)||void 0===t?void 0:t.split(" ").map((e=>parseFloat(e)));r.push({type:"geo",geo:Object.assign(Object.assign({},n.geo),{coordinates:e&&e[0]&&e[1]?{latitude:e[0],longitude:e[1]}:void 0})});break}case"textpost":case"posted_photo":case"graffiti":case"note":case"app":case"page":case"album":case"event":case"donut_link":case"textlive":case"situational_theme":case"group":case"artist":case"curator":case"photos_list":case"textpost_publish":case"pretty_cards":break;default:n.type}return kn(r,!1,n)}function Sn(e){const n=[];for(const t of e)switch(t.type){case"photo":case"audio":case"video":case"doc":case"link":case"sticker":case"market":n.push({type:t.type,[t.type]:t[t.type]});break;case"market_market_album":n.push({type:"market_album",[t.type]:t[t.type]});break;case"note":case"page":break;default:t.type}return kn(n,!1)}function In(e){if(!e.title||!e.caption)return;let n=e.url;const t=/^https:\/\/m\.vk\.com(.+)/;if(t.test(e.url)){const r=e.url.match(t);n=r&&r[1]?r[1]:n}return{kind:"Link",url:n,title:e.title,meta:e.caption,image:e.photo?Wn(e.photo.sizes||[]):void 0}}function Fn(e){if(e.thumb_photo)return{kind:"Market",id:e.id,ownerId:e.owner_id,title:e.title,price:e.price.text,priceOld:e.price.old_amount_text,photo:e.thumb_photo}}function Mn(e){if(e.url)return{kind:"Doc",id:e.id,ownerId:e.owner_id,title:e.title,size:e.size,ext:e.ext,date:e.date,url:e.url}}function Tn(e,n){if(e.sizes)return{kind:"Photo",accessKey:e.access_key,albumId:e.album_id,id:e.id,ownerId:e.owner_id,hasTags:e.has_tags,sizes:Wn(e.sizes),messageAccessKey:n}}function Pn(e,n){if(!e.id||!e.owner_id||!e.image||0===e.image.length)return;const t=Hn(e.image);return t?{kind:"Video",accessKey:e.access_key,id:e.id,ownerId:e.owner_id,duration:e.duration,width:e.width,height:e.height,image:t,messageAccessKey:n}:void 0}!function(e){let n,t;!function(e){e[e.Mention=1]="Mention",e[e.Casper=2]="Casper"}(n=e.MarkedType||(e.MarkedType={})),function(e){e[e.CopyFlagChanged=0]="CopyFlagChanged",e[e.TitleChanged=1]="TitleChanged",e[e.AvatarChanged=2]="AvatarChanged",e[e.AdminGrated=3]="AdminGrated",e[e.FlagsChanged=4]="FlagsChanged",e[e.Pinned=5]="Pinned",e[e.UserJoined=6]="UserJoined",e[e.UserLeft=7]="UserLeft",e[e.UserKicked=8]="UserKicked",e[e.AdminKicked=9]="AdminKicked",e[e.BannerChanged=10]="BannerChanged",e[e.KeyboardChanged=11]="KeyboardChanged",e[e.MessageRequestChanged=12]="MessageRequestChanged",e[e.ContactConverted=13]="ContactConverted",e[e.BusinessNotifyDataChanged=14]="BusinessNotifyDataChanged",e[e.MessageRequestCanceled=15]="MessageRequestCanceled",e[e.MessageRequestRejected=16]="MessageRequestRejected",e[e.MessageRequestAccepted=17]="MessageRequestAccepted",e[e.ContactJoined=18]="ContactJoined",e[e.CallInProgressChanged=19]="CallInProgressChanged",e[e.DonSubscribed=20]="DonSubscribed",e[e.DonUnsubscribed=21]="DonUnsubscribed",e[e.IsNewChange=22]="IsNewChange",e[e.StyleChanged=23]="StyleChanged"}(t=e.ChatUpdateType||(e.ChatUpdateType={})),e.isIncompleteUpdate=function(e){switch(e[0]){case 4:return 4===e.length;case 5:case 18:return 3===e.length;default:return!1}}}(gn||(gn={}));const On={thumb:[48,96,256,512],photo:[34,68,135,270,300,600,1200],unknown:[]};function zn(e,n){if(!e)return;const[t,...r]=On[n].reduce(((t,r)=>{const o=e[`${n}_${r}`];return o?(t.push({url:o,width:r,height:r}),t):t}),[]);return t?[t,...r]:void 0}function Nn(e){const n=zn(e,"thumb");if(n)return{kind:"Gift",id:e.id,isStickerStyle:!!e.is_stickers_style,image:n}}function jn(e){return{kind:"Audio",id:e.id,ownerId:e.owner_id,artist:e.artist,title:e.title,subtitle:e.subtitle,url:e.url,duration:e.duration,albumId:e.album_id,ads:e.ads,mainArtists:e.main_artists,featuredArtists:e.featured_artists,album:e.album,trackCode:e.track_code,contentRestricted:e.content_restricted,albumPartNumber:e.album_part_number,accessKey:e.access_key,chartInfo:e.audio_chart_info}}function Ln(e,n){return{kind:"Voice",duration:e.duration,id:e.id,linkMp3:e.link_mp3,linkOgg:e.link_ogg,ownerId:e.owner_id,waveform:e.waveform,isListened:n,isTranscriptPossible:e.duration/60/60<1,transcription:Rn(e)}}function Rn(e){var n;switch(e.transcript_state){case"done":return{state:"done",text:null===(n=e.transcript)||void 0===n?void 0:n.trim(),updatedAt:e.transcript_update_time?1e3*e.transcript_update_time:void 0};case"error":case"in_progress":return{state:e.transcript_state};case void 0:return;default:ye(e.transcript_state)}}const Un={0:"playlist",1:"album",2:"playlist",3:"playlist",4:"playlist",5:"playlist"};function Wn(e){return e.sort(((e,n)=>e.width-n.width)).reduce(((e,n)=>{var{type:t,src:r}=n,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(n,["type","src"]);return"s"!==t&&"m"!==t&&"x"!==t&&"o"!==t&&"p"!==t&&"q"!==t&&"r"!==t&&"y"!==t&&"z"!==t&&"w"!==t||e.set(t,o),e}),new Map)}function Hn(e){const n=e.sort(((e,n)=>e.width-n.width)).map((e=>({width:e.width,height:e.height,url:e.url}))),[t,...r]=n;if(t)return[t,...r]}function qn(e){var n;return{kind:"ActiveCall",initiatorId:e.initiator_id,joinLink:e.join_link,participants:{list:null===(n=e.participants.list)||void 0===n?void 0:n.map(Ie),count:e.participants.count||0,coverList:Zn(e)}}}function Zn(e){const n=e.participants.list;return n?n.reduce(((e,n)=>{const t=Fe(n);return(Me(t)||Pe(t))&&e.push(t),e}),[]).slice(0,3):[]}function Vn(e){if(!e.app||!e.app.share_url)return;const n=xe(e.images.map((({url:e,height:n,width:t})=>({width:t,height:n,url:e}))));if(!n)return;n.sort(((e,n)=>e.width-n.width));const t=e.app.share_url.replace("https://vk.com","");return{kind:"MiniApp",title:e.title,appLink:t,images:n}}function Yn(e,n){const t=Gn(e.buttons,e.inline),r=Ie(e.author_id||n);return e.inline?{kind:"InlineKeyboard",authorId:r,buttons:t}:{kind:"InputKeyboard",authorId:r,buttons:t,oneTime:e.one_time}}function Gn(e,n){return e.map((e=>$n(e,n)))}function $n(e,n){return e.map((e=>function(e,n){const t=function(e,n){return"positive"===e?"commerce":"negative"===e?"destructive":"primary"===e?e:n?"overlay_primary":"secondary"}(e.color,n);switch(e.action.type){case"text":case"callback":return{type:e.action.type,label:Ze(e.action.label||""),payload:e.action.payload||"",color:t};case"open_link":return{type:e.action.type,link:e.action.link,label:Ze(e.action.label||""),payload:e.action.payload||"",color:t};case"location":return{type:e.action.type,payload:e.action.payload||"",color:t};case"vkpay":return{type:e.action.type,payload:e.action.payload||"",hash:e.action.hash||""};case"open_app":return{type:e.action.type,payload:e.action.payload||"",label:Ze(e.action.label||""),hash:e.action.hash||"",appId:e.action.app_id||0,ownerId:e.action.owner_id||0,color:t};case"open_photo":return;default:return void e.action}}(e,n))).filter(Xn)}function Xn(e){return void 0!==e}function Kn(e,n){var t;return{kind:"carousel",elements:(null===(t=e.elements)||void 0===t?void 0:t.map((e=>function(e,n){var{buttons:t,photo:r,action:o}=e,i=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["buttons","photo","action"]);const a=r?Tn(r,n):null,s=Object.assign(Object.assign({buttons:t?$n(t,!0):[]},a&&{photo:a}),i),l=Object.assign(Object.assign({},s),{kind:"simple"});if(!o)return l;switch(o.type){case"open_photo":return r&&a?Object.assign(Object.assign({},s),{kind:"photo",photo:a}):l;case"open_link":return Object.assign(Object.assign({},s),{kind:"link",link:o.link});default:return l}}(e,n))))||[]}}function Qn(e){if(e.action)return{message:{kind:"Service",id:vn(e.id),action:tt(e.action),peerId:Ie(e.peer_id),cmid:En(e.conversation_message_id),authorId:Ie(e.from_id),sentAt:1e3*e.date,isOut:1===e.out},mentions:{hasDirect:!1,hasMass:!1}};const n=Ie(e.peer_id);if(e.is_expired)return{message:{kind:"Expired",id:vn(e.id),cmid:En(e.conversation_message_id),peerId:Ie(e.peer_id),authorId:Ie(e.from_id),isOut:1===e.out,sentAt:1e3*e.date},mentions:{hasDirect:!1,hasMass:!1}};const t=e.keyboard&&Yn(e.keyboard);if("InputKeyboard"===(null==t?void 0:t.kind))throw new Error("Кажется из апи пришла не инлайн клавиатура для сообщения");const r=En(e.conversation_message_id);return{message:{kind:"Normal",id:vn(e.id),randomId:_n(e.random_id),cmid:r,peerId:n,authorId:Ie(e.from_id),chunks:Ve(e.text),isOut:1===e.out,isImportant:!!e.important,isMarkedDeleted:!1,sentAt:1e3*e.date,updatedAt:e.update_time&&1e3*e.update_time,attaches:kn(rt(e),!!e.was_listened,`mail${e.id}`),keyboard:t,forwardedMessages:nt(e.fwd_messages,n,r),replyMessage:e.reply_message?et(e.reply_message,n,r):void 0,expireTTL:e.expire_ttl?1e3*e.expire_ttl:void 0,template:e.template?Kn(e.template,`mail${e.id}`):void 0},mentions:{hasDirect:!1,hasMass:!1}}}function Jn(e,n,t){let r,o,i,a,s,l,c,u,d,A;switch(e[0]){case 4:[,r,o,,i,a,s,l,c,u,A]=e;break;case 5:case 18:[,r,o,i,a,s,l,c,u,A,d]=e;break;default:ye()}const p=Ie(i),{isOut:h,isImportant:m,noPush:f,isVoiceListened:g}=Bn(o);let C;if(C=void 0!==l.from?Ie(Number(l.from)):h?n:p,l.source_act)return{message:{kind:"Service",id:vn(r),cmid:En(A),peerId:p,authorId:C,action:tt({type:l.source_act,member_id:l.source_mid?Number(l.source_mid):void 0,text:l.source_text,style:l.source_style}),sentAt:1e3*a,isOut:h},mentions:{hasDirect:!1,hasMass:!1},noPush:f};if("1"===l.is_expired)return{message:{kind:"Expired",id:vn(r),cmid:En(A),isOut:h,peerId:p,authorId:C,sentAt:1e3*a},mentions:{hasDirect:!1,hasMass:!1},noPush:!0};const v={hasDirect:!1,hasMass:!1};for(const e of l.marked_users||[])if(e[0]===gn.MarkedType.Mention)switch(e[1]){case"all":v.hasMass=v.hasMass||C!==n;break;case"online":v.hasMass=v.hasMass||e[2].includes(n);break;default:v.hasDirect=e[1].includes(n)}let E,_={};if("sticker"!==c.attach1_type&&"audiomsg"!==c.attach1_kind||!c.attachments)void 0!==c.attach1_type&&(_={unknown:[{data:c}]});else{const e=JSON.parse(c.attachments);Array.isArray(e)&&(_=kn(e,g,`mail${r}`))}if(void 0!==c.reply){const e=En(JSON.parse(c.reply).conversation_message_id),n=t(e);n&&(E=function(e,n,t){const{kind:r,cmid:o,randomId:i,isOut:a,isImportant:s,isMarkedDeleted:l,replyMessage:c}=e,u=Cn(e,["kind","cmid","randomId","isOut","isImportant","isMarkedDeleted","replyMessage"]);return Object.assign(Object.assign({kind:"Foreign"},u),{rootPeerId:n,rootCmid:t})}(n,p,e))}const b=l.keyboard?function(e,n){var t;return e.inline?e.buttons?{kind:"InlineKeyboard",buttons:Gn(e.buttons,e.inline),authorId:Ie(e.author_id||n)}:void 0:e.buttons&&(null===(t=e.buttons)||void 0===t?void 0:t.length)?{kind:"InputKeyboardUpsertEvent",keyboard:{kind:"InputKeyboard",buttons:Gn(e.buttons,e.inline),authorId:Ie(e.author_id||n),oneTime:e.one_time}}:{kind:"InputKeyboardDeleteEvent"}}(l.keyboard,C):void 0;let y,B;return"InlineKeyboard"===(null==b?void 0:b.kind)?y=b:B=b,{message:{kind:"Normal",id:vn(r),cmid:En(A),randomId:_n(u),peerId:p,authorId:C,chunks:Ve(s),isOut:h,isImportant:m,isMarkedDeleted:!1,sentAt:1e3*a,updatedAt:d?1e3*d:void 0,expireTTL:l.expire_ttl?1e3*Number(l.expire_ttl):void 0,attaches:_,replyMessage:E,keyboard:y},mentions:v,noPush:f,keyboardEvent:B}}function et(e,n,t){let r,o;return e.peer_id&&(r=Ie(e.peer_id)),e.id&&(o=vn(e.id)),{kind:"Foreign",id:o,peerId:r,rootPeerId:n,rootCmid:t,authorId:Ie(e.from_id),chunks:Ve(e.text),sentAt:1e3*e.date,updatedAt:e.update_time&&1e3*e.update_time,attaches:kn(rt(e),!!e.was_listened,e.id?`mail${e.id}`:void 0),forwardedMessages:nt(e.fwd_messages,n,t),replyMessage:e.reply_message?et(e.reply_message,n,t):void 0}}function nt(e,n,t){if(!e||0===e.length)return;let r;for(const o of e)r?r.push(et(o,n,t)):r=[et(o,n,t)];return r}function tt(e){const n={type:"unknown"};switch(e.type){case"chat_create":case"chat_title_update":return e.text?{type:e.type,title:e.text}:n;case"chat_photo_update":case"chat_photo_remove":case"chat_pin_message":case"chat_unpin_message":case"chat_screenshot":case"chat_group_call_started":case"chat_invite_user_by_link":case"chat_invite_user_by_call_join_link":case"chat_kick_don":case"accepted_message_request":return{type:e.type};case"chat_invite_user":case"chat_kick_user":{if(!e.member_id)return n;const t=Ie(e.member_id);return Me(t)||Pe(t)?{type:e.type,peerId:t}:n}case"chat_invite_user_by_message_request":case"chat_invite_user_by_call":case"chat_kick_user_call_block":{if(!e.member_id)return n;const t=Ie(e.member_id);return Me(t)?{type:e.type,peerId:t}:n}case"conversation_style_update":case"conversation_style_update_action":return{type:e.type,style:e.style};case"custom":return n;default:return e.type,n}}function rt({attachments:e=[],geo:n}){return n?[...e,{type:"geo",geo:n}]:e}function ot(e){const n=Ie(e.peer_id),t=En(e.conversation_message_id),r=Ie(e.from_id);return{kind:"Pinned",id:vn(e.id),cmid:t,peerId:n,authorId:r,chunks:Ve(e.text),sentAt:1e3*e.date,forwardedMessages:e.fwd_messages?nt(e.fwd_messages,n,t):void 0,replyMessage:e.reply_message?et(e.reply_message,n,t):void 0,attaches:kn(e.attachments||[],!1)}}const it={18:"peer_deleted",900:"peer_blacklisted",901:"peer_blacklisted",902:"disabled_by_peer",915:"disabled_by_peer",916:"disabled_by_peer",917:"no_access",918:"no_access",203:"no_access"};function at(e,n){var t,r,o,i,a,s,l;if(null===(t=e.chat_settings)||void 0===t?void 0:t.is_disappearing)return null;const c=n&&Qn(n).message,u=e.current_keyboard&&Yn(e.current_keyboard);if("InlineKeyboard"===(null==u?void 0:u.kind))throw new Error("Не может прийти инлайн клавиатура для сообщения");const d={majorSortId:(null===(r=e.sort_id)||void 0===r?void 0:r.major_id)||0,minorSortId:(null===(o=e.sort_id)||void 0===o?void 0:o.minor_id)||0,unreadCount:e.unread_count||0,isMarkedUnread:!!e.is_marked_unread,isArchived:!!e.is_archived,inReadBy:En(e.in_read_cmid),outReadBy:En(e.out_read_cmid),isNew:!!e.is_new,canWrite:(A=e.can_write,(null==A?void 0:A.allowed)?{allowed:!0}:{allowed:!1,reason:(null==A?void 0:A.reason)&&it[A.reason]||"unknown"}),currentKeyboard:u,push:st(e.push_settings),persistedId:vn(null==c?void 0:c.id),persisted:c?new Map([[c.id,Object.assign(Object.assign({},c),{olderId:vn(),newerId:vn()})]]):new Map,queuedId:_n(),queued:new Map,unreadExpireables:new Set((e.expire_cmids||[]).map(En)),hasMore:e.last_message_id>0,messageEvents:new Map};var A;const p=Ie(e.peer.id);switch(e.peer.type){case"user":return Me(p)?{convo:Object.assign(Object.assign({},d),{kind:"UserConvo",peerId:p})}:null;case"chat":if(!Te(p))return null;if(!e.chat_settings)throw new Error("TODO chat convo has to has chat settings");return{convo:Object.assign(Object.assign({},d),{kind:"ChatConvo",peerId:p,unreadMentions:new Set((e.mention_cmids||[]).map(En)),membersCount:(null===(i=e.chat_settings)||void 0===i?void 0:i.members_count)||0,isCasper:!!e.chat_settings.is_disappearing,activeCall:lt(e.call_in_progress),pinnedMessage:e.chat_settings.pinned_message?ot(e.chat_settings.pinned_message):void 0}),peer:{kind:"Chat",id:p,title:(null===(a=e.chat_settings)||void 0===a?void 0:a.title)||"",photo50:null===(s=e.chat_settings.photo)||void 0===s?void 0:s.photo_50,photo100:null===(l=e.chat_settings.photo)||void 0===l?void 0:l.photo_100,canCall:e.chat_settings.acl.can_call}};case"group":return Pe(p)?{convo:Object.assign(Object.assign({},d),{peerId:p,kind:"GroupConvo"})}:null;case"email":case"contact":return null;default:return e.peer.type,null}}function st(e){let n={mode:"everything",disabledUntil:0};return e?(e.disabled_forever?n={mode:"every-mention",disabledUntil:1/0}:e.disabled_until&&(n={mode:"every-mention",disabledUntil:1e3*e.disabled_until}),"everything"!==n.mode&&(e.disabled_mass_mentions&&(n=Object.assign(Object.assign({},n),{mode:"direct-mention"})),e.disabled_mentions&&(n=Object.assign(Object.assign({},n),{mode:"nothing"}))),n):n}function lt(e){if(e)return{participants:{list:(e.participants.list||[]).reduce(((e,n)=>{const t=Fe(n);return(Me(t)||Pe(t))&&e.push(t),e}),[]),count:e.participants.count||0},joinLink:e.join_link,canFinishCall:Boolean(e.can_finish_call),hasLink:Boolean(e.has_link)}}const ct=[6482950,6481715,6146827],ut={1:"mobile",2:"mobile",3:"mobile",4:"mobile",5:"mobile",6:"other",7:"other"};function dt(e){var n,t,r,o,i,a;const s={0:"unfamiliar",1:"outgoingRequest",2:"incomingRequest",3:"friends"};let l="other";(null===(n=e.online_info)||void 0===n?void 0:n.is_mobile)&&(l="mobile"),ct.includes((null===(t=e.online_info)||void 0===t?void 0:t.app_id)||0)&&(l="vkme");const c=Ie(e.id);if(!Me(c))throw Error("fromApiUser получил странный объект");const u=Boolean(e.blacklisted);return{user:{kind:"User",id:c,firstName:e.first_name,firstNameGen:e.first_name_gen||e.first_name,firstNameAcc:e.first_name_acc||e.first_name,lastName:e.last_name,lastNameGen:e.last_name_gen||e.last_name,lastNameAcc:e.last_name_acc||e.last_name,screenName:e.screen_name,sex:void 0!==e.sex?{0:"unknown",1:"female",2:"male"}[e.sex]:"unknown",photo50:e.photo_50,photo100:e.photo_100,photo200:e.photo_200,lastSeen:{isVisible:!!(null===(r=e.online_info)||void 0===r?void 0:r.visible),at:(null===(o=e.online_info)||void 0===o?void 0:o.last_seen)&&1e3*e.online_info.last_seen,platform:l},isVerified:Boolean(e.verified),isBlacklisted:u,isBlacklistedByMe:Boolean(e.blacklisted_by_me),isDeactivated:Boolean(e.deactivated),canCall:Boolean(e.can_call),canChangeFriendship:1===e.can_send_friend_request,canMessage:1===e.can_write_private_message,followersCount:e.followers_count||0,friendship:void 0!==e.friend_status?s[e.friend_status]:s[0],mutualFriends:u?{hint:[],count:0}:void 0,contactName:e.contact_name,occupation:e.occupation,bdate:e.bdate,city:e.city},isOnline:!!(null===(i=e.online_info)||void 0===i?void 0:i.visible)&&!!(null===(a=e.online_info)||void 0===a?void 0:a.is_online)}}function At(e){var n;const t=Ie(-e.id);if(!Pe(t))throw new Error("fromApiGroup получил странный объект");if(!e.type)throw new Error(`fromApiGroup содержит некорректный тип ${e.type}`);const r={0:"notMember",1:"member",2:"unsure",3:"declined",4:"outgoingRequest",5:"incomingRequest"}[e.member_status||0];return{kind:"Group",id:t,type:e.type,name:e.name,screenName:e.screen_name,photo50:e.photo_50,photo100:e.photo_100,activity:e.activity,memberCount:e.members_count||0,membership:r,isDeactivated:Boolean(e.deactivated),isVerified:1===e.verified,isClosed:Boolean(e.is_closed),canMessage:1===e.can_message,canChangeMembership:0!==(null===(n=e.ban_info)||void 0===n?void 0:n.end_date)&&(0===e.is_closed||"member"===r||"incomingRequest"===r),mutualFriends:2===e.is_closed&&"member"!==r?{hint:[],count:0}:void 0}}function pt(e,n){let t=ut[e]||"other";return ct.includes(n)&&(t="vkme"),t}const ht=["text","voice","photo","video","file"];function mt(e,n,{dangerouslyMerge:t}={}){var r;const o=[];for(const s of n){const n="conversation"in s?at(s.conversation,s.last_message):at(s);if(!n)continue;const{convo:l,peer:c}=n,u=e.convos.get(l.peerId);if(u&&!t){o.push(u);continue}const d=(i=l,(a=u)?(0===a.persisted.size&&(a.persisted=i.persisted,a.persistedId=i.persistedId),a):i);e.convos.set(l.peerId,d),c&&e.peers.set(c.id,c),o.push(l),"ChatConvo"===d.kind&&e.hiddenPinnedMessages.get(d.peerId)!==(null===(r=d.pinnedMessage)||void 0===r?void 0:r.cmid)&&e.hiddenPinnedMessages.delete(d.peerId)}var i,a;return o}function ft(e,{apiUsers:n,apiGroups:t},{dangerouslyOverwrite:r}={}){const o=[];for(const t of n){const{user:n,isOnline:i}=dt(t),a=e.peers.get(n.id);!a||"User"!==a.kind||r?(e.peers.set(n.id,n),r&&e.onlines.delete(n.id),i&&e.onlines.add(n.id),o.push(n)):o.push(a)}const i=[];for(const n of t){const t=At(n),o=e.peers.get(t.id);!o||"Group"!==o.kind||r?(e.peers.set(t.id,t),i.push(t)):i.push(o)}return{insertedUsers:o,insertedGroups:i}}function gt(e){return void 0!==e.afterGapId}function Ct(e){return"everything"!==e.push.mode}function vt(e){const n=e.hasMore?e.unreadCount+1:e.unreadCount;return!(!gt(e)&&e.persisted.size<n)}function Et(e){return[4,5,6].some((n=>(e.majorSortId&1<<n)>0))}function _t(e){return e.unreadCount>0||e.isMarkedUnread}function bt(e){const n=xt(e);return!!n&&n.isOut&&St(e,n)}function yt(e){return e.unreadExpireables.size>0}function Bt(e){switch(e.kind){case"UserConvo":case"GroupConvo":return!1;case"ChatConvo":return e.unreadMentions.size>0;default:return ye()}}function wt(e){return!e.hasMore&&0===e.persisted.size&&0===e.queued.size}function xt(e){const n=e.queued.get(e.queuedId);return n||e.persisted.get(e.persistedId)||void 0}function kt(e,n){for(let{message:t}of Dt(e))if("cmid"in t&&t.cmid===n)return t}function Dt(e){return{[Symbol.iterator]:()=>{let n=void 0!==e.afterGapId?e.persisted.get(e.afterGapId):xt(e);return{next(){const t=n;return t?"Queued"!==t.kind?(n=e.persisted.get(t.olderId),{value:{message:t,older:n}}):(n=e.queued.get(t.olderId)||e.persisted.get(e.persistedId),{value:{message:t,older:n}}):{done:!0,value:null}}}}}}function St(e,n){if(n.peerId!==e.peerId)throw new Error("Передано сообщение не принадлежащее беседе");return"Queued"===n.kind||(n.isOut?n.cmid>e.outReadBy:n.cmid>e.inReadBy)}function It(e,n){if(e.majorSortId!==n.majorSortId)return n.majorSortId-e.majorSortId;const t=null==e?void 0:e.queued.get(e.queuedId),r=null==n?void 0:n.queued.get(n.queuedId);return t&&!r?-1:r&&!t?1:t&&r?r.sentAt-t.sentAt:n.minorSortId-e.minorSortId}function Ft(e){return e.majorSortId<=0&&e.minorSortId<=0}function Mt(e,n,t,r,o){if(n.peerId!==e.peerId)throw new Error("Передано сообщение не принадлежащее беседе");if(e.persistedId>=n.id)return;if(!n.isOut&&St(e,n)&&e.unreadCount++,Nt(n.isOut,e),o){switch(o.kind){case"InputKeyboardUpsertEvent":e.currentKeyboard=o.keyboard;break;case"InputKeyboardDeleteEvent":delete e.currentKeyboard;break;default:return ye()}e.currentKeyboard="InputKeyboardUpsertEvent"===o.kind?o.keyboard:void 0}if(e.minorSortId=t,"ChatConvo"===e.kind&&r&&e.unreadMentions.add(n.cmid),"Normal"===n.kind&&n.expireTTL&&e.unreadExpireables.add(n.cmid),"Normal"===n.kind&&n.randomId){const t=e.queued.get(n.randomId);if(t){e.queued.delete(t.randomId);const n=e.queued.get(t.olderId),r=e.queued.get(t.newerId);r&&(r.olderId=t.olderId),n&&(n.newerId=t.newerId),e.queuedId===t.randomId&&(e.queuedId=t.olderId)}0===e.queued.size&&(e.queuedId=_n())}const i=e.persisted.get(e.persistedId);i&&(i.newerId=n.id),e.persisted.set(n.id,Object.assign(Object.assign({},n),{newerId:vn(),olderId:e.persistedId})),e.persistedId=n.id}function Tt(e,n,t){void 0!==t&&(e.hasMore=t);const r=n[0];if(!r)return;n=n.filter((n=>!(null==e?void 0:e.persisted.has(n.id))));const[o,...i]=n;if(!o)return;const a=new Map;let s=Object.assign(Object.assign({},o),{olderId:vn(),newerId:vn()});const l=s;for(const e of i)s.olderId=e.id,a.set(s.id,s),s=Object.assign(Object.assign({},e),{olderId:vn(),newerId:s.id});if(a.set(s.id,s),!l||!s)return;let c;for(let n=l.id;n<=e.persistedId&&(c=e.persisted.get(n),!c);n++);if(!c)return e.persistedId=l.id,void(e.persisted=a);const u=e.persisted.get(c.olderId),d=c.cmid>r.cmid+1;switch(!0){case!e.afterGapId&&d:e.afterGapId=l.id;break;case e.afterGapId&&r.id>e.afterGapId:e.afterGapId=d?l.id:void 0;break;case e.afterGapId&&!u&&d:return}c.olderId=l.id,l.newerId=c.id,u&&(s.olderId=u.id,u.newerId=s.id);for(const n of a.values())e.persisted.set(n.id,n)}function Pt(e){if(e.unreadCount>0||gt(e))return;if(e.persisted.size<160)return;let n=0,t=e.persisted.get(e.persistedId);for(;t;){const r=e.persisted.get(t.olderId);n>=80&&(t.olderId=vn(),e.persisted.delete(t.id)),n++,t=r}e.hasMore=!0}function Ot(e,n,t){if(!(e.inReadBy>=n)){if("number"!=typeof t){const r=[...e.persisted.values()].filter((t=>!t.isOut&&St(e,t)&&t.cmid<=n)).length;t=Math.max(0,e.unreadCount-r)}switch(e.inReadBy=n,e.unreadCount=t,0===t&&(e.isMarkedUnread=!1),e.kind){case"UserConvo":case"GroupConvo":break;case"ChatConvo":for(const t of e.unreadMentions)t<=n&&e.unreadMentions.delete(t);break;default:ye()}for(const t of e.unreadExpireables)t<=n&&e.unreadExpireables.delete(t)}}function zt(e,n){e.outReadBy>=n||(e.outReadBy=n)}function Nt(e,n){var t;e&&(null===(t=n.currentKeyboard)||void 0===t?void 0:t.oneTime)&&delete n.currentKeyboard}function jt(e,n){"majorSortId"in n?e.majorSortId=n.majorSortId:e.minorSortId=n.minorSortId}function Lt(e,n){e.pinnedMessage=n}function Rt(e){const n=e.pinnedMessage;return delete e.pinnedMessage,n}function Ut(e,n){return e.get(n)||e.get(Ie())}function Wt(e){const n={DONT_USE_isMuted:4,isMarkedUnread:20,isArchived:23};if("number"==typeof e){const t={};for(const r of Object.keys(n))t[r]=(e&1<<n[r])>0;return t}let t=0;for(const r of Object.keys(e))e[r]&&(t|=1<<n[r]);return t}function Ht(){function e(){return{peerIds:new Set,hasMore:!0,unreadCount:0,boundary:{majorSortId:0,minorSortId:1}}}return{all:e(),unread:e(),messageRequest:e(),businessNotify:e(),archive:e()}}const qt={all:"all",unread:"unread",messageRequest:"message_request",businessNotify:"business_notify",archive:"archive"};function Zt(e){return qt[e]}function Vt(e,n,t,r){for(const r of t)$t(e,n,r),Yt(e,r);e[n].hasMore=e[n].peerIds.size<r}function Yt(e,n){switch(n.kind){case"ChatConvo":case"GroupConvo":case"UserConvo":return e.all.peerIds.delete(n.peerId),e.unread.peerIds.delete(n.peerId),e.archive.peerIds.delete(n.peerId),n.isArchived?void(Xt(e.archive,n)&&e.archive.peerIds.add(n.peerId)):(Xt(e.all,n)&&e.all.peerIds.add(n.peerId),void(_t(n)&&Xt(e.unread,n)&&e.unread.peerIds.add(n.peerId)));default:return ye()}}function Gt(e,{unread:n,businessNotify:t,messageRequest:r}){void 0!==n&&(e.all.unreadCount=n,e.unread.unreadCount=n),void 0!==t&&(e.businessNotify.unreadCount=t),void 0!==r&&(e.messageRequest.unreadCount=r)}function $t(e,n,t){Ft(t)||(t.majorSortId<e[n].boundary.majorSortId?e[n].boundary={majorSortId:t.majorSortId,minorSortId:t.minorSortId}:t.majorSortId===e[n].boundary.majorSortId&&t.minorSortId<e[n].boundary.minorSortId&&(e[n].boundary.minorSortId=t.minorSortId),"all"===n&&$t(e,"unread",t))}function Xt(e,n){return!Ft(n)&&(n.majorSortId>e.boundary.majorSortId||n.majorSortId===e.boundary.majorSortId&&n.minorSortId>=e.boundary.minorSortId)}const Kt={u1072:"a",u1073:"b",u1074:"v",u1075:"g",u1076:"d",u1077:"e",u1105:"yo",u1078:"zh",u1079:"z",u1080:"i",u1081:"y",u1082:"k",u1083:"l",u1084:"m",u1085:"n",u1086:"o",u1087:"p",u1088:"r",u1089:"s",u1090:"t",u1091:"u",u1092:"f",u1093:"kh",u1094:"ts",u1095:"ch",u1096:"sh",u1097:"shch",u1098:"'",u1099:"y",u1100:"'",u1101:"e",u1102:"yu",u1103:"ya"},Qt=Object.assign(Object.assign({},Kt),{u1093:"h",u1097:"sh",u1098:"",u1100:"",u1105:"e"}),Jt={u102:"а",u44:"б",u100:"в",u117:"г",u108:"д",u116:"е",u92:"ё",u59:"ж",u112:"з",u98:"и",u113:"й",u114:"к",u107:"л",u118:"м",u121:"н",u106:"о",u103:"п",u104:"р",u99:"с",u110:"т",u101:"у",u97:"ф",u91:"х",u119:"ц",u120:"ч",u105:"ш",u111:"щ",u93:"ъ",u109:"ь",u115:"ы",u39:"э",u46:"ю",u122:"я",u60:"б",u126:"ё",u58:"ж",u123:"х",u125:"ъ",u34:"э",u62:"ю",u64:'"',u35:"№",u36:";",u37:"%",u94:":",u38:"?",u63:",",u47:"."};function er(e){let n=[];const t=nr(e=e.toLowerCase().trim(),Kt),r=nr(e,Qt);return t!==e&&n.push(t),r!==e&&r!==t&&n.push(r),n}function nr(e,n){let t="";for(let r of e){const e=n["u"+r.codePointAt(0)];t+=void 0!==e?e:r}return t}const tr=Symbol("items");function rr(){return{[tr]:new Set}}function or(e,n,t){if(Array.isArray(n))n.forEach((n=>or(e,n,t)));else{const{id:r,strings:o}=t(n);(function(e){let n=[];for(let t of e){const e=t.replace(/ё/g,"е");e!==t&&n.push(e),er(t).forEach((e=>{e!==t&&n.push(e)})),n.push(t)}return n})(o).forEach((n=>{let t=e;t[tr].add(r),Array.from(n.trim().toLowerCase()).forEach((e=>{let n=t[e];n||(n=t[e]=rr()),n[tr].add(r),t=n}))}))}return e}function ir(e,n){let t=null;for(const r of n){const n=ar(e,r);if(t)for(const e of t)n.has(e)||t.delete(e);else t=new Set([...n])}return t||new Set}function ar(e,n){let t=e;const r=n.trim().toLowerCase();for(const e of r){let n=t[e];if(!n)return new Set;t=n}return t[tr]}function sr(e){let n=[];switch(e.kind){case"Chat":n.push(...lr(e.title));break;case"Group":e.screenName&&n.push(e.screenName),n.push(...lr(e.name));break;case"User":e.screenName&&n.push(e.screenName),n.push(...lr(e.firstName)),n.push(...lr(e.lastName));break;default:ye()}return n}function lr(e){return e.trim().toLowerCase().split(/\s+/g)}function cr(e,n=0,t=0,r=!1){var o,i;const a=["o","p","q","r"];if("Video"===e.kind||"Gift"===e.kind)return e.image.find((({width:e,height:r})=>e>=n&&r>=t))||e.image[e.image.length-1]||null;const s="Photo"===e.kind?e.sizes:e.image;return s?s.get("local")||(r?(null===(o=Array.from(s.entries()).find((([e,{width:r,height:o}])=>a.includes(e)&&r>=n&&o>=t)))||void 0===o?void 0:o[1])||s.get("r")||s.get("q")||s.get("p")||s.get("o")||null:(null===(i=Array.from(s.entries()).find((([e,{width:r,height:o}])=>!a.includes(e)&&r>=n&&o>=t)))||void 0===i?void 0:i[1])||s.get("w")||s.get("z")||s.get("y")||s.get("x")||s.get("m")||s.get("s")||null):null}function ur(e){switch(e.kind){case"Photo":{const n=e.accessKey?`/${e.accessKey}`:"";return`/im?z=photo${e.ownerId}_${e.id}${n}`}case"Video":{const n=e.accessKey?`/${e.accessKey}`:"";return`/im?z=video${e.ownerId}_${e.id}${n}`}case"Audio":return`/audio${e.ownerId}_${e.id}`;case"AudioPlaylist":const n=e.accessKey?`_${e.accessKey}`:"";return`/music/${e.type}/${e.ownerId}_${e.id}${n}`;case"Podcast":return`/im?z=podcast${e.ownerId}_${e.id}`;case"Doc":return`/doc${e.ownerId}_${e.id}`;case"Sticker":return"/stickers";case"Link":case"Article":return e.url;case"Voice":case"MoneyTransfer":case"MoneyRequest":case"Gift":case"Graffiti":case"MarketAlbum":case"Call":case"Geo":case"ActiveCall":return"";case"Market":return`/market${e.ownerId}?w=product${e.ownerId}_${e.id}`;case"Poll":return`/im?w=poll${e.ownerId}_${e.id}`;case"Story":return`/im?w=story${e.ownerId}_${e.id}`;case"Wall":return`/wall${e.ownerId}_${e.id}`;case"WallReply":return`/wall${e.ownerId}_${e.postId}?reply=${e.id}`+(e.parentsStack&&e.parentsStack.length>0?`&thread=${e.parentsStack.join("_")}`:"");case"MiniApp":return`/im?w=${e.appLink}`;default:return ye()}}function dr(e){const n=[];for(const t of e.photos||[])n.push(`photo${t.ownerId}_${t.id}`);for(const t of e.videos||[])n.push(`video${t.ownerId}_${t.id}`);for(const t of e.audios||[])n.push(`audio${t.ownerId}_${t.id}`);for(const t of e.docs||[])n.push(`doc${t.ownerId}_${t.id}`);return n}function Ar(e){return{id:e,kind:"Sticker",image128:{light:`https://vk.com/sticker/${e}/128.png`,dark:`https://vk.com/sticker/${e}/128b.png`},image256:{light:`https://vk.com/sticker/${e}/256.png`,dark:`https://vk.com/sticker/${e}/256b.png`}}}function pr(e,n,t,r,o,i,a){return function({api:s}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){let l=!1,c={};o.sticker&&(c.sticker_id=o.sticker.id,c.sticker_referrer=o.sticker.referrer),o.botPayload&&(c.payload=o.botPayload),a&&(c.lat=a.coordinates.latitude,c.long=a.coordinates.longitude);try{yield s.fetch("messages.send",Object.assign(Object.assign({},c),{peer_id:e,random_id:n,message:t,attachment:0===r.length?void 0:r.join(","),entrypoint:i}))}catch(e){l=!0}return{type:"UserHitSend_RequestCompleted",peerId:e,randomId:n,hasFailed:l,entrypoint:i}}))}}const hr=(e,n)=>{switch(n.type){case"UserHitEdit":{const{messageId:t,text:r,attaches:o,peerId:i}=n;if(!e.convos.get(i))return[];e.locks.edit.add(i);const a=dr(o).join(",");return[function({api:e}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){let n=!1;try{yield e.fetch("messages.edit",{peer_id:i,message_id:t,message:r,attachment:0===a.length?void 0:a})}catch(e){n=!0}return{type:"UserHitEdit_RequestCompleted",messageId:t,peerId:i,hasFailed:n}}))}]}case"UserHitEdit_RequestCompleted":{const{peerId:t,hasFailed:r}=n;return e.locks.edit.delete(t),e.convos.get(t),[]}default:return ye()}};var mr=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))};const fr=(e,n,t)=>{switch(n.type){case"UserSeenMessage":{const{cmid:t,peerId:r}=n,o=e.convos.get(r);if(!o)return[];if(t<=o.inReadBy)return[];Ot(o,t),Yt(e.folders,o);const i=e.readQueues.has(r);return e.readQueues.set(r,o.inReadBy),i?[]:[gr(r)]}case"UserSeenMessage_ThrottleTimedOut":{const{peerId:t}=n,r=e.readQueues.get(t);return r?[function({api:e}){return mr(this,void 0,void 0,(function*(){try{yield e.fetch("messages.markAsRead",{peer_id:t,start_cmid:r,mark_conversation_as_read:1})}catch(e){}return{type:"UserSeenMessage_RequestCompleted",peerId:t,readUntilCmid:r}}))}]:[]}case"UserSeenMessage_RequestCompleted":{const{peerId:t,readUntilCmid:r}=n,o=e.readQueues.get(t);return o?r>=o?(e.readQueues.delete(t),[]):[gr(t)]:[]}default:return ye()}};function gr(e){return function(){return mr(this,void 0,void 0,(function*(){return yield Be(300),{type:"UserSeenMessage_ThrottleTimedOut",peerId:e}}))}}var Cr=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))};const vr=(e,n)=>{switch(n.type){case"UserScrolledConvoHistory":{const{peerId:t,direction:r}=n,o=e.convos.get(t);if(!o)return[];if("end"===r)return Pt(o),[];if(e.locks.getHistory.has(t))return[];if("forward"===r&&!gt(o))return[];if("backward"===r&&!o.hasMore)return[];e.locks.getHistory.add(n.peerId);const i=80;switch(r){case"forward":{const e=o.afterGapId,n=-i;return[function({api:r}){return Cr(this,void 0,void 0,(function*(){try{return{type:"UserScrolledConvoHistory_RequestSucceed",peerId:t,response:yield r.fetch("messages.getHistory",{peer_id:t,start_message_id:e,count:i,offset:n},{retries:5})}}catch(e){return{type:"UserScrolledConvoHistory_RequestFailed",peerId:t}}}))}]}case"backward":{const e=Math.min(...o.persisted.keys()),n=0;return[function({api:r}){return Cr(this,void 0,void 0,(function*(){try{const o=yield r.fetch("messages.getHistory",{peer_id:t,start_message_id:e,count:i,offset:n},{retries:5});return{type:"UserScrolledConvoHistory_RequestSucceed",peerId:t,hasMore:i===o.items.length,response:o}}catch(e){return{type:"UserScrolledConvoHistory_RequestFailed",peerId:t}}}))}]}default:return ye()}}case"UserScrolledConvoHistory_RequestSucceed":{const{peerId:t,response:r,hasMore:o}=n;e.locks.getHistory.delete(t);const i=e.convos.get(t);return i?(Tt(i,r.items.map((e=>Qn(e).message)),o),ft(e,{apiUsers:r.profiles||[],apiGroups:r.groups||[]}),[]):[]}case"UserScrolledConvoHistory_RequestFailed":return e.locks.getHistory.delete(n.peerId),[];default:return ye()}},Er=(e,n)=>{switch(n.type){case"UserHitUnpinMessage":{const{peerId:t}=n,r=e.convos.get(t);if(!r||"ChatConvo"!==r.kind)return[];const o=$(Rt(r));return o?[function({api:e}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){try{const n=yield e.fetch("messages.unpin",{peer_id:t});return{type:"UserHitUnpinMessage_RequestCompleted",message:o,hasFailed:1!==n,peerId:t}}catch(e){return{type:"UserHitUnpinMessage_RequestCompleted",message:o,hasFailed:!0,peerId:t}}}))}]:[]}case"UserHitUnpinMessage_RequestCompleted":{const{peerId:t,hasFailed:r,message:o}=n;if(r){const n=e.convos.get(t);n&&"ChatConvo"===n.kind&&Lt(n,o),e.hiddenPinnedMessages.delete(t)}return[]}case"UserHitUnpinMessageHide":return e.hiddenPinnedMessages.set(n.peerId,n.cmid),[];default:return ye()}};var _r=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))};const br=(e,n)=>{switch(n.type){case"UserOpenedConvo":{const{peerId:t}=n,r=e.convos.get(t);if(e.locks.convosCleanup.add(t),!r)return[];const o=r.isMarkedUnread&&0===r.unreadCount;o&&function(e){e.isMarkedUnread=!1}(r),Yt(e.folders,r);const i="ChatConvo"===r.kind&&void 0===r.members&&function(e){return e.canWrite.allowed||!e.canWrite.allowed&&"no_access"!==e.canWrite.reason}(r)&&!e.locks.getConversationMembers.has(t);i&&e.locks.getConversationMembers.add(t);const a=function(e){return{persisted:e.persisted.size,total:e.persisted.size+e.queued.size}}(r).persisted<80&&r.hasMore&&!e.locks.getHistory.has(r.peerId);a&&e.locks.getHistory.add(r.peerId);const s=void 0===e.emptyConvoHelloStickers,l=r.unreadCount>0;return[i&&Te(t)&&function({api:e}){return _r(this,void 0,void 0,(function*(){try{return{type:"UserOpenedConvo_MembersRequestCompleted",peerId:t,response:yield e.fetch("messages.getConversationMembers",{peer_id:t},{retries:1})}}catch(e){}return{type:"Noop"}}))},s&&function({api:e}){return _r(this,void 0,void 0,(function*(){try{return{type:"UserOpenedConvo_StickersRequestCompleted",response:yield e.fetch("store.getStickers",{sticker_ids:[21,12467,53098,18164,134,51117,16263,4275,6329,50456,12296,50459,21560,13312,20952,56896,20465,11607,53320,53647].join()})}}catch(e){}return{type:"Noop"}}))},o&&function({api:e}){return _r(this,void 0,void 0,(function*(){try{yield e.fetch("messages.markAsRead",{peer_id:t,mark_conversation_as_read:1})}catch(e){}return{type:"Noop"}}))},a&&function({api:e}){var n;return _r(this,void 0,void 0,(function*(){const{count:r,offset:o}=l?{count:Math.floor(100),offset:-80}:{count:80,offset:0};try{const i=yield e.fetch("messages.getHistory",{peer_id:t,start_message_id:-1,count:r,offset:o},{retries:5}),a=i.conversations&&(null===(n=i.conversations[0])||void 0===n?void 0:n.unread_count)||0;return{type:"UserOpenedConvo_HistoryRequestSucceed",peerId:t,hasMore:r+o+a===i.items.length,response:i}}catch(e){return{type:"UserOpenedConvo_HistoryRequestFailed",peerId:t}}}))}]}case"UserClosedConvo":{e.locks.convosCleanup.delete(n.peerId);const t=e.convos.get(n.peerId);return t?(Pt(t),[]):[]}case"UserOpenedConvo_HistoryRequestSucceed":{const{peerId:t,response:r,hasMore:o}=n;e.locks.getHistory.delete(t);const i=e.convos.get(t);return i?(Tt(i,r.items.map((e=>Qn(e).message)),o),ft(e,{apiUsers:r.profiles||[],apiGroups:r.groups||[]}),[]):[]}case"UserOpenedConvo_HistoryRequestFailed":return e.locks.getHistory.delete(n.peerId),[];case"UserOpenedConvo_MembersRequestCompleted":{const{peerId:t,response:r}=n;e.locks.getConversationMembers.delete(t);const o=e.convos.get(t);if(!o||"ChatConvo"!==o.kind)return[];const{insertedUsers:i,insertedGroups:a}=ft(e,{apiUsers:r.profiles||[],apiGroups:r.groups||[]});return function(e,n){e.membersCount=n.length,e.members=n}(o,[...i.map((e=>e.id)),...a.map((e=>e.id))]),[]}case"UserOpenedConvo_StickersRequestCompleted":{const{response:t}=n;return e.emptyConvoHelloStickers=t.reduce(((e,n)=>{const t=xn(n);return t&&e.push(t),e}),[]),[]}default:return ye()}};var yr=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))};function Br(e,n,t,r){const{next:o}=t;if("Reconnecting"===o.kind)return n.status="reconnecting",[wr()];if("Failure"===o.kind){n.status="resyncing";const e=n.pts;return[function({api:n,engine:t,queue:r}){var o;return yr(this,void 0,void 0,(function*(){const i=yield n.fetch("messages.getLongPollHistory",{lp_version:t.version,credentials:1,pts:e,msgs_limit:1100,events_limit:1100,last_n:1e3},{retries:1/0});if(e<(i.from_pts||0))return r.disconnect(),{type:"TemporaryHackForResync"};if(!i.credentials||!i.credentials.pts)throw new Error("В ответе getLongPollHistory отсутствуют новые креды!");return yield t.connect(Object.assign(Object.assign({},i.credentials),{pts:i.credentials.pts})),{type:"EngineBatchReceived",variant:{kind:"FromApiEngineHistory",apiMessages:(null===(o=i.messages)||void 0===o?void 0:o.items)||[],apiConvos:i.conversations||[],apiUsers:i.profiles||[],apiGroups:i.groups||[],next:{kind:"Batch",pts:i.credentials.pts,ts:i.credentials.ts,updates:i.history||[]}}}}))}]}if(void 0===r&&function(e,n){for(const t of n.updates){if(gn.isIncompleteUpdate(t))return!0;switch(t[0]){case 4:{const[,,,,n,,,r,o]=t,i=Ie(n),a=e.convos.get(i);if(!a)return!0;const s=kr(a);if(Dr(o,s))return!0;if(r.has_template)return!0;const{message:l}=Jn(t,e.viewerId,s);if(!e.peers.has(l.peerId)||!e.peers.has(l.authorId))return!0;switch(l.kind){case"Normal":case"Expired":break;case"Service":switch(l.action.type){case"chat_invite_user":case"chat_kick_user":case"chat_invite_user_by_call":case"chat_invite_user_by_message_request":case"chat_kick_user_call_block":if(!e.peers.has(l.action.peerId))return!0;break;case"chat_screenshot":case"chat_create":case"chat_title_update":case"chat_photo_update":case"chat_photo_remove":case"chat_pin_message":case"chat_unpin_message":case"chat_group_call_started":case"chat_invite_user_by_link":case"chat_invite_user_by_call_join_link":case"sent_message_requests_count":case"accepted_message_request":case"chat_kick_don":case"conversation_style_update":case"conversation_style_update_action":case"unknown":break;default:ye(l.action)}break;default:ye()}break}case 5:case 18:{const[,,,n,,,,r]=t,o=Ie(n),i=e.convos.get(o);if(!i)break;if(Dr(r,kr(i)))return!0;break}case 13:{const[,n]=t,r=Ie(n);return e.convos.has(r)}case 19:return!0;case 20:case 21:{const[,n]=t,r=Ie(n);if(!e.convos.has(r))return!0;break}case 52:{const[,n,r]=t,o=Ie(r),i=e.convos.get(o);if(!i)break;switch(n){case gn.ChatUpdateType.TitleChanged:case gn.ChatUpdateType.AvatarChanged:case gn.ChatUpdateType.BannerChanged:return!0;case gn.ChatUpdateType.UserJoined:case gn.ChatUpdateType.UserLeft:case gn.ChatUpdateType.UserKicked:break;case gn.ChatUpdateType.Pinned:{const[,,,e]=t;if(0===e)break;return!kt(i,En(e))}case gn.ChatUpdateType.CallInProgressChanged:return!0;case gn.ChatUpdateType.CopyFlagChanged:case gn.ChatUpdateType.AdminGrated:case gn.ChatUpdateType.FlagsChanged:case gn.ChatUpdateType.AdminKicked:case gn.ChatUpdateType.KeyboardChanged:case gn.ChatUpdateType.MessageRequestChanged:case gn.ChatUpdateType.ContactConverted:case gn.ChatUpdateType.BusinessNotifyDataChanged:case gn.ChatUpdateType.MessageRequestCanceled:case gn.ChatUpdateType.MessageRequestRejected:case gn.ChatUpdateType.MessageRequestAccepted:case gn.ChatUpdateType.ContactJoined:case gn.ChatUpdateType.DonSubscribed:case gn.ChatUpdateType.DonUnsubscribed:case gn.ChatUpdateType.IsNewChange:case gn.ChatUpdateType.StyleChanged:}break}}}return!1}(n,o))return[(i=n.pts,a=o,function({api:e,engine:n,logger:t}){var r;return yr(this,void 0,void 0,(function*(){const t=yield e.fetch("messages.getLongPollHistory",{pts:i,lp_version:n.version},{retries:1/0});return{type:"EngineBatchReceived",variant:{kind:"FromEngineWithMissingData",apiConvos:t.conversations||[],apiMessages:(null===(r=t.messages)||void 0===r?void 0:r.items)||[],apiUsers:t.profiles||[],apiGroups:t.groups||[],skippedBatch:a}}}))})];var i,a;n.status="running",n.pts=o.pts;const s=o.updates.flatMap((e=>{switch(e[0]){case 1:case 2:case 3:return function(e,n){const[t,r,o,i]=n,a=Ie(i),s=e.convos.get(a);if(!s)return[];const l={1:"replace",2:"set",3:"unset"}[t];return function(e,n,t,r){const o=e.persisted.get(n);if(!o)return;const{isDeleted:i}=function(e,n,t){var r,o,i;const a={isOut:e.isOut,isSpam:!1,isDeleted:!1,isDeletedForAll:!1,noPush:!1};let s,l;switch(e.kind){case"Normal":s=Bn(Object.assign(Object.assign({},a),{isImportant:e.isImportant,isVoiceListened:!!(null===(o=null===(r=e.attaches)||void 0===r?void 0:r.voice)||void 0===o?void 0:o.isListened)}));break;case"Service":case"Expired":s=Bn(Object.assign(Object.assign({},a),{isImportant:!1,isVoiceListened:!1}));break;default:ye()}switch(n){case"unset":l=Bn(s&~t);break;case"replace":l=Bn(t);break;case"set":l=Bn(s|t);break;default:ye()}const{isImportant:c,isSpam:u,isDeleted:d,isDeletedForAll:A,isVoiceListened:p,isOut:h,noPush:m,DONT_USE_ME_isStealth:f,DONT_USE_ME_isUnread:g,DONT_USE_ME_skipUnread:C}=l;switch(Cn(l,["isImportant","isSpam","isDeleted","isDeletedForAll","isVoiceListened","isOut","noPush","DONT_USE_ME_isStealth","DONT_USE_ME_isUnread","DONT_USE_ME_skipUnread"]),e.kind){case"Normal":e.isImportant=c,e.isOut=h,(null===(i=e.attaches)||void 0===i?void 0:i.voice)&&(e.attaches.voice.isListened=p);break;case"Service":case"Expired":break;default:ye()}return{isDeleted:u||d||A}}(o,t,r);if(i){!o.isOut&&St(e,o)&&(e.unreadCount=Math.max(0,e.unreadCount-1)),"ChatConvo"===e.kind&&e.unreadMentions.delete(o.cmid),e.unreadExpireables.delete(o.cmid);const n=e.persisted.get(o.newerId),t=e.persisted.get(o.olderId);t&&(t.newerId=o.newerId,e.persistedId===o.id&&(e.persistedId=t.id)),n&&(n.olderId=o.olderId),e.persisted.delete(o.id)}}(s,vn(r),l,o),[]}(n,e);case 4:case 5:case 18:case 19:return function(e,n,t){const[,r]=n,o=null==t?void 0:t.messages.get(r);let i,a,s;if(o){const e=Qn(o);i=e.message,a=e.mentions}else{if(gn.isIncompleteUpdate(n)||19===n[0])return[];const t=Ie(4===n[0]?n[4]:n[3]),r=e.convos.get(t);if(!r)return[];const o=Jn(n,e.viewerId,kr(r));i=o.message,a=o.mentions,s=o.keyboardEvent}const l=e.convos.get(i.peerId);if(!l)return[];switch(n[0]){case 4:{const t=e.typings.get(l.peerId);if(t)for(const n of ht){const r=t[n];r&&r.peerIds.has(i.authorId)&&(r.peerIds.delete(i.authorId),r.totalCount--,0===r.totalCount&&delete t[n],0===Object.keys(t).length&&e.typings.delete(l.peerId))}const r=n[3];return"ChatConvo"===l.kind?Mt(l,i,r,a.hasDirect||a.hasMass,s):Mt(l,i,r,!1,s),Yt(e.folders,l),e.locks.convosCleanup.has(l.peerId)||Pt(l),[]}case 5:case 18:case 19:return function(e,n,t){"ChatConvo"===e.kind&&(e.unreadMentions.delete(n.cmid),t&&St(e,n)&&e.unreadMentions.add(n.cmid)),e.unreadExpireables.delete(n.cmid),("Normal"===n.kind&&n.expireTTL||"Expired"===n.kind)&&St(e,n)&&e.unreadExpireables.add(n.cmid);const r=e.persisted.get(n.id);r&&e.persisted.set(r.id,Object.assign(Object.assign({},n),{newerId:r.newerId,olderId:r.olderId}))}(l,i,a.hasDirect||a.hasMass),[];default:return ye()}}(n,e,r);case 6:case 7:return function(e,n,t){var r;const[o,i]=n,a=Ie(i),s=e.convos.get(a);if(!s)return[];const l=null==t?void 0:t.convos.get(i),c=l&&(null===(r=at(l))||void 0===r?void 0:r.convo);return c?(6===o?Ot(s,c.inReadBy,c.unreadCount):zt(s,c.outReadBy),Yt(e.folders,s),[]):[]}(n,e,r);case 10:case 11:case 12:return function(e,n){const[t,r,o]=n,i=Ie(r),a=e.convos.get(i);return a?(function(e,n,t){const r=Wt({isMarkedUnread:e.isMarkedUnread,isArchived:e.isArchived});let o;switch(n){case"unset":o=Wt(r&~t);break;case"replace":o=Wt(t);break;case"set":o=Wt(r|t);break;default:ye()}const{isMarkedUnread:i,isArchived:a,DONT_USE_isMuted:s}=o;(function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}})(o,["isMarkedUnread","isArchived","DONT_USE_isMuted"]),e.isMarkedUnread=i,e.isArchived=a}(a,{10:"unset",11:"replace",12:"set"}[t],o),Yt(e.folders,a),[]):[]}(n,e);case 13:return function(e,n,t){const[,r,o]=n,i=Ie(r),a=vn(o),s=e.convos.get(i);if(!s)return[];if(s.persistedId!==a)return[];const l=null==t?void 0:t.convos.get(r),c=l&&at(l);return c?(e.convos.set(c.convo.peerId,c.convo),c.peer&&e.peers.set(c.peer.id,c.peer),Yt(e.folders,s),[]):[function({logger:e}){return yr(this,void 0,void 0,(function*(){return e.error("[EngineBatchReceived]",new Error(`В ${n[0]} отсутствует дозагруженная беседа`)),{type:"Noop"}}))}]}(n,e,r);case 20:return function(e,n){const[,t,r]=n,o=Ie(t),i=e.convos.get(o);return i?(jt(i,{majorSortId:r}),Yt(e.folders,i),[]):[]}(n,e);case 21:return function(e,n){const[,t,r]=n,o=Ie(t),i=e.convos.get(o);return i?(jt(i,{minorSortId:r}),Yt(e.folders,i),[]):[]}(n,e);case 52:return function(e,n,t){const[,r,o,i]=n,a=Ie(o),s=e.convos.get(a);if(!s)return[];const l=void 0;switch(r){case gn.ChatUpdateType.CopyFlagChanged:case gn.ChatUpdateType.TitleChanged:case gn.ChatUpdateType.AvatarChanged:case gn.ChatUpdateType.FlagsChanged:return[];case gn.ChatUpdateType.Pinned:{if("ChatConvo"!==s.kind)return[];const n=En(i);if(e.hiddenPinnedMessages.delete(a),void 0===s.kind)return l.convo.pinnedMessage&&Lt(s,l.convo.pinnedMessage),[];if(0===n)Rt(s);else{const e=kt(s,n);"Normal"===(null==e?void 0:e.kind)&&Lt(s,function(e){const{id:n,cmid:t,peerId:r,authorId:o,chunks:i,sentAt:a,forwardedMessages:s,replyMessage:l,attaches:c}=e;return{kind:"Pinned",id:n,cmid:t,peerId:r,authorId:o,chunks:i,sentAt:a,forwardedMessages:s,replyMessage:l,attaches:c}}(e))}return[]}case gn.ChatUpdateType.UserJoined:{if("ChatConvo"!==s.kind)return[];const e=Ie(i);if(!Me(e)&&!Pe(e))break;!function(e,n){e.members&&(e.membersCount++,e.members.push(n))}(s,e);break}case gn.ChatUpdateType.UserLeft:case gn.ChatUpdateType.UserKicked:{if("ChatConvo"!==s.kind)return[];const e=Ie(i);if(!Me(e)&&!Pe(e))break;!function(e,n){e.members&&(e.membersCount--,e.members=e.members.filter((e=>e!==n)))}(s,e);break}case gn.ChatUpdateType.KeyboardChanged:return[];case gn.ChatUpdateType.CallInProgressChanged:return"ChatConvo"===s.kind&&void 0===s.kind&&function(e,n){e.activeCall=n}(s,l.convo.activeCall),[];case gn.ChatUpdateType.IsNewChange:return function(e,n){e.isNew=n}(s,!!i),[];case gn.ChatUpdateType.AdminGrated:case gn.ChatUpdateType.AdminKicked:case gn.ChatUpdateType.BannerChanged:case gn.ChatUpdateType.MessageRequestChanged:case gn.ChatUpdateType.ContactConverted:case gn.ChatUpdateType.BusinessNotifyDataChanged:case gn.ChatUpdateType.MessageRequestCanceled:case gn.ChatUpdateType.MessageRequestRejected:case gn.ChatUpdateType.MessageRequestAccepted:case gn.ChatUpdateType.ContactJoined:case gn.ChatUpdateType.DonSubscribed:case gn.ChatUpdateType.DonUnsubscribed:case gn.ChatUpdateType.StyleChanged:return[]}return[]}(n,e);case 63:case 64:case 65:case 66:case 67:return function(e,n){const[t,r,o,i,a]=n,s=Ie(r),l=new Set(o.map((e=>Ie(e))));if(l.delete(e.viewerId),!e.convos.get(s))return[];const c={63:"text",64:"voice",65:"photo",66:"video",67:"file"}[t],u=Object.assign(Object.assign({},e.typings.get(s)||{}),{[c]:{peerIds:l,updatedAt:a,totalCount:i}});return e.typings.set(s,u),[function(){return yr(this,void 0,void 0,(function*(){return yield Be(5e3),{type:"EngineBatchReceived_TypingsTimedOut",peerId:s,typingType:c,timestamp:a}}))}]}(n,e);case 80:return function(e,n){const[,t,,,r]=n;return Gt(e.folders,{unread:t,businessNotify:r}),[]}(n,e);case 114:return function(e,n){const[,{peer_id:t}]=n,r=Ie(t),o=e.convos.get(r);return o?(function(e,n){e.push=n}(o,function(e){switch(e[1].disabled_until){case 0:return{mode:"everything",disabledUntil:0};case-1:return{mode:"nothing",disabledUntil:1/0};default:return{mode:"nothing",disabledUntil:1e3*e[1].disabled_until}}}(n)),[]):[]}(n,e);case 119:return function(e,n){const[,t]=n,r=Ie(t.peer_id),o=Ie(t.owner_id),i=e.convos.get(r),a=e.peers.get(r),s=e.peers.get(o);return i&&a&&s&&(i.messageEvents=((e,n,t,r)=>{const{event_id:o,action:i,owner_id:a}=r,s=new Map(e),l=o,c=Ie(a);if(e.has(l)&&i)switch(i.type){case"show_snackbar":s.set(l,Object.assign(Object.assign({},i),{ownerId:c,title:Oe(n),photo:t.photo50,status:"fullfilled"}));break;case"open_link":s.set(l,Object.assign(Object.assign({},i),{ownerId:c,title:Oe(n),status:"fullfilled"}));break;default:s.set(l,Object.assign(Object.assign({},i),{appId:i.app_id,ownerId:c,status:"fullfilled"}))}return s})(i.messageEvents,a,s,t)),[]}(n,e);case 10006:case 10007:return function(e,n){const[t,r,o,i]=n,a=Ie(r),s=En(o),l=e.convos.get(a);return l?(10006===t?Ot(l,s,i):zt(l,s),Yt(e.folders,l),[]):[]}(n,e);default:return[]}}));return[wr(),...s]}function wr(){return function({engine:e}){return yr(this,void 0,void 0,(function*(){return{type:"EngineBatchReceived",variant:{kind:"FromEngine",next:yield e.poll()}}}))}}function xr(e,n){return{messages:new Map(e.map((e=>[e.id,e]))),convos:new Map(n.map((e=>[e.peer.id,e])))}}function kr(e){return function(n){const t=kt(e,n);return"Normal"===(null==t?void 0:t.kind)?t:void 0}}function Dr(e,n){return"string"==typeof e.attach1_type?"sticker"!==e.attach1_type&&("audiomsg"!==e.attach1_kind||"doc"!==e.attach1_type):void 0!==e.geo||void 0!==e.fwd&&void 0===e.reply||void 0!==e.reply&&!n(En(JSON.parse(e.reply).conversation_message_id))}const Sr=(e,n)=>{const{type:t}=n;switch(t){case"UserChangedSetting":{const t=e.userSettings[n.setting];return e.userSettings[n.setting]=n.value,[function(e){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){try{return{type:"UserChangedSetting_RequestCompleted",hasFailed:1!==(yield function(e,n,t){const{api:r,storage:o}=e;switch(n){case"ctrSubmit":return r.fetch("account.setInfo",{name:"messages_multiline_input",value:String(Number(t))});case"soundNotifications":return o.set("settings-sound-notifications-on",t),Promise.resolve(1);case"showRecommendations":return r.fetch("account.setInfo",{name:"messages_recommendation_list_hidden",value:String(Number(!t))});case"countOnlyNotMuted":return r.fetch("account.setInfo",{name:"show_only_not_muted_messages",value:String(Number(t))});case"autoUnarchive":return r.fetch("account.setInfo",{name:"messages_auto_unarchive",value:String(Number(t))});default:ye()}}(e,n.setting,n.value)),setting:n.setting,previousValue:t}}catch(e){return{type:"UserChangedSetting_RequestCompleted",hasFailed:!0,setting:n.setting,previousValue:t}}}))}]}case"UserChangedSetting_RequestCompleted":return n.hasFailed&&(e.userSettings[n.setting]=n.previousValue),[];default:ye()}},Ir=(e,n)=>{switch(n.type){case"UserChangedFriendship":{const t=e.peers.get(n.userId);if("User"!==(null==t?void 0:t.kind)||e.locks.updateFriendshipOrMembership.has(t.id))return[];const r=t.friendship;return Re(t,n.change),r===t.friendship?[]:(e.locks.updateFriendshipOrMembership.add(t.id),[function({api:e}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){let t=!1;try{yield e.fetch(`friends.${n.change}`,{user_id:n.userId})}catch(e){t=!0}return{type:"UserChangedFriendship_RequestCompleted",userId:n.userId,change:n.change,hasFailed:t}}))}])}case"UserChangedFriendship_RequestCompleted":{e.locks.updateFriendshipOrMembership.delete(n.userId);const t=e.peers.get(n.userId);return"User"!==(null==t?void 0:t.kind)||n.hasFailed&&Re(t,{add:"delete",delete:"add"}[n.change]),[]}default:return ye()}},Fr=(e,n)=>{switch(n.type){case"UserChangedGroupMembership":{const t=e.peers.get(n.groupId);if("Group"!==(null==t?void 0:t.kind)||e.locks.updateFriendshipOrMembership.has(t.id))return[];const r=t.membership;return Ue(t,n.change),r===t.membership?[]:(e.locks.updateFriendshipOrMembership.add(t.id),[function({api:e}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){const t=`groups.${n.change}`;let r=!1;try{yield e.fetch(t,{group_id:-n.groupId})}catch(e){r=!0}return{type:"UserChangedGroupMembership_RequestCompleted",groupId:n.groupId,change:n.change,hasFailed:r}}))}])}case"UserChangedGroupMembership_RequestCompleted":{e.locks.updateFriendshipOrMembership.delete(n.groupId);const t=e.peers.get(n.groupId);return"Group"!==(null==t?void 0:t.kind)||n.hasFailed&&Ue(t,{join:"leave",leave:"join"}[n.change]),[]}default:return ye()}},Mr=(e,n)=>{switch(n.type){case"MoreConvosNeeded":{const{folder:t}=n;if(e.locks.getConversations[t]||!e.folders[t].hasMore)return[];e.locks.getConversations[t]=!0;const r=e.folders[t].peerIds.size;return[function({api:e}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){try{return{type:"MoreConvosNeeded_RequestCompleted",response:yield e.fetch("messages.getConversations",{count:30,offset:r,filter:Zt(t)}),folder:t}}catch(e){return{type:"Noop"}}}))}]}case"MoreConvosNeeded_RequestCompleted":{const{response:t,folder:r}=n;e.locks.getConversations[r]=!1;const o=mt(e,t.items,{dangerouslyMerge:!0});return Vt(e.folders,r,o,t.count),ft(e,{apiUsers:t.profiles||[],apiGroups:t.groups||[]}),[]}default:ye()}};var Tr=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))};const Pr=(e,n)=>{const{next:t}=n;if("Reconnecting"===t.kind)return[function({queue:e}){return Tr(this,void 0,void 0,(function*(){return{type:"QueueBatchReceived",next:yield e.poll()}}))}];if("Disconnected"===t.kind){if("manual"===t.reason)return[];const n=e.viewerId;return[function({queue:e,api:t}){return Tr(this,void 0,void 0,(function*(){const r=yield t.fetch("queue.subscribe",{queue_ids:`onlfriends_${n}`},{retries:1/0});return e.connect(Object.assign({user_id:n},r)),{type:"QueueBatchReceived",next:yield e.poll()}}))}]}for(const n of t.events)switch(n.entity_type){case"online":const t=Ie(n.data.user_id);if(!Me(t))break;n.data.online?e.onlines.add(t):e.onlines.delete(t);const r=e.peers.get(t);if(!r||"User"!==r.kind)break;Le(r,1e3*n.data.last_seen,pt(n.data.platform,n.data.app_id));break;default:n.entity_type}return[function({queue:e}){return Tr(this,void 0,void 0,(function*(){return{type:"QueueBatchReceived",next:yield e.poll()}}))}]},Or=(e,n)=>{switch(n.type){case"UserHitSendMessageEventRequestCompleted":{const t=e.convos.get(n.peerId);return null==t||t.messageEvents.set(n.eventId,{status:"pending"}),[function(){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){return yield Be(zr),{type:"UserHitSendMessageEventFullfilled",eventIds:new Set([n.eventId]),peerId:n.peerId}}))}]}case"UserHitSendMessageEventFullfilled":{const t=e.convos.get(n.peerId);return t&&n.eventIds.forEach((e=>{t.messageEvents.delete(e)})),[]}default:return ye()}},zr=6e4,Nr=(e,n)=>{switch(n.type){case"UserListenedVoice":{const{messageId:t,peerId:r}=n,o=e.convos.get(r),i=null==o?void 0:o.persisted.get(t);return"Normal"===(null==i?void 0:i.kind)&&wn(i)?[function({api:e}){return function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){try{return{type:"UserListenedVoice_RequestCompleted",hasFailed:1!==(yield e.fetch("messages.markAsListened",{message_id:t},{retries:1})),messageId:t,peerId:r}}catch(e){return{type:"UserListenedVoice_RequestCompleted",hasFailed:!0,messageId:t,peerId:r}}}))}]:[]}case"UserListenedVoice_RequestCompleted":if(!n.hasFailed){const{messageId:t,peerId:r}=n,o=e.convos.get(r),i=null==o?void 0:o.persisted.get(t);if(!i)return[];!function(e){const n="Normal"===e.kind&&e.attaches.voice;n&&wn(e)&&(n.isListened=!0)}(i)}return[];default:ye()}};var jr=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))};const Lr=()=>[{status:"running",pts:0,viewerId:Ie(),folders:Ht(),convos:new Map([[Ie(),{kind:"UserConvo",peerId:Ie(),unreadCount:0,majorSortId:0,minorSortId:0,inReadBy:En(0),outReadBy:En(0),isNew:!1,isMarkedUnread:!1,isArchived:!1,canWrite:{allowed:!1,reason:"unknown"},push:{mode:"everything",disabledUntil:0},persistedId:vn(),persisted:new Map,queuedId:_n(),queued:new Map,afterGapId:vn(),unreadExpireables:new Set,hasMore:!1,entrypoint:null,messageEvents:new Map}]]),readQueues:new Map,peers:new Map([[Ie(),{kind:"User",id:Ie(),firstName:"...",firstNameGen:"...",firstNameAcc:"...",lastName:"...",lastNameGen:"...",lastNameAcc:"...",sex:"unknown",lastSeen:{isVisible:!1,platform:"other"},isVerified:!1,canCall:!0,followersCount:0,canChangeFriendship:!1,canMessage:!1,friendship:"unfamiliar",isBlacklisted:!1,isBlacklistedByMe:!1,isDeactivated:!1}]]),onlines:new Set,typings:new Map,convosSearchIndex:rr(),locks:{getConversations:{all:!1,unread:!1,businessNotify:!1,messageRequest:!1,archive:!1},getHistory:new Set,getConversationMembers:new Set,send:new Set,edit:new Set,convosCleanup:new Set,updateFriendshipOrMembership:new Set},hiddenPinnedMessages:new Map,userSettings:{ctrSubmit:!1,soundNotifications:!0,showRecommendations:!0,countOnlyNotMuted:!1,autoUnarchive:!0},emptyConvoHelloStickers:void 0},[()=>Promise.resolve({type:"InitialData"})]];function Rr(e,n,t){if("TemporaryHackForResync"===n.type)return Lr();const r=ge(e);let o;switch(n.type){case"Noop":o=[];break;case"InitialData":case"InitialData_RequestCompleted":o=Ur(r,n,t);break;case"EngineBatchReceived":case"EngineBatchReceived_TypingsTimedOut":o=((e,n,t)=>{if(!t)throw new Error("feature flags not passed");switch(n.type){case"EngineBatchReceived":{const{variant:t}=n;switch(t.kind){case"FromEngine":return Br(0,e,t);case"FromEngineWithMissingData":return function(e,n,t){const{apiConvos:r,apiMessages:o,apiUsers:i,apiGroups:a}=t,s=xr(o,r);return mt(n,r.map((e=>({conversation:e,last_message:s.messages.get(e.last_message_id)}))),{dangerouslyMerge:!0}),ft(n,{apiUsers:i,apiGroups:a}),Br(0,n,{kind:"FromEngine",next:t.skippedBatch},s)}(0,e,t);case"FromApiEngineHistory":return function(e,n,t){const{next:r,apiMessages:o,apiConvos:i,apiUsers:a,apiGroups:s}=t,l=xr(o,i);return mt(n,i.map((e=>({conversation:e,last_message:l.messages.get(e.last_message_id)}))),{dangerouslyMerge:!0}),ft(n,{apiUsers:a,apiGroups:s},{dangerouslyOverwrite:!0}),Br(0,n,{kind:"FromEngine",next:r},l)}(0,e,t);default:return ye()}}case"EngineBatchReceived_TypingsTimedOut":{const{peerId:t,typingType:r,timestamp:o}=n,i=e.typings.get(t);if(!i)return[];const a=i[r];return a?(a.updatedAt<=o&&delete i[r],0===Object.keys(i).length&&e.typings.delete(t),[]):[]}case"TemporaryHackForResync":return[];default:return ye()}})(r,n,t);break;case"QueueBatchReceived":o=Pr(r,n);break;case"MoreConvosNeeded":case"MoreConvosNeeded_RequestCompleted":o=Mr(r,n);break;case"CacheUpdateReceived":o=((e,n)=>{const{profiles:t,groups:r,conversations:o,mutualFriends:i}=n;if(mt(e,o||[]),ft(e,{apiUsers:t||[],apiGroups:r||[]}),i){const n=e.peers.get(Ie(i.peerId));n&&function(e,n,t){e.mutualFriends={hint:n,count:t}}(n,i.hint.map(Ie),i.count)}return[]})(r,n);break;case"UserScrolledConvoHistory":case"UserScrolledConvoHistory_RequestSucceed":case"UserScrolledConvoHistory_RequestFailed":o=vr(r,n);break;case"UserSeenMessage":case"UserSeenMessage_ThrottleTimedOut":case"UserSeenMessage_RequestCompleted":o=fr(r,n);break;case"UserHitSend":case"UserHitSend_RequestCompleted":o=((e,n)=>{switch(n.type){case"UserHitSend":{const{text:t,attaches:r,timestamp:o,peerId:i,expireTTL:a,entrypoint:s,extra:l}=n,c=e.convos.get(i);if(!c)return[];const u=function(e){const n=-Math.pow(2,31),t=_n(-e.sentAt%Math.abs(n));return Object.assign(Object.assign({},e),{kind:"Queued",text:e.text,chunks:(r=e.text,Ye(r,mn)),hasFailed:!1,randomId:t});var r}({peerId:i,text:t,isOut:!0,sentAt:o,authorId:e.viewerId,attaches:r,expireTTL:a,extra:l});return function(e,n){e.queued.set(n.randomId,Object.assign(Object.assign({},n),{newerId:_n(),olderId:e.queuedId}));const t=e.queued.get(e.queuedId);t&&(t.newerId=n.randomId),e.queuedId=n.randomId,Nt(n.isOut,e)}(c,u),e.locks.send.has(c.peerId)?[]:(e.locks.send.add(c.peerId),[pr(i,u.randomId,t,dr(r),u.extra,s,r.geo)])}case"UserHitSend_RequestCompleted":{const{peerId:r,randomId:o,hasFailed:i,entrypoint:a}=n;e.locks.send.delete(r);const s=e.convos.get(r);if(!s)return[];i&&function(e,n,t){const r=e.queued.get(n);r&&function(e,n){e.hasFailed=n}(r,t)}(s,o,i);const l=function(e,n){const t=e.queued.get(n);if(t)return e.queued.get(t.newerId)}(s,o),c=l&&(E(t=l)||v(23,t),t[ae].t);return c?(e.locks.send.add(r),[pr(r,c.randomId,c.text,dr(c.attaches),c.extra,a,c.attaches.geo)]):[]}default:return ye()}var t})(r,n);break;case"UserHitSendMessageEventRequestCompleted":case"UserHitSendMessageEventFullfilled":o=Or(r,n);break;case"UserHitEdit":case"UserHitEdit_RequestCompleted":o=hr(r,n);break;case"UserOpenedConvo":case"UserClosedConvo":case"UserOpenedConvo_MembersRequestCompleted":case"UserOpenedConvo_StickersRequestCompleted":case"UserOpenedConvo_HistoryRequestSucceed":case"UserOpenedConvo_HistoryRequestFailed":o=br(r,n);break;case"UserHitUnpinMessage":case"UserHitUnpinMessageHide":case"UserHitUnpinMessage_RequestCompleted":o=Er(r,n);break;case"UserChangedFriendship":case"UserChangedFriendship_RequestCompleted":o=Ir(r,n);break;case"UserChangedGroupMembership":case"UserChangedGroupMembership_RequestCompleted":o=Fr(r,n);break;case"UserChangedSetting":case"UserChangedSetting_RequestCompleted":o=Sr(r,n);break;case"UserListenedVoice":case"UserListenedVoice_RequestCompleted":o=Nr(r,n);break;default:ye()}r.convos.set(Ie(),Ut(e.convos,Ie())),r.peers.set(Ie(),We(e.peers,Ie()));const i=Ce(r);return e.hiddenPinnedMessages!==i.hiddenPinnedMessages&&o.push((function({storage:e}){return jr(this,void 0,void 0,(function*(){return e.set("hidden-pinned-messages",Array.from(i.hiddenPinnedMessages.entries()).reduce(((e,[n,t])=>(e[n]=t,e)),{})),{type:"Noop"}}))})),[i,o]}const Ur=(e,n,t)=>{switch(n.type){case"InitialData":return[function({engine:e,queue:n,api:r,storage:o}){var i;return jr(this,void 0,void 0,(function*(){if(t.me_re_api_execute){const n=yield r.fetch("messages.getLongPollServer",{need_pts:1,lp_version:e.version},{retries:1/0});if(!n.pts)throw new Error("Отсутствует pts");e.connect(Object.assign(Object.assign({},n),{pts:n.pts}));const t=yield r.fetchMany({"messages.getConversations":{count:30},"users.get":{},"account.getCounters":{filter:"all"},"account.getInfo":{fields:["messages_recommendation_list_hidden","show_only_not_muted_messages","messages_multiline_input","messages_auto_unarchive"].join(",")}}),a=t["users.get"],s=t["messages.getConversations"],l=t["account.getCounters"],c=t["account.getInfo"];if(!n.pts)throw new Error("Отсутствует pts");e.connect(Object.assign(Object.assign({},n),{pts:n.pts}));const u=a[0];if(!u)throw new Error("Не удалось получить текущего пользователя");return o.identify(u.id),{type:"InitialData_RequestCompleted",responseViewer:u,responseConvos:s,unreadCount:{messages:l.messages||0,messageRequest:l.message_requests||0,businessNotify:l.business_notify||0},pts:n.pts,hiddenPinnedMessages:o.get("hidden-pinned-messages"),userSettings:{ctrSubmit:Boolean(c.messages_multiline_input),soundNotifications:null===(i=o.get("settings-sound-notifications-on"))||void 0===i||i,showRecommendations:!Boolean(c.messages_recommendation_list_hidden),countOnlyNotMuted:Boolean(c.show_only_not_muted_messages),autoUnarchive:Boolean(c.messages_auto_unarchive)}}}{const n=yield r.fetch("messages.getLongPollServer",{need_pts:1,lp_version:e.version},{retries:1/0});if(!n.pts)throw new Error("Отсутствует pts");e.connect(Object.assign(Object.assign({},n),{pts:n.pts}));const[t,i,a,s]=yield Promise.all([r.fetch("users.get",{},{retries:1/0}),r.fetch("messages.getConversations",{count:30},{retries:1/0}),r.fetch("account.getCounters",{filter:"all"},{retries:1/0}),yield Wr(r,o)]),l=t[0];if(!l)throw new Error("Не удалось получить текущего пользователя");return o.identify(l.id),{type:"InitialData_RequestCompleted",responseViewer:l,responseConvos:i,unreadCount:{messages:a.messages||0,messageRequest:a.message_requests||0,businessNotify:a.business_notify||0},pts:n.pts,hiddenPinnedMessages:o.get("hidden-pinned-messages"),userSettings:s}}}))}];case"InitialData_RequestCompleted":{e.pts=n.pts,e.hiddenPinnedMessages=new Map(Object.entries(n.hiddenPinnedMessages||{}).map((([e,n])=>[Ie(parseInt(e)),En(n)])));const t=mt(e,n.responseConvos.items);Vt(e.folders,"all",t,n.responseConvos.count),Gt(e.folders,{unread:n.unreadCount.messages,messageRequest:n.unreadCount.messageRequest,businessNotify:n.unreadCount.businessNotify}),ft(e,{apiUsers:[...n.responseConvos.profiles||[]],apiGroups:[...n.responseConvos.groups||[]]});const{user:r}=dt(n.responseViewer);return e.viewerId=r.id,e.peers.set(r.id,r),or(e.convosSearchIndex,t,(n=>{const t=e.peers.get(n.peerId);return{id:n.peerId,strings:t?sr(t):[]}})),n.userSettings&&(e.userSettings=n.userSettings),[function({engine:e}){return jr(this,void 0,void 0,(function*(){return{type:"EngineBatchReceived",variant:{kind:"FromEngine",next:yield e.poll()}}}))},function({api:e,queue:n}){return jr(this,void 0,void 0,(function*(){const t=yield e.fetch("queue.subscribe",{queue_ids:`onlfriends_${r.id}`},{retries:20});return n.connect(Object.assign({user_id:r.id},t)),{type:"QueueBatchReceived",next:yield n.poll()}}))}]}default:return[]}},Wr=(e,n)=>jr(void 0,void 0,void 0,(function*(){var t;try{const r=yield e.fetch("account.getInfo",{fields:"messages_recommendation_list_hidden,show_only_not_muted_messages,messages_multiline_input,messages_auto_unarchive"}),{messages_recommendation_list_hidden:o,show_only_not_muted_messages:i,messages_multiline_input:a,messages_auto_unarchive:s}=r;return{ctrSubmit:Boolean(a),soundNotifications:null===(t=n.get("settings-sound-notifications-on"))||void 0===t||t,showRecommendations:!Boolean(o),countOnlyNotMuted:Boolean(i),autoUnarchive:Boolean(s)}}catch(e){return null}}));function Hr(e,n,t=Lr){let r=!1;const o=!1;let i=[],[a,s]=t();o&&o.init(a);const l=t=>{if(!r)throw new Error("Стор еще не был активирован. Нужно вызвать store.start().");const[s,c]=Rr(a,t,n);if(o&&o.send(t,s),qr(l,c,e),a!==s)for(const e of i)e(s);a=s};return{start:()=>{r||(r=!0,qr(l,s,e))},dispatch:l,subscribe:e=>(i.push(e),()=>{i=i.filter((n=>n!==e))}),featureFlags:n,getState:()=>a}}function qr(e,n,t){0!==n.length&&setTimeout((()=>{for(const r of n)"function"==typeof r&&r(t).then(e).catch((e=>{t.logger.error("Необработанная ошибка редьюсера",e)}))}))}var Zr=u(4790),Vr=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))};class Yr{constructor(e,n,t){this.logger=e,this.request=n,this.refreshToken=t,this.waiting=[],this.freeResources=6,this.fetch=(e,n,t={})=>Vr(this,void 0,void 0,(function*(){const r=t.retries||0,o=new we(500,"messages.getLongPollHistory"===e?2e3:2e4);for(;;)try{return yield this.doFetch(e,n,t.timeout)}catch(e){if(o.attempts()===r)throw e;yield Be(o.delay()),o.backoff()}})),this.enrichParams=(e,n)=>{const t=e.slice(0,e.indexOf(".")),r={messages:Array.from(new Set([...Ee,..._e])).join(","),users:Ee.join(","),groups:_e.join(",")}[t];return Object.assign(Object.assign({},n),{extended:1,fields:r})},this.doFetch=(e,n,t=3e4)=>Vr(this,void 0,void 0,(function*(){if(this.token||(this.token=yield this.refreshToken(!1)),!this.lock())return new Promise(((t,r)=>{this.waiting.push((()=>this.doFetch(e,n).then(t).catch(r)))}));this.logger.info("[API] Request",e,n);const r=Object.assign(Object.assign({},this.enrichParams(e,n)),{v:be,access_token:this.token}),o=`https://api.vk.com/method/${e}?${Zr.stringify(r)}`;try{const r=yield this.request(o,t);return this.logger.info("[API] Response",e,r),this.release(),r.error?5===r.error.error_code?(this.token=yield this.refreshToken(!0),this.doFetch(e,n)):Promise.reject(`Request failed. Code: ${r.error.error_code}. Message: ${r.error.error_msg}`):r.response}catch(n){return n instanceof Error&&"NetworkError"!==n.name||this.logger.error("[API] Error "+e,n),this.release(),Promise.reject(n)}})),this.lock=()=>0!==this.freeResources&&(this.freeResources=Math.max(this.freeResources-1,0),!0),this.release=()=>{setTimeout((()=>{this.freeResources=Math.min(this.freeResources+1,6);const e=this.waiting.shift();e&&e()}),2050)}}fetchMany(e){const n=[],t=Object.keys(e);for(const r of t)n.push(`'${r}': API.${r}(${JSON.stringify(this.enrichParams(r,e[r]))})`);const r=`return { ${n.join(",")} };`;return this.fetch("execute",{code:r})}}class Gr{constructor(e,n){this.logger=e,this.request=n,this.reconnectTimeout=new we(250,2e4),this.skipBackoff=()=>{},this.isWorking=!1,this.empty=()=>({kind:"Buffer",buffer:[],isReconnecting:!1}),this.queued=this.empty(),this.connect=e=>{this.isWorking||(this.isWorking=!0,this.queued=this.empty(),(()=>{!function(e,n,t,r){new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){for(;this.isWorking;){if("Buffer"===this.queued.kind&&this.queued.buffer.length>=50)return this.isWorking=!1,void this.dispatch({kind:"Failure"});try{const n=["act=a_check",`key=${e.key}`,`ts=${e.ts}`,"wait=25","mode=170",`version=${this.version}`],t=`https://${e.server}?${n.join("&")}`,r=yield this.request(t,3e4);if(this.reconnectTimeout.reset(),"failed"in r)return this.logger.info("[ENGINE] Failure",r),this.isWorking=!1,void this.dispatch({kind:"Failure"});e.ts=r.ts,e.pts=r.pts,this.dispatch(Object.assign({kind:"Batch"},r))}catch(e){e instanceof Error&&"NetworkError"!==e.name||this.logger.error("[ENGINE]",e),this.dispatch({kind:"Reconnecting"}),yield new Promise((e=>{this.logger.info("[ENGINE]",`Reconnecting in ${this.reconnectTimeout.delay()}`);const n=setTimeout((()=>{this.logger.info("[ENGINE]","Reconnecting..."),this.skipBackoff=()=>{},e()}),this.reconnectTimeout.delay());this.skipBackoff=()=>{clearTimeout(n),this.reconnectTimeout.reset(),this.skipBackoff=()=>{},e()}})),this.reconnectTimeout.backoff()}}}))})(),this.logger.info("[ENGINE] Connected"))},this.dispatch=e=>{if("Callback"===this.queued.kind)return this.queued.resolve(e),void(this.queued=this.empty());switch(this.queued.isReconnecting=!1,e.kind){case"Failure":return void this.queued.buffer.push(e);case"Batch":{const n=this.queued.buffer[this.queued.buffer.length-1];return void(n&&"Failure"!==n.kind&&n.pts===e.pts?(n.ts=e.ts,n.pts=e.pts,n.updates.push(...e.updates)):this.queued.buffer.push(e))}case"Reconnecting":return void(this.queued.isReconnecting=!0);default:ye()}},this.skipWaiting=()=>{this.skipBackoff()},this.poll=()=>{if("Callback"===this.queued.kind)return this.queued.reject("Engine.poll вызван повторно до обработки первого вызова!"),new Promise(((e,n)=>{this.queued={kind:"Callback",resolve:e,reject:n}}));const e=this.queued.buffer.shift();return e?Promise.resolve(e):this.queued.isReconnecting?Promise.resolve({kind:"Reconnecting"}):this.isWorking?new Promise(((e,n)=>{this.queued={kind:"Callback",resolve:e,reject:n}})):Promise.reject("Engine.connect еще не был вызван!")},this.isConnected=()=>this.isWorking,this.version=15}}var $r,Xr=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))};class Kr{constructor(e,n,t=50){this.logger=e,this.request=n,this.backpressureLimit=t,this.reconnectTimeout=new we(500,6e4),this.abort=null,this.empty=()=>({kind:"Buffer",buffer:[],isReconnecting:!1}),this.queued=this.empty(),this.connect=e=>Xr(this,void 0,void 0,(function*(){if(this.isConnected())return;this.abort=()=>{},this.queued=this.empty();const n=e.queues.map((e=>e.key)).join("");let t=e.queues.map((e=>e.timestamp)).join("_");(()=>{Xr(this,void 0,void 0,(function*(){for(;this.isConnected();)try{const r=`${e.base_url}?act=a_check&key=${n}&ts=${t}&id=${e.user_id}&wait=25`,{response:o,abort:i}=this.request(r,3e4);this.abort=()=>{i(),this.abort=null};const a=yield o;if(this.logger.info("[QUEUE] Event",a),this.reconnectTimeout.reset(),"failed"in a)return this.logger.info("[QUEUE] Failure",a),void this.dispatch({kind:"Disconnected",reason:"failure"});t=a.ts,this.dispatch(Object.assign({kind:"Batch"},a))}catch(e){if(e instanceof Error&&["NetworkError","AbortError"].includes(e.name)||this.logger.error("[QUEUE] Error",e),e instanceof Error&&"AbortError"===e.name&&!this.isConnected())return;this.dispatch({kind:"Reconnecting"}),this.logger.info("[QUEUE] Reconnecting in",this.reconnectTimeout.delay()),yield Be(this.reconnectTimeout.delay()),this.reconnectTimeout.backoff(),this.logger.info("[QUEUE] Reconnecting...")}}))})(),this.logger.info("[QUEUE] Connected")})),this.dispatch=e=>{if("Disconnected"===e.kind&&(this.abort&&this.abort(),this.logger.info("[QUEUE] Disconnected, reason:",e.reason)),"Callback"===this.queued.kind)return this.queued.resolve(e),void(this.queued=this.empty());switch(this.queued.isReconnecting=!1,e.kind){case"Disconnected":return void this.queued.buffer.push(e);case"Batch":{const n=this.queued.buffer.pop();return n?"Disconnected"===n.kind?void this.logger.error("[QUEUE] Error",new Error("очередь продолжает работать после дисконнекта")):this.queued.buffer.length>=this.backpressureLimit||n.events.length>=this.backpressureLimit?(this.queued.buffer.push(n),void this.dispatch({kind:"Disconnected",reason:"backpressure"})):void this.queued.buffer.push({kind:n.kind,ts:e.ts,events:n.events.concat(e.events)}):void this.queued.buffer.push(e)}case"Reconnecting":return void(this.queued.isReconnecting=!0);default:ye()}},this.poll=()=>{if("Callback"===this.queued.kind)return this.queued.reject("Queue.poll вызван дважды!"),new Promise(((e,n)=>{this.queued={kind:"Callback",resolve:e,reject:n}}));const e=this.queued.buffer.shift();return e?Promise.resolve(e):this.queued.isReconnecting?Promise.resolve({kind:"Reconnecting"}):this.isConnected()?new Promise(((e,n)=>{this.queued={kind:"Callback",resolve:e,reject:n}})):Promise.reject("Queue.connect еще не был вызван!")},this.disconnect=()=>{this.dispatch({kind:"Disconnected",reason:"manual"})},this.isConnected=()=>!!this.abort}}function Qr(e,n,t){var r,o=$r();if(!n||!o)return e;Array.isArray(n)?(r=n[1],e!==Math.floor(e)?r=n[o.numRules.float]:o.numRules.int.some((function(t){if("*"===t[0])return r=n[t[2]],!0;var o=t[0]?e%t[0]:e;return Array.isArray(t[1])&&-1!==t[1].indexOf(o)?(r=n[t[2]],!0):void 0}))):r=n;var i=e+"";if(t){for(var a=e.toString().split("."),s=[],l=a[0].length-3;l>-3;l-=3)s.unshift(a[0].slice(l>0?l:0,l+3));a[0]=s.join(o.numDel),i=a.join(o.numDec)}return r=(r||"%s").replace("%s",i)}function Jr(e,n,t){return Array.isArray(n)&&e<n.length?n[e]:Qr(e,t)}class eo{constructor(e,n,t,r={}){this.logger=e,this.locale=n,this.translations=t,this.decodedKeys=r,this.use=(e,...n)=>{try{const t=n[0];let r=this.getTemplate(e);return r?t?("num"in t?r=Qr(t.num,r):"sex"in t&&(r=function(e,n){if(!Array.isArray(n))return n;var t=$r(),r=n[1];return t?(t.sexRules.some((function(t){return"*"===t[0]||e==t[0]&&n[t[1]]?(r=n[t[1]],!0):void 0})),r):r}({female:"1",male:"2",unknown:"*"}[t.sex],r)),"values"in t&&Object.keys(t.values).length>0?no(r,t.values):Array.isArray(r)||!r?e:r):Array.isArray(r)?e:r:e}catch(n){return this.logger.error(`[LANG] Ошибка формирования строки перевода ${e}`,n),e}},this.formatDate=(e,n)=>{const t=new Date(e),r=new Date(n.now);try{switch(n.variant){case"date":case"datetime":{const e="date"===n.variant?this.getTemplate("global_date"):this.getTemplate("global_date_year_time"),o="date"===n.variant?this.getTemplate("global_short_date"):this.getTemplate("global_short_date_time"),i=t.getFullYear()!==r.getFullYear()?e:o;if("date"===n.variant)return no(i[1],this.splitDate(t));let a="";return a=ro(r,t)?i[3]:function(e,n){return ro(e,new Date(n.getTime()+to))}(r,t)?i[2]:function(e,n){return ro(e,new Date(n.getTime()-to))}(r,t)?i[4]:i[1],no(a,this.splitDate(t))}case"time":{const{hour:e,minute:n,am_pm:r}=this.splitDate(t);return`${e}:${n} ${r}`}case"time-ago":{const t=Math.floor((r.getTime()-e)/1e3);switch(!0){case t<60:return this.getTemplate("global_just_now");case t<3600:return Jr(Math.floor(t/60),this.getTemplate("global_word_mins_ago"),this.getTemplate("global_mins_ago")).toString();case t<43200:return Jr(Math.floor(t/60/60),this.getTemplate("global_word_hours_ago"),this.getTemplate("global_hours_ago")).toString();default:return this.formatDate(e,{now:n.now,variant:"datetime"})}}default:return ye(n.variant)}}catch(e){return this.logger.error(`[LANG] Ошибка форматирования даты ${n.variant}`,e),t.toISOString()}},this.formatMonth=e=>{const n=this.getTemplate("global_months_of");return(null==n?void 0:n[e])||""},this.formatNumber=(e,n="regular")=>{if("regular"===n)return e.toString().split(".").join(this.translations.config.numDec);let t,r;switch(!0){case e>1e9:t=e/1e9,r="B";break;case e>1e6:t=e/1e6,r="M";break;case e>1e3:t=e/1e3,r="K";break;default:t=e,r=""}const[o,i]=t.toFixed(1).split(".");return(Number(i)?[o,i]:[o]).join(this.translations.config.numDec)+r},this.getTemplate=e=>{if(!this.decodedKeys[e]){const n=this.translations.keys[e];if(!n)return;this.decodedKeys[e]=Array.isArray(n)?n.map(Ze):Ze(n)}return this.decodedKeys[e]},this.splitDate=e=>{const n=this.getTemplate("global_months_of"),t=e.getMinutes().toString().padStart(2,"0");let r=e.getHours().toString().padStart(2,"0");const o=e.getDate(),i=n[e.getMonth()]||n[0],a=e.getFullYear();let s="";const{timeSys:l}=this.translations.config;return"12hour"===l[0]&&(s=e.getHours()>11?l[2]:l[1],r=(e.getHours()%12==0?12:e.getHours()%12).toString().padStart(2,"0")),{year:a,day:o,month:i,hour:r,minute:t,am_pm:s}},$r=()=>t.config}}function no(e,n){return Object.keys(n).reduce(((e,t)=>e.replace(new RegExp("{"+t+"}","g"),(n[t]||t).toString())),e)}const to=864e5;function ro(e,n){const t=e.getDate(),r=e.getMonth(),o=e.getFullYear();return n.getFullYear()===o&&n.getMonth()===r&&n.getDate()===t}const oo="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=";class io{constructor(e){this.logger=e,this.prevRAFTimestamp=0,this.hasMetaData=()=>!isNaN(this.player.duration)&&this.player.duration!==1/0&&0!==this.player.duration,this.metadata=()=>this.hasMetaData()?Promise.resolve():new Promise(((e,n)=>{const t=()=>{this.player.duration!==1/0&&(o(),e())},r=e=>{o(),n(e)},o=()=>{this.player.removeEventListener("durationchange",t),this.player.removeEventListener("error",r)};this.player.addEventListener("durationchange",t),this.player.addEventListener("error",r)})),this.setState=e=>{this.state="function"==typeof e?ve(this.state,e):e,this.listeners.forEach((e=>e(this.state)))},this.handleTimeUpdate=e=>{"playing"===this.state.status&&(e-this.prevRAFTimestamp<25?window.requestAnimationFrame(this.handleTimeUpdate):(this.setState((e=>{if("playing"!==e.status)return;const n=this.player.currentTime,t=Math.max(0,Math.min(1,n/this.player.duration));"Voice"===e.currentTrack.kind&&(e.voiceProgress=t,e.voiceTime=n),e.progress=t,e.time=n})),window.requestAnimationFrame(this.handleTimeUpdate),this.prevRAFTimestamp=e))},this.play=(e,n=0)=>function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(this,void 0,void 0,(function*(){this.player.src=e.url,this.player.load(),this.setState((n=>{"Voice"===e.kind&&(n.currentVoice=e,n.voiceProgress=0,n.voiceDuration=0,n.voiceTime=0),n.currentTrack=e,n.progress=0,n.duration=0,n.time=0,n.status="loading"}));try{yield this.metadata(),this.setState((n=>{"Voice"===e.kind&&(n.currentVoice=e,n.voiceProgress=this.player.currentTime/this.player.duration,n.voiceDuration=this.player.duration,n.voiceTime=this.player.currentTime),n.currentTrack=e,n.progress=this.player.currentTime/this.player.duration,n.duration=this.player.duration,n.time=this.player.currentTime,n.status="playing"})),this.player.currentTime=n*this.player.duration,this.player.play()}catch(e){this.logger.error("Ошибка проигрывания аудио",e),this.stop()}})),this.pause=()=>{"playing"===this.state.status&&(this.setState((e=>{e.status="paused"})),this.player.pause())},this.resume=()=>{"paused"===this.state.status&&(this.setState((e=>{e.status="playing"})),this.player.play())},this.stop=()=>{"stopped"!==this.state.status&&(this.setState(io.initial()),this.player.pause(),this.player.src=oo,this.player.currentTime=0)},this.subscribe=e=>(this.listeners.push(e),()=>{this.listeners=this.listeners.filter((n=>n!==e))}),this.timeLeft=(e=!1)=>{const n=e?this.state.voiceDuration:this.state.duration,t=e?this.state.voiceTime:this.state.time;return"-"+Se(Math.floor(n-t))},this.player=document.createElement("audio"),this.player.src=oo,this.listeners=[],this.state=io.initial(),this.player.addEventListener("play",(()=>{window.requestAnimationFrame(this.handleTimeUpdate)})),this.player.addEventListener("ended",(()=>{this.setState((e=>{e.status="ended",e.progress=1,e.time=this.player.duration}))}))}static initial(){return{status:"stopped",currentVoice:null,currentTrack:null,progress:0,duration:0,time:0,voiceProgress:0,voiceDuration:0,voiceTime:0}}}class ao{constructor(e){this.dbName=e,this.identify=e=>{this.viewerPeerId=e},this.get=e=>{try{const n=localStorage.getItem(this.mapKey(e));if(!n)return;return JSON.parse(n)}catch(e){return}},this.set=(e,n)=>{try{localStorage.setItem(this.mapKey(e),JSON.stringify(n))}catch(e){}},this.del=e=>{try{localStorage.removeItem(this.mapKey(e))}catch(e){}}}mapKey(e){if(!this.viewerPeerId)throw new Error("Перед использованием Storage должен быть идентифицирован!");return`${this.dbName}-${this.viewerPeerId}-${e}`}}class so{constructor(){this.listeners=[],this.send=(e,n)=>{for(const t of this.listeners)t(e,n)},this.subscribe=e=>(this.listeners.push(e),()=>{this.listeners=this.listeners.filter((n=>n!==e))})}}class lo{constructor(e){this.logger=e,this.listeners=new Set,this.isIdle=()=>void 0===this.timeoutId,this.subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)}),this.onVisibilityChange=()=>{document.hidden?(document.removeEventListener("mousemove",this.onActive),document.removeEventListener("keydown",this.onActive),this.onIdle()):(document.addEventListener("mousemove",this.onActive),document.addEventListener("keydown",this.onActive),this.onActive())},this.onIdle=()=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0,this.notify())},this.onActive=()=>{const e=void 0!==this.timeoutId;this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.onIdle,3e4),e||this.notify()},this.notify=()=>{this.logger.info("[IDLE]","user became "+(this.isIdle()?"idle":"active"));for(const e of this.listeners)e(this.isIdle())},this.onVisibilityChange(),document.addEventListener("visibilitychange",this.onVisibilityChange)}}var co=u(5125),uo={};uo.styleTagTransform=h(),uo.setAttributes=l(),uo.insert=a().bind(null,"head"),uo.domAPI=o(),uo.insertStyleElement=A(),n()(co.Z,uo),co.Z&&co.Z.locals&&co.Z.locals;var Ao=u(4098),po=u.n(Ao),ho=u(3137),mo=u(8562),fo=u(4090),go={};go.styleTagTransform=h(),go.setAttributes=l(),go.insert=a().bind(null,"head"),go.domAPI=o(),go.insertStyleElement=A(),n()(fo.Z,go),fo.Z&&fo.Z.locals&&fo.Z.locals;var Co,vo=u(7499),Eo=u.n(vo),_o=u(1646),bo=u(330),yo=u.n(bo),Bo=!("undefined"==typeof window||!window.document||!window.document.createElement);if(Bo){var wo="__SVG_SPRITE_NODE__";Co=new(yo())({attrs:{id:wo}});var xo=function(){var e=document.getElementById(wo);e?Co.attach(e):Co.mount()};document.querySelector("body")?xo():document.addEventListener("DOMContentLoaded",xo)}else Co=null;function ko(e){Co&&Co.add(e)}var Do=Bo?Ao.useLayoutEffect:Ao.useEffect,So=(0,Ao.createContext)({});function Io(){return(Io=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Fo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Mo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Fo(Object(t),!0).forEach((function(n){To(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function To(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Po={display:"block"},Oo=function(e){var n=e.width,t=e.height,r=e.viewBox,o=e.id,i=e.className,a=e.style,s=e.fill,l=e.getRootRef,c=e.Component,u=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,["width","height","viewBox","id","className","style","fill","getRootRef","Component"]),d=Math.max(n,t),A=(0,Ao.useContext)(So),p=function(e,n){for(var t=n.classPrefix,r=n.globalClasses,o="",i=0;i<e.length;i++)t&&(o+=" "+(t+e[i])),t&&!r||(o+=" "+e[i]);return o}(["Icon","Icon--".concat(d),"Icon--w-".concat(n),"Icon--h-".concat(t),"Icon--".concat(o)],A);return po().createElement(c,Io({role:"presentation"},u,{ref:l,className:"".concat(p," ").concat(i),style:Mo(Mo({},a),{},{width:n,height:t})}),po().createElement("svg",{viewBox:r,width:n,height:t,style:Po},po().createElement("use",{xlinkHref:"#".concat(o),style:{fill:"currentColor",color:s}})))};Oo.defaultProps={Component:"div",className:"",style:{}};var zo="0 0 24 24",No="cancel_24",jo=!1;function Lo(){jo||(ko(new(Eo())({id:No,viewBox:zo,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cancel_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18.3 5.7a.99.99 0 00-1.4 0L12 10.6 7.1 5.7a.99.99 0 00-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 001.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 001.4-1.4L13.4 12l4.9-4.9a.99.99 0 000-1.4z" fill="currentColor" /></g></symbol>'})),jo=!0)}var Ro=function(e){return Do((function(){Lo()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:zo,id:No,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};Ro.mountIcon=Lo;const Uo=Ro;var Wo=u(2321),Ho=u.n(Wo);function qo(){return(qo=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Zo(e,n){return(Zo=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Vo=new Map,Yo=new WeakMap,Go=0;function $o(e,n,t,r){if(void 0===t&&(t={}),void 0===r&&(r=void 0),void 0===window.IntersectionObserver&&void 0!==r){var o=e.getBoundingClientRect();return n(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof t.threshold?t.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),function(){}}var i=function(e){var n=function(e){return Object.keys(e).sort().filter((function(n){return void 0!==e[n]})).map((function(n){return n+"_"+("root"===n?(t=e.root)?(Yo.has(t)||(Go+=1,Yo.set(t,Go.toString())),Yo.get(t)):"0":e[n]);var t})).toString()}(e),t=Vo.get(n);if(!t){var r,o=new Map,i=new IntersectionObserver((function(n){n.forEach((function(n){var t,i=n.isIntersecting&&r.some((function(e){return n.intersectionRatio>=e}));e.trackVisibility&&void 0===n.isVisible&&(n.isVisible=i),null==(t=o.get(n.target))||t.forEach((function(e){e(i,n)}))}))}),e);r=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:n,observer:i,elements:o},Vo.set(n,t)}return t}(t),a=i.id,s=i.observer,l=i.elements,c=l.get(e)||[];return l.has(e)||l.set(e,c),c.push(n),s.observe(e),function(){c.splice(c.indexOf(n),1),0===c.length&&(l.delete(e),s.unobserve(e)),0===l.size&&(s.disconnect(),Vo.delete(a))}}var Xo=["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function Ko(e){return"function"!=typeof e.children}var Qo=function(e){var n,t;function r(n){var t;return(t=e.call(this,n)||this).node=null,t._unobserveCb=null,t.handleNode=function(e){t.node&&(t.unobserve(),e||t.props.triggerOnce||t.props.skip||t.setState({inView:!!t.props.initialInView,entry:void 0})),t.node=e||null,t.observeNode()},t.handleChange=function(e,n){e&&t.props.triggerOnce&&t.unobserve(),Ko(t.props)||t.setState({inView:e,entry:n}),t.props.onChange&&t.props.onChange(e,n)},t.state={inView:!!n.initialInView,entry:void 0},t}t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,Zo(n,t);var o=r.prototype;return o.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},o.componentWillUnmount=function(){this.unobserve(),this.node=null},o.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,n=e.threshold,t=e.root,r=e.rootMargin,o=e.trackVisibility,i=e.delay,a=e.fallbackInView;this._unobserveCb=$o(this.node,this.handleChange,{threshold:n,root:t,rootMargin:r,trackVisibility:o,delay:i},a)}},o.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},o.render=function(){if(!Ko(this.props)){var e=this.state,n=e.inView,t=e.entry;return this.props.children({inView:n,entry:t,ref:this.handleNode})}var r=this.props,o=r.children,i=r.as,a=r.tag,s=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(r,Xo);return Ao.createElement(i||a||"div",qo({ref:this.handleNode},s),o)},r}(Ao.Component);function Jo(e){var n=void 0===e?{}:e,t=n.threshold,r=n.delay,o=n.trackVisibility,i=n.rootMargin,a=n.root,s=n.triggerOnce,l=n.skip,c=n.initialInView,u=n.fallbackInView,d=Ao.useRef(),A=Ao.useState({inView:!!c}),p=A[0],h=A[1],m=Ao.useCallback((function(e){void 0!==d.current&&(d.current(),d.current=void 0),l||e&&(d.current=$o(e,(function(e,n){h({inView:e,entry:n}),n.isIntersecting&&s&&d.current&&(d.current(),d.current=void 0)}),{root:a,rootMargin:i,threshold:t,trackVisibility:o,delay:r},u))}),[Array.isArray(t)?t.toString():t,a,i,s,l,o,u,r]);(0,Ao.useEffect)((function(){d.current||!p.entry||s||l||h({inView:!!c})}));var f=[m,p.inView,p.entry];return f.ref=f[0],f.inView=f[1],f.entry=f[2],f}function ei(e){const n=(0,Ao.useRef)();return(0,Ao.useEffect)((()=>{n.current=e}),[e]),n.current}function ni(e,n){const[t,r]=(0,Ao.useState)(e);return(0,Ao.useEffect)((()=>{const t=setTimeout((()=>{r(e)}),n);return()=>{clearTimeout(t)}}),[e,n]),t}function ti(e){const n=(0,Ao.useContext)(ri);return!!Me(e)&&n.has(e)}Qo.displayName="InView",Qo.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};const ri=po().createContext(new Set),oi=ri.Provider;function ii(){const e=(0,Ao.useContext)(ai);if(!e)throw new Error("DispatchProvider не добавлен в дерево Реакта!");return e}const ai=po().createContext(null),si=ai.Provider;function li(){const e=(0,Ao.useContext)(ci);if(!e)throw new Error("UserSettingsProvider не добавлен в дерево Реакта!");return e}const ci=po().createContext(null),ui=ci.Provider;function di(e,n="full",t=3){const r=(0,Ao.useContext)(Ai),o=fi(),{lang:i}=wi(),a=r.get(e);if(!a)return;const s=[],l=new Set;for(const e of ht){const n=a[e];n&&(s.push(e),n.peerIds.forEach((e=>l.add(e))))}const c=s.length>1?"text":s[0]||"text";if(0===t)return{text:i.use(`me_typing_${c}`),type:c};const u=[];for(const e of l){const n=o.get(e);if(n&&(u.push(n),u.length===t))break}let d;const A=l.size-u.length;switch(!0){case 0===u.length&&A>0:d=i.use("me_typing_people",{num:A});break;case A>0:d=u.map(ze).join(", "),d=i.use("me_typing_names_lots",{num:A,values:{names:d}});break;case u.length>1:{const e=u.length>t-1?u.slice(0,t-1).map(ze).join(", "):u[0]?ze(u[0]):"",n=u[u.length-1],r=n?ze(n):"";d=i.use("me_typing_names_couple",{values:{before:e,after:r}});break}case 1===u.length:d=u[0]?ze(u[0]):"";break;default:d=""}return{text:"compact"===n?d:i.use(`me_typing_${c}_named`,{num:u.length,values:{names:d}}),type:c}}const Ai=po().createContext(new Map),pi=Ai.Provider;function hi(){const[e,n]=(0,Ao.useState)(!1);return(0,Ao.useEffect)((()=>{const e=()=>{n(window.devicePixelRatio>1.3)};e();const t=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);try{return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}catch(n){return t.addListener(e),()=>{t.removeListener(e)}}}),[]),e}function mi(e=6e4){const[n,t]=(0,Ao.useState)(0);return(0,Ao.useEffect)((()=>{t(Date.now());const n=setInterval((()=>{t(Date.now())}),e);return()=>clearInterval(n)}),[e]),n}function fi(){return(0,Ao.useContext)(gi)}const gi=po().createContext(new Map),Ci=gi.Provider;function vi(){const e=(0,Ao.useContext)(Ei);if(!e)throw new Error("FeatureFlagsProvider не добавлен в дерево Реакта!");return e}const Ei=po().createContext(null),_i=Ei.Provider;function bi(){const e=(0,Ao.useContext)(yi);if(!e)throw new Error("ViewerProvider не добавлен в дерево Реакта!");return e}const yi=po().createContext(null),Bi=yi.Provider;function wi(){const e=(0,Ao.useContext)(xi);if(!e)throw new Error("BrowserEnvProvider не добавлен в дерево Реакта!");return e}const xi=po().createContext(null),ki=xi.Provider;function Di({debounced:e=!1}){const[n,t]=(0,Ao.useState)(Si()),r=(0,Ao.useRef)(function(e,n,t){let r=null;const o=()=>{null!==r&&(window.clearTimeout(r),r=null)},i=(...n)=>{o(),r=window.setTimeout((()=>{r=null,e(...n)}),300)};return i.cancel=o,i}(t));return(0,Ao.useLayoutEffect)((()=>{const n=r.current,o=()=>{e?n(Si()):t(Si())};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o),e&&n.cancel()}}),[e]),n}function Si(){return"undefined"==typeof window?[0,0]:[document.documentElement.clientWidth,document.documentElement.clientHeight]}function Ii({onSelect:e,requestType:n,dispatch:t,searchIndex:r,defaultResults:o}){const{api:i}=wi(),a=Pi(),[s,l]=(0,Ao.useState)(""),[c,u]=(0,Ao.useState)(new Set),[d,A]=(0,Ao.useState)(-1),[p,h]=(0,Ao.useState)(!1),[m,f]=(0,Ao.useState)(!1),g=(0,Ao.useRef)(s),C=ni(s,300),v=(0,Ao.useMemo)((()=>"convos"===n?e=>function(e,n,t){return e.fetch("messages.searchConversations",{q:t}).then((e=>(n({profiles:e.profiles,groups:e.groups,conversations:e.items}),e.items.reduce(((e,n)=>{const t=at(n);return t&&t.convo&&e.add(t.convo.peerId),e}),new Set))))}(i,a,e):ye()),[i,a,n]);(0,Ao.useEffect)((()=>{if(g.current===C)return;if(g.current=C,A(-1),0===C.length)return u(o);const e=r?function(e,n){const t=ir(e,lr(n)),r=ir(e,lr(nr(n.toLowerCase().trim(),Jt)));return new Set([...t,...r])}(r,C):new Set;u(e),f(!0),v(C).then((n=>{if(g.current!==C)return;const t=new Set([...e.values()]);n.forEach((e=>{t.has(e)||t.add(e)})),u(t),f(!1)})).catch((e=>{f(!1)}))}),[C,o,r,v]);const E=(0,Ao.useCallback)((e=>l(e.target.value)),[]),_=(0,Ao.useCallback)((n=>{if(p)switch(n.key){case"ArrowDown":n.preventDefault(),A(d+1<c.size?d+1:0);break;case"ArrowUp":n.preventDefault(),A(d>0?d-1:c.size-1);break;case"Enter":n.preventDefault();const t=[...c.values()][d];t&&e(t);break;case"Escape":n.preventDefault(),l("")}}),[d,p,c,e]),b=(0,Ao.useCallback)((()=>{h(!0),A(-1)}),[]),y=(0,Ao.useCallback)((()=>{h(!1),A(-1)}),[]),B=(0,Ao.useCallback)((()=>{l("")}),[]);let w;return w=s&&m&&0===c.size?"loading":s&&!m&&0===c.size?"empty":c,{current:d,query:s,onChange:E,onKeyDown:_,onFocus:b,onBlur:y,results:w,reset:B}}function Fi(e,{isUnread:n,onRead:t}){const{idle:r}=wi(),{ref:o,inView:i}=Jo({threshold:.01,triggerOnce:!0,delay:500});return(0,Ao.useEffect)((()=>{if(i&&n&&!e.isOut)return r.isIdle()?r.subscribe((n=>{n||setTimeout((()=>t(e.cmid)),1e3)})):void t(e.cmid)}),[i,n,e,t,r]),o}const Mi=po().createContext(null),Ti=Mi.Provider;function Pi(){const e=(0,Ao.useContext)(Mi);if(!e)throw new Error("InsertIntoCacheProvider не добавлен в дерево Реакта!");return e}var Oi=u(5094),zi={};zi.styleTagTransform=h(),zi.setAttributes=l(),zi.insert=a().bind(null,"head"),zi.domAPI=o(),zi.insertStyleElement=A(),n()(Oi.Z,zi),Oi.Z&&Oi.Z.locals&&Oi.Z.locals;var Ni=u(5653),ji={};ji.styleTagTransform=h(),ji.setAttributes=l(),ji.insert=a().bind(null,"head"),ji.domAPI=o(),ji.insertStyleElement=A(),n()(Ni.Z,ji),Ni.Z&&Ni.Z.locals&&Ni.Z.locals;var Li=u(4262),Ri=u.n(Li);const Ui=(0,Ao.forwardRef)((function(e,n){var{children:t,portalClassName:r}=e,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["children","portalClassName"]);const i=(0,Ao.useRef)(),a=ei(r);return(0,Ao.useEffect)((()=>{i.current&&(a&&i.current.classList.remove(...a.split(" ")),r&&i.current.classList.add(...r.split(" ")))}),[r,a]),(0,Ao.useEffect)((()=>(i.current=function(e){const n=document.createElement("div");return e&&n.classList.add(...e.split(" ")),document.body.appendChild(n)}(r),()=>i.current&&i.current.remove())),[]),i.current?Ri().createPortal(po().createElement("div",Object.assign({},o,{ref:n}),t),i.current):null}));function Wi(e){if("undefined"==typeof window||!(e instanceof HTMLElement))return{top:0,left:0,width:0,height:0};const n=e.getBoundingClientRect(),t=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||t.scrollTop,i=window.pageXOffset||r.scrollLeft||t.scrollLeft,a=r.clientTop||t.clientTop||0,s=r.clientLeft||t.clientLeft||0;return{top:Math.round(n.top+o-a),left:Math.round(n.left+i-s),width:e.offsetWidth,height:e.offsetHeight}}const Hi=navigator.userAgent.toLowerCase();(Hi.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[/: ]([\d.]+)/)||[0,"0"])[1],!/chrome/i.test(Hi)&&/webkit|safari|khtml/i.test(Hi);const qi=po().forwardRef((function(e,n){var{open:t=!0,position:r="auto",mode:o="side",align:i="auto",content:a,portalClassName:s,children:l}=e,c=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["open","position","mode","align","content","portalClassName","children"]);const u=function(...e){const n=(0,Ao.useRef)(null);return po().useEffect((()=>{e.forEach((e=>{e&&("function"==typeof e?e(n.current):e.current=n.current)}))}),[e]),n}(n),[d,A]=(0,Ao.useState)(null),[p,h]=(0,Ao.useState)(null),[m,f]=(0,Ao.useState)(null),g=Object.assign(Object.assign({},l.props),{ref:u});return(0,Ao.useLayoutEffect)((()=>{if(u&&u.current){const[e,n,a]=function(e,n,t,r,o){if(!o)return[null,null,null];const i="auto";if(!e)return[{top:0,left:0,width:0,height:0},r===i?"left":r,t===i?"bottom":t];const a=Wi(e),s=t===i||r===i,l=s?window.innerWidth:0,c=s?window.innerHeight:0,u=s?window.pageYOffset||document.documentElement.scrollTop:0,d=s?window.pageXOffset||document.documentElement.scrollLeft:0;if(t===i){const e=a.top-u;t=u+c-a.top-a.height>e?"bottom":"top"}if(r===i){const e=a.left+.5*a.width,n=d+2*l/3;r=e>=d+l/3&&e<=n?"center":e>n?"right":"left"}let A=a.left,p=a.top;if("side"===n)return[{top:"bottom"===t?p+a.height:p,left:"right"===t?A+a.width:A,width:"top"===t||"bottom"===t?a.width:0,height:"left"===t||"right"===t?a.height:0},r,t];switch(t){case"top":A+=.5*a.width;break;case"right":A+=a.width,p+=.5*a.height;break;case"bottom":A+=.5*a.width,p+=a.height;break;case"left":p+=.5*a.height}return[{top:p,left:A,width:0,height:0},r,t]}(u.current,o,r,i,t);A(e),h(n),f(a)}}),[o,r,i,u,t]),po().createElement(po().Fragment,null,po().cloneElement(l,g),t&&po().createElement(Ui,Object.assign({},c,{className:Ho()("MEPopper",p&&`MEPopper--align${C=p,C.length>0?C.slice(0,1).toUpperCase()+C.slice(1):""}`,m&&`MEPopper--${m}`),"data-align":p,"data-position":m,portalClassName:s,style:d||void 0}),a));var C})),Zi=e=>{var{children:n,content:t,position:r="auto",align:o="auto",open:i=!1,onOpen:a,onClose:s,delay:l=50}=e,c=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["children","content","position","align","open","onOpen","onClose","delay"]);const[u,d]=(0,Ao.useState)(i?"opened":"closed"),A=(0,Ao.useRef)(null),p=(0,Ao.useRef)(null),h=(0,Ao.useRef)(null),m=()=>{p.current&&clearTimeout(p.current),h.current&&clearTimeout(h.current),p.current=h.current=null},f=(0,Ao.useCallback)((()=>{"opened"===u?(d("is_closing"),h.current=window.setTimeout((()=>{d("closed")}),200)):(d("closed"),s&&s())}),[u,s]),g=(0,Ao.useCallback)((()=>{m(),p.current=window.setTimeout((()=>{d("opened"),a&&a()}),l)}),[l,a]),C=(0,Ao.useCallback)((()=>{m(),p.current=window.setTimeout(f,0)}),[f]);(0,Ao.useEffect)((()=>{const e=A.current;return e&&(e.addEventListener("mouseenter",g),e.addEventListener("mouseleave",C)),()=>{e&&(e.removeEventListener("mouseenter",g),e.removeEventListener("mouseleave",C))}}),[g,C]),(0,Ao.useEffect)((()=>m),[]),(0,Ao.useEffect)((()=>{d(i?"opened":"closed")}),[i]);const v=po().createElement("div",{className:Ho()("METooltip",{"METooltip--removed":"is_closing"===u})},t);return po().createElement(qi,Object.assign({content:v,position:r,align:o,open:"closed"!==u,ref:A,portalClassName:"MEConfig"},c),n)};var Vi=u(6529),Yi={};Yi.styleTagTransform=h(),Yi.setAttributes=l(),Yi.insert=a().bind(null,"head"),Yi.domAPI=o(),Yi.insertStyleElement=A(),n()(Vi.Z,Yi),Vi.Z&&Vi.Z.locals&&Vi.Z.locals;const Gi=(0,Ao.forwardRef)(((e,n)=>{var{children:t,href:r,payload:o,download:i}=e,a=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["children","href","payload","download"]);const{navigate:s}=wi(),l=function(e){const n=Xi(e);if(/^\/[^/]/.test(n)||/^(https?:\/\/)?([a-z0-9_\-.]+\.)?vk.(com|me|cc)(\/.*)?/.test(n)){const t=!/^(https?:\/\/)?([a-z0-9_\-.]+\.)?vk.(me|cc)(\/.*)?/.test(n);return{url:e,shouldNavigate:t,target:t?"_self":"_blank"}}return{url:Ki(e)?e:$i(e),shouldNavigate:!1,target:"_blank"}}(r);return po().createElement("a",Object.assign({},a,{href:l.url,target:a.target||l.target,ref:n},!i&&{onClick:a.onClick||(e=>l.shouldNavigate&&s(r,o||null,e))}),t)}));function $i(e){return`/away.php?to=${encodeURIComponent(Xi(e))}&utf=1`}function Xi(e){try{return decodeURIComponent(e)}catch(n){return e}}function Ki(e){return/^mailto:/.test(e)}var Qi=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};const Ji=(0,Ao.forwardRef)(((e,n)=>{var{label:t,children:r,className:o}=e,i=Qi(e,["label","children","className"]);return po().createElement("button",Object.assign({className:Ho()("FCIconButton",o),onMouseDown:na,"aria-label":t,ref:n},i),po().createElement("div",{"aria-hidden":!0},r))})),ea=(0,Ao.forwardRef)(((e,n)=>{var{label:t,href:r,children:o,className:i}=e,a=Qi(e,["label","href","children","className"]);return po().createElement(Gi,Object.assign({href:r,className:Ho()("FCIconButton",i),onMouseDown:na,"aria-label":t,ref:n},a),po().createElement("div",{"aria-hidden":!0},o))}));function na(e){e.preventDefault()}const ta=({id:e,title:n,onClose:t,actions:r,footer:o,style:i,children:a,initialX:s=0,initialY:l=0,initialW:c=350,initialH:u=460,isActive:d=!0,onDragged:A,onActivate:p,className:h})=>{const{lang:m}=wi(),[f,g]=Di({debounced:!0}),[C]=(0,Ao.useState)(c),[v]=(0,Ao.useState)(u),[[E,_],b]=(0,Ao.useState)([-s,-l]),[[y,B],w]=(0,Ao.useState)([0,0]),[x,k]=(0,Ao.useState)(!1),D=(0,Ao.useRef)(!1);(0,Ao.useEffect)((()=>{D.current||b([-s,-l])}),[s,l]);const[S,I]=(0,Ao.useState)(!0),F=(0,Ao.useCallback)(((e,n)=>[ra(-f+C,0,e,10),ra(-g+v,0,n,10)]),[f,g,C,v]),M=(0,Ao.useCallback)((e=>{var n;(null===(n=e.originalEvent.target)||void 0===n?void 0:n.closest(".FCWindow__actions"))||k(!0)}),[]),T=(0,Ao.useCallback)((e=>{x&&(w([e.shiftX,e.shiftY]),e.originalEvent.preventDefault())}),[x]),P=(0,Ao.useCallback)((()=>{if(x){if(b(F(E+y,_+B)),w([0,0]),k(!1),A){const[n,t]=F(E+y,_+B);A(e,[Math.abs(n),Math.abs(t)])}D.current||(D.current=!0)}}),[E,_,y,B,F,A,e,x]),O=(0,Ao.useCallback)((n=>{(!n.target||!n.target.closest(".FCWindow__close"))&&p&&p(e)}),[e,p]),[z,N]=F(E+y,_+B),j=Math.abs(N)>0;return po().createElement("section",{className:Ho()("FCWindow",h,{"FCWindow--dragging":x,"FCWindow--active":d,"FCWindow--blocked":S,"FCWindow--rounded":j}),style:Object.assign(Object.assign({},i),{transform:`translate3d(${z}px, ${N}px, 0)`,transformOrigin:"right bottom",width:C,height:v}),onMouseDown:O,onAnimationEnd:()=>I(!1)},po().createElement(mo.Touch,{className:"FCWindow__header",Component:"header",onStart:M,onMove:T,onEnd:P},po().createElement("h1",{className:"FCWindow__title"},n),po().createElement("div",{className:"FCWindow__actions"},r,po().createElement(Zi,{content:m.use("me_fc_close"),position:"top",align:"center",delay:1500},po().createElement(Ji,{label:m.use("me_fc_close"),className:"FCWindow__close",onClick:()=>t(e)},po().createElement(Uo,null))))),po().createElement("main",{className:"FCWindow__content"},a),o&&po().createElement("footer",{className:"FCWindow__footer"},o))};function ra(e,n,t,r){const o=Math.max(e,Math.min(n,t));return Math.abs(o-e)<r?e:Math.abs(o-n)<r?n:o}var oa=u(1198),ia={};ia.styleTagTransform=h(),ia.setAttributes=l(),ia.insert=a().bind(null,"head"),ia.domAPI=o(),ia.insertStyleElement=A(),n()(oa.Z,ia),oa.Z&&oa.Z.locals&&oa.Z.locals;var aa="0 0 16 16",sa="cancel_16",la=!1;function ca(){la||(ko(new(Eo())({id:sa,viewBox:aa,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="cancel_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M8 6.727l3.464-3.463a.9.9 0 111.272 1.272L9.273 8l3.463 3.464a.9.9 0 11-1.272 1.272L8 9.273l-3.464 3.463a.9.9 0 11-1.272-1.272L6.727 8 3.264 4.536a.9.9 0 011.272-1.272L8 6.727z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),la=!0)}var ua=function(e){return Do((function(){ca()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:aa,id:sa,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};ua.mountIcon=ca;const da=ua,Aa=({isListOpened:e,isWide:n=!1,isCollapsed:t=!1,onListToggle:r,onWidthToggle:o,children:i})=>{const{lang:a}=wi(),s=e=>{e.preventDefault()};return po().createElement("aside",{className:Ho()("FCPanel",{"FCPanel--listOpened":e,"FCPanel--wide":n,"FCPanel--collapsed":t})},po().createElement(Zi,{content:n?a.use("me_fc_collapse_panel"):a.use("me_fc_expand_panel"),position:"left",delay:800},po().createElement("button",{className:"FCPanel__widthToggle",onClick:o,onMouseDown:s,"aria-label":n?a.use("me_fc_collapse_panel"):a.use("me_fc_expand_panel")},po().createElement("svg",{className:"FCPanel__widthToggleIcon","aria-hidden":"true"},po().createElement("use",{href:"#meExpand"})))),po().createElement("div",{className:"FCPanel__list"},i),po().createElement(Zi,{content:e?a.use("me_fc_hide_convo_list"):a.use("me_fc_show_convo_list"),position:"left",delay:500},po().createElement("button",{className:"FCPanel__add",onMouseDown:s,onClick:r,"aria-label":n?a.use("me_fc_collapse_panel"):a.use("me_fc_expand_panel")},e?po().createElement(da,{className:"FCPanel__addIcon"}):po().createElement("svg",{className:"FCPanel__addIcon",width:"16",height:"16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},po().createElement("path",{d:"M8 2c3.59 0 6.5 2.582 6.5 5.766 0 3.185-2.91 5.766-6.5 5.766a7.28 7.28 0 01-1.771-.216c-.738.673-1.969 1.232-3.692 1.675a.294.294 0 01-.22-.03.313.313 0 01-.117-.42l.126-.234c.553-1.048.885-1.895.994-2.541-1.127-1.036-1.82-2.446-1.82-4C1.5 4.582 4.41 2 8 2z"})),n&&po().createElement("span",{className:"FCPanel__addText"},a.use("me_fc_convo_list")))))};var pa=u(3913),ha={};ha.styleTagTransform=h(),ha.setAttributes=l(),ha.insert=a().bind(null,"head"),ha.domAPI=o(),ha.insertStyleElement=A(),n()(pa.Z,ha),pa.Z&&pa.Z.locals&&pa.Z.locals;var ma=u(1121),fa={};fa.styleTagTransform=h(),fa.setAttributes=l(),fa.insert=a().bind(null,"head"),fa.domAPI=o(),fa.insertStyleElement=A(),n()(ma.Z,fa),ma.Z&&ma.Z.locals&&ma.Z.locals;var ga="0 0 16 16",Ca="search_outline_16",va=!1;function Ea(){va||(ko(new(Eo())({id:Ca,viewBox:ga,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="search_outline_16"><path d="M6.5 1a5.5 5.5 0 014.383 8.823l3.896 3.9a.75.75 0 01-1.061 1.06l-3.895-3.9A5.5 5.5 0 116.5 1zm0 1.5a4 4 0 100 8 4 4 0 000-8z" fill="currentColor" /></symbol>'})),va=!0)}var _a=function(e){return Do((function(){Ea()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:ga,id:Ca,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};_a.mountIcon=Ea;const ba=_a,ya=po().memo((function(e){const n=(0,Ao.useRef)(null);return(0,Ao.useEffect)((()=>{var e;null===(e=n.current)||void 0===e||e.focus()}),[]),po().createElement("div",{className:"FCSearch"},po().createElement(ba,{className:"FCSearch__icon"}),po().createElement("input",Object.assign({ref:n,type:"text",placeholder:e.placeholder,onInput:e.onChange,autoComplete:"off",spellCheck:!1},e,{className:"FCSearch__input"})))}));var Ba=u(5096),wa={};wa.styleTagTransform=h(),wa.setAttributes=l(),wa.insert=a().bind(null,"head"),wa.domAPI=o(),wa.insertStyleElement=A(),n()(Ba.Z,wa),Ba.Z&&Ba.Z.locals&&Ba.Z.locals;var xa=u(6355),ka={};ka.styleTagTransform=h(),ka.setAttributes=l(),ka.insert=a().bind(null,"head"),ka.domAPI=o(),ka.insertStyleElement=A(),n()(xa.Z,ka),xa.Z&&xa.Z.locals&&xa.Z.locals;var Da="0 0 8 12",Sa="online_mobile_12",Ia=!1;function Fa(){Ia||(ko(new(Eo())({id:Sa,viewBox:Da,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 12" id="online_mobile_12"><path d="M2.01 0h3.98C7.1 0 8 .9 8 2.01v7.98C8 11.1 7.1 12 5.99 12H2.01C.9 12 0 11.1 0 9.99V2.01C0 .9.9 0 2.01 0zm-.007 3a.502.502 0 00-.503.502v4.996c0 .277.225.502.502.502h3.995a.502.502 0 00.503-.502V3.503A.502.502 0 005.997 3H2.003z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),Ia=!0)}var Ma=function(e){return Do((function(){Fa()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Da,id:Sa,width:isNaN(e.width)?8:+e.width,height:isNaN(e.height)?12:+e.height}))};Ma.mountIcon=Fa;const Ta=Ma;var Pa=u(6661),Oa={};Oa.styleTagTransform=h(),Oa.setAttributes=l(),Oa.insert=a().bind(null,"head"),Oa.domAPI=o(),Oa.insertStyleElement=A(),n()(Pa.Z,Oa),Pa.Z&&Pa.Z.locals&&Pa.Z.locals;var za=u(1938),Na=u.n(za);const ja=({peer:e,size:n,style:t})=>{const r=Math.abs(e.id%6);return po().createElement("div",{style:t,className:Ho()("AvatarNoPhoto",`AvatarNoPhoto--color-${r}`,`AvatarNoPhoto--size-${n}`)},function(e){const n=e=>{const n=Na()().exec(e);return n&&0===n.index?n[0]:(Array.from(e)[0]||"").toUpperCase()};let t="";switch(e.kind){case"User":t=[e.firstName,e.lastName].filter(Boolean).map(n).join("");break;case"Group":t=n(e.name);break;case"Chat":t=n(e.title);break;default:ye()}return t}(e))},La=po().memo((function({peer:e,size:n,activityIndicator:t,withOnline:r=!1,activeCall:o,className:i}){const a=ti(e.id),s=hi(),l=function(e,n){if("User"!==e.kind)return"Offline";if(n)switch(e.lastSeen.platform){case"mobile":return"Mobile";case"vkme":return"Me";case"other":return"Online";default:return ye(e.lastSeen.platform)}return"Offline"}(e,r&&a),c=!!o,u=(0,Ao.useMemo)((()=>s?e.photo100:e.photo50),[s,e.photo50,e.photo100]),d=(0,Ao.useMemo)((()=>({width:n,height:n})),[n]),A=function(e,n,t){return`mePeerFrame${e}${n}${t?"c":""}`}(l,n,c),p=(0,Ao.useMemo)((()=>({clipPath:`url(#${A}Mask)`})),[A]),h=Ho()("MEAvatar",`MEAvatar--size-${n}`,{"MEAvatar--withActivity":!!t,"MEAvatar--emptyCall":"empty"===o},i);return po().createElement("figure",{style:d,className:h},po().createElement("div",{className:"MEAvatar__imgWrapper",style:p},u?po().createElement("img",{className:"MEAvatar__img",alt:Oe(e),src:u,loading:"lazy"}):po().createElement(ja,{peer:e,size:n}),t&&po().createElement("div",{className:"MEAvatar__activityIndicator"},t)),function(e){switch(e){case"Me":return po().createElement("svg",{className:"MEAvatar__me"},po().createElement("use",{href:"#meOnlineVkMe"}));case"Mobile":return po().createElement("div",{className:"MEAvatar__mobile"},po().createElement(Ta,null));case"Online":return po().createElement("div",{className:"MEAvatar__online"});case"Offline":return"";default:ye()}}(l),c&&po().createElement("div",{className:"MEAvatar__call"},po().createElement("svg",{className:"MEAvatar__callIcon"},po().createElement("use",{href:"#mePhone10"}))),po().createElement("svg",{className:"MEAvatar__svg"},po().createElement("clipPath",{id:A+"Mask"},po().createElement("use",{href:"#"+A})),po().createElement("use",{href:"#"+A,className:"MEAvatar__shadow",clipPath:p.clipPath})))}));var Ra=u(7661),Ua={};Ua.styleTagTransform=h(),Ua.setAttributes=l(),Ua.insert=a().bind(null,"head"),Ua.domAPI=o(),Ua.insertStyleElement=A(),n()(Ra.Z,Ua),Ra.Z&&Ra.Z.locals&&Ra.Z.locals;var Wa="0 0 16 16",Ha="verified_16",qa=!1;function Za(){qa||(ko(new(Eo())({id:Ha,viewBox:Wa,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="verified_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M4.5 9.586L2.957 8.043a1 1 0 00-1.414 1.414l2.25 2.25a1 1 0 001.414 0l5.25-5.25a1 1 0 10-1.414-1.414L4.5 9.586z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),qa=!0)}var Va=function(e){return Do((function(){Za()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Wa,id:Ha,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};Va.mountIcon=Za;const Ya=Va;var Ga="0 0 16 16",$a="muted_16",Xa=!1;function Ka(){Xa||(ko(new(Eo())({id:$a,viewBox:Ga,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="muted_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M7.655 4.84l2.857-2.344c.27 0 .488.218.488.488v5.201l2.596 2.596a.75.75 0 11-1.06 1.061L4.404 3.71a.75.75 0 111.06-1.06l2.191 2.19zm-2.965.657l6.31 6.31v1.701c0 .27-.218.488-.488.488l-3.635-3.489-2.88-.008A1 1 0 013 9.5V6.497a1 1 0 011-1h.69z" fill="currentColor" /></g></symbol>'})),Xa=!0)}var Qa=function(e){return Do((function(){Ka()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Ga,id:$a,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};Qa.mountIcon=Ka;const Ja=Qa,es=po().memo((function({peer:e,isMuted:n,isShortened:t=!1,className:r}){const{lang:o}=wi(),i=bi(),a=t?Ne(e):Oe(e),s=i.id===e.id?o.use("me_favorites"):a;return po().createElement("div",{className:Ho()("ConvoTitle",r)},po().createElement("div",{className:"ConvoTitle__title"},s),"Chat"!==e.kind&&e.isVerified&&po().createElement("div",{className:"ConvoTitle__icon ConvoTitle__verifiedIcon"},po().createElement(Ya,null)),n&&po().createElement("span",{className:"ConvoTitle__icon ConvoTitle__mutedIcon"},po().createElement(Ja,null)))}));var ns="0 0 12 12",ts="bomb_12",rs=!1;function os(){rs||(ko(new(Eo())({id:ts,viewBox:ns,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="bomb_12"><path d="M7.84 1.49a.6.6 0 10-1.18.22l.15.8a.6.6 0 001.18-.22l-.15-.8zm2.384.287a.6.6 0 01.002.848l-.6.602a.6.6 0 01-.85-.847l.6-.602a.6.6 0 01.848-.001z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M7.823 4.174a.6.6 0 01.003.849l-.462.465a3.5 3.5 0 11-.848-.85l.458-.46a.6.6 0 01.849-.004zM6.8 7.5a2.3 2.3 0 11-4.6 0 2.3 2.3 0 014.6 0z" fill="currentColor" /><path d="M10.99 4.86a.6.6 0 01-.7.48l-.8-.15a.6.6 0 01.22-1.18l.8.15a.6.6 0 01.48.7z" fill="currentColor" /></symbol>'})),rs=!0)}var is=function(e){return Do((function(){os()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:ns,id:ts,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};is.mountIcon=os;const as=is;var ss="0 0 12 12",ls="mention_12",cs=!1;function us(){cs||(ko(new(Eo())({id:ls,viewBox:ss,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="mention_12"><g fill="none" fill-rule="evenodd"><path d="M0 0h12v12H0z" /><path d="M6.165 11c.764 0 1.443-.096 1.895-.246.367-.12.495-.28.495-.49 0-.21-.14-.342-.391-.342-.061 0-.14.006-.239.024-.55.132-.971.216-1.57.216-2.629 0-4.401-1.497-4.401-4.09 0-2.51 1.644-4.24 4.144-4.24 2.182 0 3.948 1.312 3.948 3.725 0 1.257-.464 2.138-1.143 2.138-.44 0-.678-.234-.678-.641v-2.97c0-.335-.196-.54-.526-.54-.324 0-.525.205-.525.54v.3h-.062c-.25-.534-.819-.84-1.491-.84-1.216 0-2.078 1.007-2.078 2.486 0 1.503.862 2.533 2.12 2.533.71 0 1.26-.347 1.529-.958h.061c.11.605.685.958 1.443.958C10.12 8.563 11 7.275 11 5.485 11 2.755 8.952 1 6.11 1 3.09 1 1 2.982 1 6.036 1 9.15 3.164 11 6.165 11zm-.287-3.371c-.758 0-1.204-.6-1.204-1.593 0-.988.452-1.575 1.204-1.575.77 0 1.259.61 1.259 1.569 0 .982-.495 1.599-1.26 1.599z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),cs=!0)}var ds=function(e){return Do((function(){us()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:ss,id:ls,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};ds.mountIcon=us;const As=ds;var ps="0 0 16 16",hs="pin_16",ms=!1;function fs(){ms||(ko(new(Eo())({id:hs,viewBox:ps,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="pin_16"><path d="M10.235 2.106l3.657 3.663c.225.226.064.633-.263.633h-.523a.895.895 0 00-.633.263L10.758 8.38a.896.896 0 00-.262.633v2.996c0 .554-.7.858-1.1.456l-2.301-2.3-3.57 3.57a.893.893 0 11-1.264-1.263L5.83 8.898l-2.29-2.29c-.391-.392-.109-1.102.456-1.102H6.99a.895.895 0 00.633-.262L9.338 3.53a.896.896 0 00.263-.634V2.37c0-.32.403-.495.634-.263z" fill="currentColor" /></symbol>'})),ms=!0)}var gs=function(e){return Do((function(){fs()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:ps,id:hs,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};gs.mountIcon=fs;const Cs=gs;var vs=u(3024),Es={};Es.styleTagTransform=h(),Es.setAttributes=l(),Es.insert=a().bind(null,"head"),Es.domAPI=o(),Es.insertStyleElement=A(),n()(vs.Z,Es),vs.Z&&vs.Z.locals&&vs.Z.locals;const _s=({count:e,isMuted:n,className:t,size:r=20})=>po().createElement("div",{className:Ho()(t,"UnreadCounter",`UnreadCounter--size-${r}`,{"UnreadCounter--muted":n})},De(e));var bs=u(522),ys={};ys.styleTagTransform=h(),ys.setAttributes=l(),ys.insert=a().bind(null,"head"),ys.domAPI=o(),ys.insertStyleElement=A(),n()(bs.Z,ys),bs.Z&&bs.Z.locals&&bs.Z.locals;const Bs=({size:e,className:n})=>{const{lang:t}=wi(),r=(0,Ao.useMemo)((()=>({width:e,height:e})),[e]),o=Ho()("AvatarFavorites",n);return po().createElement("div",{style:r,className:o,"aria-label":t.use("me_favorites")},ws[e])},ws={24:po().createElement("svg",{fill:"currentColor",height:"12",width:"12",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},po().createElement("path",{d:"M5.55 1.29h.9c.58 0 1.05 0 1.42.03.38.03.71.1 1.01.25.49.24.88.64 1.13 1.12.15.3.21.63.25 1.01.03.38.03.84.03 1.42v3.7c0 .44 0 .8-.03 1.07-.02.27-.08.55-.25.77-.24.3-.61.48-1 .48-.28 0-.53-.12-.76-.27-.23-.15-.51-.36-.85-.63l-.82-.64a1.8 1.8 0 00-.47-.32.43.43 0 00-.22 0 1.8 1.8 0 00-.47.32l-.82.64c-.34.27-.62.48-.85.63-.23.15-.48.28-.76.27-.39 0-.76-.18-1-.48-.17-.22-.23-.5-.25-.77-.03-.28-.03-.63-.03-1.06v-3.7c0-.59 0-1.05.03-1.43.04-.38.1-.71.25-1.01.25-.48.64-.88 1.13-1.12.3-.16.63-.22 1-.25.38-.03.85-.03 1.43-.03zm-1.35.88c-.33.03-.53.08-.7.16-.32.16-.58.43-.74.75-.08.16-.13.36-.16.69-.03.34-.03.77-.03 1.37v3.67c0 .46 0 .77.02 1 .02.24.06.3.07.32.08.1.2.16.34.16.01 0 .09-.01.29-.14.2-.12.44-.32.8-.6l.8-.62.06-.04c.25-.2.46-.37.71-.43.22-.06.46-.06.68 0 .25.06.46.23.71.43l.06.04.8.62c.36.28.6.48.8.6.2.13.28.14.3.14.12 0 .25-.06.33-.16 0-.02.05-.08.07-.32.02-.23.02-.54.02-1V5.14c0-.6 0-1.03-.03-1.37a1.81 1.81 0 00-.16-.7 1.71 1.71 0 00-.75-.74 1.81 1.81 0 00-.69-.16c-.33-.03-.76-.03-1.37-.03h-.86c-.6 0-1.04 0-1.37.03z"})),32:po().createElement("svg",{fill:"currentColor",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},po().createElement("path",{d:"M7.4 1.71h1.2c.78 0 1.4 0 1.9.05.5.04.94.12 1.34.33.65.33 1.17.85 1.5 1.5.2.4.3.83.33 1.34.04.5.04 1.12.04 1.9v4.94c0 .58 0 1.05-.03 1.41-.03.37-.1.74-.34 1.03-.32.4-.8.65-1.33.65-.37 0-.7-.17-1.01-.36-.31-.2-.68-.5-1.14-.84l-1.09-.85a2.4 2.4 0 00-.62-.43.57.57 0 00-.3 0 2.4 2.4 0 00-.62.43l-1.1.85c-.45.35-.82.64-1.13.84-.3.2-.64.36-1.01.36-.52 0-1.01-.24-1.33-.65-.24-.3-.3-.66-.34-1.03-.03-.36-.03-.83-.03-1.4V6.82c0-.78 0-1.4.04-1.9s.13-.94.33-1.34c.33-.65.85-1.17 1.5-1.5.4-.2.83-.3 1.35-.33.5-.05 1.11-.05 1.9-.05zM5.6 2.9c-.44.04-.71.1-.92.22-.43.22-.78.57-1 1-.11.2-.18.48-.21.92a24.9 24.9 0 00-.04 1.83v4.88c0 .61 0 1.03.03 1.34.03.32.08.4.1.42.1.14.26.22.44.22.02 0 .12-.01.38-.19.26-.16.6-.42 1.08-.8l1.07-.83.07-.05c.33-.26.62-.48.95-.57.3-.08.6-.08.9 0 .33.09.62.31.95.57l.07.05 1.07.84c.49.37.82.63 1.08.8.26.17.36.18.38.18.18 0 .34-.08.45-.22.01-.02.06-.1.1-.42.02-.3.02-.73.02-1.34V6.86c0-.81 0-1.39-.04-1.83-.03-.44-.1-.71-.2-.92a2.29 2.29 0 00-1-1c-.22-.11-.49-.18-.93-.22a24.9 24.9 0 00-1.83-.03H7.43c-.81 0-1.38 0-1.83.03z"})),40:po().createElement("svg",{fill:"currentColor",height:"20",width:"20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},po().createElement("path",{d:"M9.25 2.14h1.5c.97 0 1.74 0 2.37.05a4.4 4.4 0 011.68.42c.8.41 1.46 1.07 1.88 1.87.25.5.36 1.05.41 1.69.05.62.05 1.4.05 2.37v6.18c0 .71 0 1.3-.04 1.76-.04.45-.13.92-.42 1.28-.4.51-1.01.8-1.66.81-.47 0-.89-.2-1.27-.45-.39-.25-.85-.6-1.42-1.05L10.96 16a3 3 0 00-.77-.54.71.71 0 00-.38 0 3 3 0 00-.77.54l-1.37 1.06c-.57.44-1.03.8-1.42 1.05-.38.24-.8.46-1.27.45-.65 0-1.26-.3-1.66-.8a2.36 2.36 0 01-.42-1.29c-.04-.46-.04-1.05-.04-1.76V8.54c0-.97 0-1.75.05-2.37a4.4 4.4 0 01.41-1.69A4.29 4.29 0 015.2 2.61a4.4 4.4 0 011.68-.42c.63-.05 1.4-.05 2.37-.05zM7 3.62c-.55.04-.89.13-1.15.26-.54.28-.98.71-1.25 1.25-.14.27-.22.6-.27 1.15-.04.56-.04 1.28-.04 2.3v6.1c0 .76 0 1.29.03 1.67.04.4.1.5.12.52.13.17.34.27.55.28.03 0 .16-.02.5-.23.32-.21.73-.53 1.33-1l1.34-1.04a41 41 0 00.09-.07c.4-.32.77-.6 1.19-.72.37-.1.75-.1 1.12 0 .42.12.78.4 1.2.72l.08.07 1.34 1.04c.6.47 1.01.79 1.34 1 .33.21.46.23.49.23.21 0 .42-.1.55-.27.02-.03.08-.13.12-.53.03-.38.03-.9.03-1.67v-6.1c0-1.02 0-1.74-.04-2.3a3.02 3.02 0 00-.27-1.15 2.86 2.86 0 00-1.25-1.25c-.26-.13-.6-.22-1.15-.26-.56-.05-1.27-.05-2.29-.05H9.3c-1.02 0-1.73 0-2.3.05z"})),44:po().createElement("svg",{fill:"currentColor",height:"22",width:"22",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},po().createElement("path",{d:"M10.18 2.36h1.64c1.07 0 1.92 0 2.61.05.7.06 1.3.18 1.85.46.89.45 1.61 1.17 2.06 2.06.28.55.4 1.15.46 1.85.06.7.06 1.54.06 2.61v6.8c0 .79 0 1.44-.05 1.94-.04.5-.14 1-.46 1.4-.44.57-1.12.9-1.83.9a2.6 2.6 0 01-1.4-.5c-.42-.27-.93-.67-1.56-1.15l-1.5-1.17a3.3 3.3 0 00-.85-.59.78.78 0 00-.42 0 3.3 3.3 0 00-.85.59l-1.5 1.17c-.63.48-1.14.88-1.56 1.15-.42.27-.89.5-1.4.5-.71 0-1.39-.33-1.83-.9a2.6 2.6 0 01-.46-1.4c-.05-.5-.05-1.15-.05-1.94v-6.8c0-1.07 0-1.92.06-2.6.06-.7.18-1.3.46-1.86a4.71 4.71 0 012.06-2.06c.55-.28 1.15-.4 1.85-.46.69-.05 1.54-.05 2.61-.05zM7.7 3.98c-.6.05-.98.14-1.27.3-.6.3-1.07.77-1.37 1.36-.15.3-.25.67-.3 1.27-.05.62-.05 1.4-.05 2.52v6.72c0 .84 0 1.41.04 1.84.04.43.11.55.13.57.15.19.38.3.61.3.04 0 .17-.01.54-.25.36-.23.81-.58 1.47-1.1l1.47-1.14.1-.08c.45-.35.85-.66 1.31-.79.4-.1.83-.1 1.24 0 .46.13.86.44 1.3.8l.1.07 1.48 1.14c.66.52 1.11.87 1.47 1.1.37.24.5.25.54.25.23 0 .46-.11.6-.3.03-.02.1-.14.14-.57.03-.43.04-1 .04-1.84V9.43c0-1.11 0-1.9-.06-2.52-.04-.6-.14-.97-.29-1.27-.3-.59-.78-1.07-1.37-1.37-.3-.15-.66-.24-1.27-.29-.61-.05-1.4-.05-2.51-.05H10.2c-1.1 0-1.9 0-2.51.05z"})),46:po().createElement("svg",{fill:"currentColor",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},po().createElement("path",{d:"M11.1 2.57h1.8c1.16 0 2.1 0 2.84.06.77.07 1.42.2 2.02.5.97.5 1.76 1.28 2.25 2.25.3.6.44 1.25.5 2.02.06.75.06 1.68.06 2.85v7.4c0 .87 0 1.58-.05 2.13-.05.54-.16 1.1-.5 1.53-.49.61-1.22.97-2 .98-.56 0-1.06-.25-1.52-.55-.47-.3-1.02-.73-1.7-1.26l-1.64-1.27a3.6 3.6 0 00-.94-.64.86.86 0 00-.44 0 3.6 3.6 0 00-.94.64L9.2 20.48c-.68.53-1.23.97-1.7 1.26-.46.3-.96.55-1.52.55-.78 0-1.51-.37-2-.98-.34-.44-.45-1-.5-1.53-.05-.55-.05-1.26-.05-2.12v-7.41c0-1.17 0-2.1.06-2.85.06-.77.2-1.42.5-2.02a5.14 5.14 0 012.25-2.25c.6-.3 1.25-.43 2.02-.5.75-.06 1.68-.06 2.85-.06zM8.4 4.34c-.66.06-1.07.16-1.39.32-.64.33-1.16.85-1.5 1.5-.16.32-.26.72-.31 1.38-.06.67-.06 1.53-.06 2.75v7.32c0 .92 0 1.55.05 2.01.04.48.12.6.14.63.16.2.4.32.66.33.04 0 .19-.02.59-.28.39-.25.88-.63 1.6-1.2l1.61-1.24.1-.09c.5-.38.93-.72 1.44-.86.44-.12.9-.12 1.34 0 .5.14.94.48 1.43.86l.11.09 1.6 1.24c.73.57 1.22.95 1.61 1.2.4.26.55.28.59.28.26 0 .5-.13.66-.33.02-.03.1-.15.14-.63.05-.46.05-1.09.05-2v-7.33c0-1.22 0-2.08-.06-2.75a3.62 3.62 0 00-.32-1.38 3.43 3.43 0 00-1.5-1.5 3.62 3.62 0 00-1.38-.32c-.67-.05-1.53-.05-2.74-.05h-1.72c-1.21 0-2.07 0-2.74.05z"}))},xs=({convo:e,peer:n,isFocused:t,onClick:r,style:o})=>{const{lang:i}=wi(),a=bi().id===n.id,s=Et(e),l=_t(e),c=(0,Ao.useCallback)((e=>{e.preventDefault()}),[]),u="ChatConvo"===e.kind&&e.activeCall?e.activeCall.participants.count>0?"filled":"empty":void 0;return po().createElement("button",{role:"tab",className:Ho()("FCConvoListItem",{"FCConvoListItem--focused":t,"FCConvoListItem--archived":e.isArchived,"FCConvoListItem--muted":Ct(e)&&!e.isArchived}),onClick:()=>r(e.peerId),onMouseDown:c,style:o,"aria-label":a?i.use("me_favorites"):Oe(n)},a?po().createElement(Bs,{size:32,className:"FCConvoListItem__photo"}):po().createElement(La,{size:32,peer:n,withOnline:!0,activeCall:u,className:"FCConvoListItem__photo"}),po().createElement(es,{peer:n,isMuted:Ct(e)}),po().createElement("div",{className:"FCConvoListItem__icons"},bt(e)&&po().createElement("div",{className:"FCConvoListItem__unreadOut"}),l&&po().createElement(po().Fragment,null,yt(e)&&po().createElement("div",{className:"FCConvoListItem__bombIcon"},po().createElement(as,null)),Bt(e)&&po().createElement("div",{className:"FCConvoListItem__mentionIcon"},po().createElement(As,null)),po().createElement(_s,{count:e.unreadCount,isMuted:Ct(e),size:18})),s&&!l&&po().createElement("div",{className:"FCConvoListItem__pinIcon"},po().createElement(Cs,null)),e.isArchived&&po().createElement("div",{className:"FCConvoListItem__archiveIcon","aria-label":i.use("me_convo_archived")})))};function ks(){return(ks=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Ds(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ss(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Is(e,n,t){return n&&Ss(e.prototype,n),t&&Ss(e,t),e}function Fs(e){return(Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ms(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ts(e,n){return!n||"object"!==Fs(n)&&"function"!=typeof n?Ms(e):n}function Ps(e){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Os(e,n){return(Os=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function zs(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Os(e,n)}function Ns(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function js(e){var n,t,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=js(e[n]))&&(r&&(r+=" "),r+=t);else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ls(){for(var e,n,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(n=js(e))&&(r&&(r+=" "),r+=n);return r}function Rs(e){var n=e.cellCount,t=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,l=e.scrollToIndex,c=e.updateScrollOffsetForScrollToIndex;n===i&&("number"!=typeof t&&"number"!=typeof a||t===a)||(r(o),l>=0&&l===s&&c())}function Us(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}function Ws(e,n){if(null==e)return{};var t,r,o=Us(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Hs=u(6723),qs=u.n(Hs),Zs=function(){function e(n){var t=n.cellCount,r=n.cellSizeGetter,o=n.estimatedCellSize;Ds(this,e),Ns(this,"_cellSizeAndPositionData",{}),Ns(this,"_lastMeasuredIndex",-1),Ns(this,"_lastBatchedIndex",-1),Ns(this,"_cellCount",void 0),Ns(this,"_cellSizeGetter",void 0),Ns(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=t,this._estimatedCellSize=o}return Is(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var n=e.cellCount,t=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=n,this._estimatedCellSize=t,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var n=this.getSizeAndPositionOfLastMeasuredCell(),t=n.offset+n.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(o));null===o?(this._cellSizeAndPositionData[r]={offset:t,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:t,size:o},t+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var n=e.align,t=void 0===n?"auto":n,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(r<=0)return 0;var a,s=this.getSizeAndPositionOfCell(i),l=s.offset,c=l-r+s.size;switch(t){case"start":a=l;break;case"end":a=c;break;case"center":a=l-(r-s.size)/2;break;default:a=Math.max(c,Math.min(l,o))}var u=this.getTotalSize();return Math.max(0,Math.min(u-r,a))}},{key:"getVisibleCellRange",value:function(e){var n=e.containerSize,t=e.offset;if(0===this.getTotalSize())return{};var r=t+n,o=this._findNearestCell(t),i=this.getSizeAndPositionOfCell(o);t=i.offset+i.size;for(var a=o;t<r&&a<this._cellCount-1;)a++,t+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,n,t){for(;n<=e;){var r=n+Math.floor((e-n)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===t)return r;o<t?n=r+1:o>t&&(e=r-1)}return n>0?n-1:0}},{key:"_exponentialSearch",value:function(e,n){for(var t=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<n;)e+=t,t*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),n)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var n=this.getSizeAndPositionOfLastMeasuredCell(),t=Math.max(0,this._lastMeasuredIndex);return n.offset>=e?this._binarySearch(t,0,e):this._exponentialSearch(t,e)}}]),e}(),Vs=function(){function e(n){var t=n.maxScrollSize,r=void 0===t?"undefined"!=typeof window&&window.chrome?16777100:15e5:t,o=Ws(n,["maxScrollSize"]);Ds(this,e),Ns(this,"_cellSizeAndPositionManager",void 0),Ns(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new Zs(o),this._maxScrollSize=r}return Is(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var n=e.containerSize,t=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:n,offset:t,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var n=e.align,t=void 0===n?"auto":n,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:t,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var n=e.containerSize,t=e.offset;return t=this._safeOffsetToOffset({containerSize:n,offset:t}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:n,offset:t})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var n=e.containerSize,t=e.offset,r=e.totalSize;return r<=n?0:t/(r-n)}},{key:"_offsetToSafeOffset",value:function(e){var n=e.containerSize,t=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return t;var i=this._getOffsetPercentage({containerSize:n,offset:t,totalSize:r});return Math.round(i*(o-n))}},{key:"_safeOffsetToOffset",value:function(e){var n=e.containerSize,t=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return t;var i=this._getOffsetPercentage({containerSize:n,offset:t,totalSize:o});return Math.round(i*(r-n))}}]),e}();function Ys(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n={};return function(t){var r=t.callback,o=t.indices,i=Object.keys(o),a=!e||i.every((function(e){var n=o[e];return Array.isArray(n)?n.length>0:n>=0})),s=i.length!==Object.keys(n).length||i.some((function(e){var t=n[e],r=o[e];return Array.isArray(r)?t.join(",")!==r.join(","):t!==r}));n=o,a&&s&&r(o)}}function Gs(e){var n=e.cellSize,t=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,l=e.scrollOffset,c=e.scrollToAlignment,u=e.scrollToIndex,d=e.size,A=e.sizeJustIncreasedFromZero,p=e.updateScrollIndexCallback,h=t.getCellCount(),m=u>=0&&u<h;m&&(d!==s||A||!o||"number"==typeof n&&n!==o||c!==i||u!==a)?p(u):!m&&h>0&&(d<s||h<r)&&l>t.getTotalSize()-d&&p(h-1)}const $s=!("undefined"==typeof window||!window.document||!window.document.createElement);var Xs,Ks;function Qs(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Js(e){this.setState(function(n){var t=this.constructor.getDerivedStateFromProps(e,n);return null!=t?t:null}.bind(this))}function el(e,n){try{var t=this.props,r=this.state;this.props=e,this.state=n,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}Qs.__suppressDeprecationWarning=!0,Js.__suppressDeprecationWarning=!0,el.__suppressDeprecationWarning=!0;var nl,tl,rl=(Ks="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||Ks.webkitRequestAnimationFrame||Ks.mozRequestAnimationFrame||Ks.oRequestAnimationFrame||Ks.msRequestAnimationFrame||function(e){return Ks.setTimeout(e,1e3/60)},ol=Ks.cancelAnimationFrame||Ks.webkitCancelAnimationFrame||Ks.mozCancelAnimationFrame||Ks.oCancelAnimationFrame||Ks.msCancelAnimationFrame||function(e){Ks.clearTimeout(e)},il=rl,al=ol,sl=function(e){return al(e.id)};function ll(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function cl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ll(t,!0).forEach((function(n){Ns(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ll(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ul="requested",dl=(tl=nl=function(e){function n(e){var t;Ds(this,n),Ns(Ms(t=Ts(this,Ps(n).call(this,e))),"_onGridRenderedMemoizer",Ys()),Ns(Ms(t),"_onScrollMemoizer",Ys(!1)),Ns(Ms(t),"_deferredInvalidateColumnIndex",null),Ns(Ms(t),"_deferredInvalidateRowIndex",null),Ns(Ms(t),"_recomputeScrollLeftFlag",!1),Ns(Ms(t),"_recomputeScrollTopFlag",!1),Ns(Ms(t),"_horizontalScrollBarSize",0),Ns(Ms(t),"_verticalScrollBarSize",0),Ns(Ms(t),"_scrollbarPresenceChanged",!1),Ns(Ms(t),"_scrollingContainer",void 0),Ns(Ms(t),"_childrenToDisplay",void 0),Ns(Ms(t),"_columnStartIndex",void 0),Ns(Ms(t),"_columnStopIndex",void 0),Ns(Ms(t),"_rowStartIndex",void 0),Ns(Ms(t),"_rowStopIndex",void 0),Ns(Ms(t),"_renderedColumnStartIndex",0),Ns(Ms(t),"_renderedColumnStopIndex",0),Ns(Ms(t),"_renderedRowStartIndex",0),Ns(Ms(t),"_renderedRowStopIndex",0),Ns(Ms(t),"_initialScrollTop",void 0),Ns(Ms(t),"_initialScrollLeft",void 0),Ns(Ms(t),"_disablePointerEventsTimeoutId",void 0),Ns(Ms(t),"_styleCache",{}),Ns(Ms(t),"_cellCache",{}),Ns(Ms(t),"_debounceScrollEndedCallback",(function(){t._disablePointerEventsTimeoutId=null,t.setState({isScrolling:!1,needToResetStyleCache:!1})})),Ns(Ms(t),"_invokeOnGridRenderedHelper",(function(){var e=t.props.onSectionRendered;t._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:t._columnStartIndex,columnOverscanStopIndex:t._columnStopIndex,columnStartIndex:t._renderedColumnStartIndex,columnStopIndex:t._renderedColumnStopIndex,rowOverscanStartIndex:t._rowStartIndex,rowOverscanStopIndex:t._rowStopIndex,rowStartIndex:t._renderedRowStartIndex,rowStopIndex:t._renderedRowStopIndex}})})),Ns(Ms(t),"_setScrollingContainerRef",(function(e){t._scrollingContainer=e})),Ns(Ms(t),"_onScroll",(function(e){e.target===t._scrollingContainer&&t.handleScrollEvent(e.target)}));var r=new Vs({cellCount:e.columnCount,cellSizeGetter:function(t){return n._wrapSizeGetter(e.columnWidth)(t)},estimatedCellSize:n._getEstimatedColumnSize(e)}),o=new Vs({cellCount:e.rowCount,cellSizeGetter:function(t){return n._wrapSizeGetter(e.rowHeight)(t)},estimatedCellSize:n._getEstimatedRowSize(e)});return t.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(t._initialScrollTop=t._getCalculatedScrollTop(e,t.state)),e.scrollToColumn>0&&(t._initialScrollLeft=t._getCalculatedScrollLeft(e,t.state)),t}return zs(n,e),Is(n,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.alignment,t=void 0===n?this.props.scrollToAlignment:n,r=e.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,s=cl({},this.props,{scrollToAlignment:t,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var n=e.scrollLeft,t=void 0===n?0:n,r=e.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,s=i.autoWidth,l=i.height,c=i.width,u=this.state.instanceProps,d=u.scrollbarSize,A=u.rowSizeAndPositionManager.getTotalSize(),p=u.columnSizeAndPositionManager.getTotalSize(),h=Math.min(Math.max(0,p-c+d),t),m=Math.min(Math.max(0,A-l+d),o);if(this.state.scrollLeft!==h||this.state.scrollTop!==m){var f={isScrolling:!0,scrollDirectionHorizontal:h!==this.state.scrollLeft?h>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:"observed"};a||(f.scrollTop=m),s||(f.scrollLeft=h),f.needToResetStyleCache=!1,this.setState(f)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:m,totalColumnsWidth:p,totalRowsHeight:A})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var n=e.columnIndex,t=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,t):t}},{key:"measureAllCells",value:function(){var e=this.props,n=e.columnCount,t=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(n-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(t-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.columnIndex,t=void 0===n?0:n,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,s=i.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(t),l.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(1===this.state.scrollDirectionHorizontal?t<=a:t>=a),this._recomputeScrollTopFlag=s>=0&&(1===this.state.scrollDirectionVertical?o<=s:o>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var n=e.columnIndex,t=e.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==n&&this._updateScrollLeftForScrollToColumn(cl({},o,{scrollToColumn:n})),void 0!==t&&this._updateScrollTopForScrollToRow(cl({},o,{scrollToRow:t}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.getScrollbarSize,r=e.height,o=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,s=e.scrollToRow,l=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState((function(e){var n=cl({},e,{needToResetStyleCache:!1});return n.instanceProps.scrollbarSize=t(),n.instanceProps.scrollbarSizeMeasured=!0,n})),"number"==typeof o&&o>=0||"number"==typeof a&&a>=0){var u=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var d=r>0&&l>0;i>=0&&d&&this._updateScrollLeftForScrollToColumn(),s>=0&&d&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,n){var t=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,s=r.height,l=r.rowCount,c=r.scrollToAlignment,u=r.scrollToColumn,d=r.scrollToRow,A=r.width,p=this.state,h=p.scrollLeft,m=p.scrollPositionChangeReason,f=p.scrollTop,g=p.instanceProps;this._handleInvalidatedGridSize();var C=a>0&&0===e.columnCount||l>0&&0===e.rowCount;m===ul&&(!i&&h>=0&&(h!==this._scrollingContainer.scrollLeft||C)&&(this._scrollingContainer.scrollLeft=h),!o&&f>=0&&(f!==this._scrollingContainer.scrollTop||C)&&(this._scrollingContainer.scrollTop=f));var v=(0===e.width||0===e.height)&&s>0&&A>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Gs({cellSizeAndPositionManager:g.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:h,scrollToAlignment:c,scrollToIndex:u,size:A,sizeJustIncreasedFromZero:v,updateScrollIndexCallback:function(){return t._updateScrollLeftForScrollToColumn(t.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Gs({cellSizeAndPositionManager:g.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:f,scrollToAlignment:c,scrollToIndex:d,size:s,sizeJustIncreasedFromZero:v,updateScrollIndexCallback:function(){return t._updateScrollTopForScrollToRow(t.props)}}),this._invokeOnGridRenderedHelper(),h!==n.scrollLeft||f!==n.scrollTop){var E=g.rowSizeAndPositionManager.getTotalSize(),_=g.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:f,totalColumnsWidth:_,totalRowsHeight:E})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&sl(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,n=e.autoContainerWidth,t=e.autoHeight,r=e.autoWidth,o=e.className,i=e.containerProps,a=e.containerRole,s=e.containerStyle,l=e.height,c=e.id,u=e.noContentRenderer,d=e.role,A=e.style,p=e.tabIndex,h=e.width,m=this.state,f=m.instanceProps,g=m.needToResetStyleCache,C=this._isScrolling(),v={boxSizing:"border-box",direction:"ltr",height:t?"auto":l,position:"relative",width:r?"auto":h,WebkitOverflowScrolling:"touch",willChange:"transform"};g&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var E=f.columnSizeAndPositionManager.getTotalSize(),_=f.rowSizeAndPositionManager.getTotalSize(),b=_>l?f.scrollbarSize:0,y=E>h?f.scrollbarSize:0;y===this._horizontalScrollBarSize&&b===this._verticalScrollBarSize||(this._horizontalScrollBarSize=y,this._verticalScrollBarSize=b,this._scrollbarPresenceChanged=!0),v.overflowX=E+b<=h?"hidden":"auto",v.overflowY=_+y<=l?"hidden":"auto";var B=this._childrenToDisplay,w=0===B.length&&l>0&&h>0;return Ao.createElement("div",ks({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Ls("ReactVirtualized__Grid",o),id:c,onScroll:this._onScroll,role:d,style:cl({},v,{},A),tabIndex:p}),B.length>0&&Ao.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:cl({width:n?"auto":E,height:_,maxWidth:E,maxHeight:_,overflow:"hidden",pointerEvents:C?"none":"",position:"relative"},s)},B),w&&u())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,t=e.cellRenderer,r=e.cellRangeRenderer,o=e.columnCount,i=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,l=e.overscanIndicesGetter,c=e.overscanRowCount,u=e.rowCount,d=e.width,A=e.isScrollingOptOut,p=n.scrollDirectionHorizontal,h=n.scrollDirectionVertical,m=n.instanceProps,f=this._initialScrollTop>0?this._initialScrollTop:n.scrollTop,g=this._initialScrollLeft>0?this._initialScrollLeft:n.scrollLeft,C=this._isScrolling(e,n);if(this._childrenToDisplay=[],a>0&&d>0){var v=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:g}),E=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:f}),_=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:g}),b=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:f});this._renderedColumnStartIndex=v.start,this._renderedColumnStopIndex=v.stop,this._renderedRowStartIndex=E.start,this._renderedRowStopIndex=E.stop;var y=l({direction:"horizontal",cellCount:o,overscanCellsCount:s,scrollDirection:p,startIndex:"number"==typeof v.start?v.start:0,stopIndex:"number"==typeof v.stop?v.stop:-1}),B=l({direction:"vertical",cellCount:u,overscanCellsCount:c,scrollDirection:h,startIndex:"number"==typeof E.start?E.start:0,stopIndex:"number"==typeof E.stop?E.stop:-1}),w=y.overscanStartIndex,x=y.overscanStopIndex,k=B.overscanStartIndex,D=B.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var S=k;S<=D;S++)if(!i.has(S,0)){w=0,x=o-1;break}if(!i.hasFixedWidth())for(var I=w;I<=x;I++)if(!i.has(0,I)){k=0,D=u-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:t,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:w,columnStopIndex:x,deferredMeasurementCache:i,horizontalOffsetAdjustment:_,isScrolling:C,isScrollingOptOut:A,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:k,rowStopIndex:D,scrollLeft:g,scrollTop:f,styleCache:this._styleCache,verticalOffsetAdjustment:b,visibleColumnIndices:v,visibleRowIndices:E}),this._columnStartIndex=w,this._columnStopIndex=x,this._rowStartIndex=k,this._rowStopIndex=D}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&sl(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=function(e,n){var t;Promise.resolve().then((function(){t=Date.now()}));var r={id:il((function o(){Date.now()-t>=n?e.call():r.id=il(o)}))};return r}(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,n=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:n})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var n=this,t=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var t=e.scrollLeft,r=e.scrollTop,a=n.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:t,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:t,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(n.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var t=e.scrollLeft,r=e.scrollTop,o=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:t,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return n._getCalculatedScrollLeft(e,t)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=n._getScrollLeftForScrollToColumnStateUpdate(e,t);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return n._getCalculatedScrollTop(e,t)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,n=this._cellCache,t=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i="".concat(r,"-").concat(o);this._styleCache[i]=e[i],t&&(this._cellCache[i]=n[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=n._getScrollTopForScrollToRowStateUpdate(e,t);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r={};0===e.columnCount&&0!==t.scrollLeft||0===e.rowCount&&0!==t.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==t.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==t.scrollTop&&e.scrollToRow<0)&&Object.assign(r,n._getScrollToPositionStateUpdate({prevState:t,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var o,i,a=t.instanceProps;return r.needToResetStyleCache=!1,e.columnWidth===a.prevColumnWidth&&e.rowHeight===a.prevRowHeight||(r.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:n._getEstimatedColumnSize(e),cellSizeGetter:n._wrapSizeGetter(e.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:n._getEstimatedRowSize(e),cellSizeGetter:n._wrapSizeGetter(e.rowHeight)}),0!==a.prevColumnCount&&0!==a.prevRowCount||(a.prevColumnCount=0,a.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===a.prevIsScrolling&&Object.assign(r,{isScrolling:!1}),Rs({cellCount:a.prevColumnCount,cellSize:"number"==typeof a.prevColumnWidth?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=n._getScrollLeftForScrollToColumnStateUpdate(e,t)}}),Rs({cellCount:a.prevRowCount,cellSize:"number"==typeof a.prevRowHeight?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=n._getScrollTopForScrollToRowStateUpdate(e,t)}}),a.prevColumnCount=e.columnCount,a.prevColumnWidth=e.columnWidth,a.prevIsScrolling=!0===e.isScrolling,a.prevRowCount=e.rowCount,a.prevRowHeight=e.rowHeight,a.prevScrollToColumn=e.scrollToColumn,a.prevScrollToRow=e.scrollToRow,a.scrollbarSize=e.getScrollbarSize(),void 0===a.scrollbarSize?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,r.instanceProps=a,cl({},r,{},o,{},i)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var n=e.prevState,t=e.scrollLeft,r=e.scrollTop,o={scrollPositionChangeReason:ul};return"number"==typeof t&&t>=0&&(o.scrollDirectionHorizontal=t>n.scrollLeft?1:-1,o.scrollLeft=t),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>n.scrollTop?1:-1,o.scrollTop=r),"number"==typeof t&&t>=0&&t!==n.scrollLeft||"number"==typeof r&&r>=0&&r!==n.scrollTop?o:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,n){var t=e.columnCount,r=e.height,o=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,s=n.scrollLeft,l=n.instanceProps;if(t>0){var c=t-1,u=i<0?c:Math.min(c,i),d=l.rowSizeAndPositionManager.getTotalSize(),A=l.scrollbarSizeMeasured&&d>r?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-A,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,t){var r=t.scrollLeft,o=n._getCalculatedScrollLeft(e,t);return"number"==typeof o&&o>=0&&r!==o?n._getScrollToPositionStateUpdate({prevState:t,scrollLeft:o,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,n){var t=e.height,r=e.rowCount,o=e.scrollToAlignment,i=e.scrollToRow,a=e.width,s=n.scrollTop,l=n.instanceProps;if(r>0){var c=r-1,u=i<0?c:Math.min(c,i),d=l.columnSizeAndPositionManager.getTotalSize(),A=l.scrollbarSizeMeasured&&d>a?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:t-A,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,t){var r=t.scrollTop,o=n._getCalculatedScrollTop(e,t);return"number"==typeof o&&o>=0&&r!==o?n._getScrollToPositionStateUpdate({prevState:t,scrollLeft:-1,scrollTop:o}):{}}}]),n}(Ao.PureComponent),Ns(nl,"propTypes",null),tl);Ns(dl,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var n=e.cellCache,t=e.cellRenderer,r=e.columnSizeAndPositionManager,o=e.columnStartIndex,i=e.columnStopIndex,a=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,l=e.isScrolling,c=e.isScrollingOptOut,u=e.parent,d=e.rowSizeAndPositionManager,A=e.rowStartIndex,p=e.rowStopIndex,h=e.styleCache,m=e.verticalOffsetAdjustment,f=e.visibleColumnIndices,g=e.visibleRowIndices,C=[],v=r.areOffsetsAdjusted()||d.areOffsetsAdjusted(),E=!l&&!v,_=A;_<=p;_++)for(var b=d.getSizeAndPositionOfCell(_),y=o;y<=i;y++){var B=r.getSizeAndPositionOfCell(y),w=y>=f.start&&y<=f.stop&&_>=g.start&&_<=g.stop,x="".concat(_,"-").concat(y),k=void 0;E&&h[x]?k=h[x]:a&&!a.has(_,y)?k={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(k={height:b.size,left:B.offset+s,position:"absolute",top:b.offset+m,width:B.size},h[x]=k);var D={columnIndex:y,isScrolling:l,isVisible:w,key:x,parent:u,rowIndex:_,style:k},S=void 0;!c&&!l||s||m?S=t(D):(n[x]||(n[x]=t(D)),S=n[x]),null!=S&&!1!==S&&C.push(S)}return C},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:function(e){if((!Xs&&0!==Xs||e)&&$s){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),Xs=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return Xs},noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var n=e.cellCount,t=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(n-1,i+t)}:{overscanStartIndex:Math.max(0,o-t),overscanStopIndex:Math.min(n-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),function(e){var n=e.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof n.getSnapshotBeforeUpdate)return e;var t=null,r=null,o=null;if("function"==typeof n.componentWillMount?t="componentWillMount":"function"==typeof n.UNSAFE_componentWillMount&&(t="UNSAFE_componentWillMount"),"function"==typeof n.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof n.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof n.componentWillUpdate?o="componentWillUpdate":"function"==typeof n.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==t||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==t?"\n  "+t:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(n.componentWillMount=Qs,n.componentWillReceiveProps=Js),"function"==typeof n.getSnapshotBeforeUpdate){if("function"!=typeof n.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");n.componentWillUpdate=el;var s=n.componentDidUpdate;n.componentDidUpdate=function(e,n,t){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:t;s.call(this,e,n,r)}}}(dl);const Al=dl;var pl,hl,ml=(hl=pl=function(e){function n(){var e,t;Ds(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ns(Ms(t=Ts(this,(e=Ps(n)).call.apply(e,[this].concat(o)))),"Grid",void 0),Ns(Ms(t),"_cellRenderer",(function(e){var n=e.parent,r=e.rowIndex,o=e.style,i=e.isScrolling,a=e.isVisible,s=e.key,l=t.props.rowRenderer,c=Object.getOwnPropertyDescriptor(o,"width");return c&&c.writable&&(o.width="100%"),l({index:r,style:o,isScrolling:i,isVisible:a,key:s,parent:n})})),Ns(Ms(t),"_setRef",(function(e){t.Grid=e})),Ns(Ms(t),"_onScroll",(function(e){var n=e.clientHeight,r=e.scrollHeight,o=e.scrollTop;(0,t.props.onScroll)({clientHeight:n,scrollHeight:r,scrollTop:o})})),Ns(Ms(t),"_onSectionRendered",(function(e){var n=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;(0,t.props.onRowsRendered)({overscanStartIndex:n,overscanStopIndex:r,startIndex:o,stopIndex:i})})),t}return zs(n,e),Is(n,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var n=e.alignment,t=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:n,rowIndex:t,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var n=e.columnIndex,t=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:t,columnIndex:n})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.columnIndex,t=void 0===n?0:n,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:t})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,n=e.className,t=e.noRowsRenderer,r=e.scrollToIndex,o=e.width,i=Ls("ReactVirtualized__List",n);return Ao.createElement(Al,ks({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:i,columnWidth:o,columnCount:1,noContentRenderer:t,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),n}(Ao.PureComponent),Ns(pl,"propTypes",null),hl);Ns(ml,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:function(e){var n=e.cellCount,t=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return t=Math.max(1,t),1===r?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(n-1,i+t)}:{overscanStartIndex:Math.max(0,o-t),overscanStopIndex:Math.min(n-1,i+1)}},overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var fl=u(5701),gl={};gl.styleTagTransform=h(),gl.setAttributes=l(),gl.insert=a().bind(null,"head"),gl.domAPI=o(),gl.insertStyleElement=A(),n()(fl.Z,gl),fl.Z&&fl.Z.locals&&fl.Z.locals;const Cl=po().memo((function(){const{lang:e}=wi();return po().createElement("div",{className:"NoResults"},po().createElement("svg",{width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg"},po().createElement("path",{d:"M24 48a24 24 0 100-48 24 24 0 000 48z",fill:"#FC3"}),po().createElement("path",{d:"M27.86 36.86a1.29 1.29 0 010 2.57h-7.72a1.29 1.29 0 010-2.57h7.72zm-1.29-12c.86-.86 1.72 1.71 6 1.71 3.43 0 6.43-1.71 6.86-.86.43.86-2.57 4.29-6.86 4.29-5.14 0-6.86-4.29-6-5.14zm-5.14 0c.86.85-.86 5.14-6 5.14-4.29 0-7.29-3.43-6.86-4.29.43-.85 3.43.86 6.86.86 4.28 0 5.14-2.57 6-1.71zm9.43-10.29c.85-.86 2.57 2.14 6 3.43s4.28 1.29 4.28 2.57c0 .86-.85 1.72-5.14 0-4.29-1.71-6-5.14-5.14-6zm-13.72 0c.86.86-.85 4.29-5.14 6-4.29 1.72-5.14.86-5.14 0 0-1.28.85-1.28 4.28-2.57 3.43-1.29 5.15-4.29 6-3.43z",fill:"#805446"})),po().createElement("div",{className:"NoResults__text"},e.use("me_convo_list_search_no_results")))}));var vl=u(5682),El={};El.styleTagTransform=h(),El.setAttributes=l(),El.insert=a().bind(null,"head"),El.domAPI=o(),El.insertStyleElement=A(),n()(vl.Z,El),vl.Z&&vl.Z.locals&&vl.Z.locals;var _l="0 0 56 56",bl="messages_outline_56",yl=!1;function Bl(){yl||(ko(new(Eo())({id:bl,viewBox:_l,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="messages_outline_56"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.029 10c-8.474 0-14.971 5.925-14.971 12.806 0 2.468.817 4.782 2.253 6.738a1.5 1.5 0 01.291.888c0 1.638-.425 3.23-.953 4.674-.351.962-.772 1.919-1.17 2.803 3.314-.334 5.494-1.392 6.807-2.955a1.5 1.5 0 011.68-.437 17.062 17.062 0 006.063 1.095c8.474 0 14.97-5.925 14.97-12.806C37 15.925 30.504 10 22.03 10zM4.058 22.806C4.058 13.886 12.309 7 22.028 7 31.749 7 40 13.885 40 22.806c0 8.92-8.251 15.806-17.971 15.806-2.165 0-4.244-.337-6.172-.956-2.254 2.144-5.545 3.181-9.592 3.342-1.618.065-2.726-1.62-2.077-3.08.14-.318.282-.633.423-.946.434-.963.861-1.911 1.22-2.895.41-1.12.689-2.184.756-3.19-1.6-2.346-2.53-5.115-2.53-8.081z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M43.012 18.768a1.5 1.5 0 00.377 2.088c3.437 2.385 5.553 5.988 5.553 9.95 0 2.469-.817 4.782-2.253 6.738a1.5 1.5 0 00-.291.888c0 1.638.425 3.23.952 4.674.352.962.773 1.919 1.17 2.803-3.314-.334-5.493-1.392-6.806-2.955a1.5 1.5 0 00-1.68-.437 17.063 17.063 0 01-6.063 1.095c-2.986 0-5.755-.748-8.078-2.026a1.5 1.5 0 00-1.446 2.63c2.77 1.523 6.037 2.396 9.524 2.396 2.164 0 4.244-.337 6.172-.956 2.254 2.144 5.545 3.181 9.592 3.342 1.618.065 2.726-1.62 2.077-3.08-.14-.318-.282-.633-.423-.946-.434-.962-.861-1.911-1.22-2.895-.41-1.12-.69-2.184-.756-3.19 1.6-2.346 2.53-5.115 2.53-8.081 0-5.09-2.725-9.557-6.843-12.415a1.5 1.5 0 00-2.088.377z" fill="currentColor" /></symbol>'})),yl=!0)}var wl=function(e){return Do((function(){Bl()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:_l,id:bl,width:isNaN(e.width)?56:+e.width,height:isNaN(e.height)?56:+e.height}))};wl.mountIcon=Bl;const xl=wl;var kl="0 0 56 56",Dl="message_read_outline_56",Sl=!1;function Il(){Sl||(ko(new(Eo())({id:Dl,viewBox:kl,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="message_read_outline_56"><g fill="none" fill-rule="evenodd"><path d="M0 0h56v56H0z" /><path d="M28.472 6c4.501 0 8.81 1.158 12.476 3.299a1.5 1.5 0 01-1.512 2.59C36.23 10.02 32.443 9 28.472 9 17.674 9 9 16.501 9 25.638c0 4.606 2.206 8.925 6.059 12.056a1.5 1.5 0 01.489 1.6c-.552 1.816-1.506 3.952-2.864 6.42 4.12-1.083 7.251-2.365 9.382-3.82a1.5 1.5 0 011.192-.221c1.683.399 3.432.603 5.214.603 10.799 0 19.472-7.501 19.472-16.638 0-1.918-.38-3.791-1.116-5.562a1.5 1.5 0 112.77-1.151 17.428 17.428 0 011.346 6.713c0 10.898-10.105 19.638-22.472 19.638a25.66 25.66 0 01-5.268-.542c-2.639 1.663-6.296 3.052-10.982 4.192a2.48 2.48 0 01-2.736-3.644c1.32-2.3 2.281-4.284 2.883-5.94C8.33 35.716 6 30.846 6 25.637 6 14.74 16.106 6 28.472 6zm19.839 4.94a1.5 1.5 0 010 2.12L30.06 31.31a1.5 1.5 0 01-2.122 0l-7.5-7.5a1.5 1.5 0 112.122-2.12L29 28.128l17.19-17.19a1.5 1.5 0 012.12 0z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),Sl=!0)}var Fl=function(e){return Do((function(){Il()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:kl,id:Dl,width:isNaN(e.width)?56:+e.width,height:isNaN(e.height)?56:+e.height}))};Fl.mountIcon=Il;const Ml=Fl,Tl=po().memo((function({folder:e,onFolderChange:n}){var t;const{lang:r}=wi(),o=r.use("me_convo_list_placeholder_unread_set").split("|"),i=null===(t=o[Math.floor(Math.random()*o.length)])||void 0===t?void 0:t.trim();switch(e){case"all":return po().createElement("div",{className:"EmptyConvoList"},po().createElement("div",{className:"EmptyConvoList__icon"},po().createElement(xl,null)),po().createElement("div",null,r.use("me_convo_list_placeholder_all")));case"unread":return po().createElement("div",{className:"EmptyConvoList"},po().createElement("div",{className:"EmptyConvoList__icon"},po().createElement(Ml,null)),po().createElement("div",null,i),po().createElement("button",{className:"EmptyConvoList__link",onClick:()=>{n("all")}},r.use("me_convo_list_placeholder_unread_link")));default:return ye()}}));var Pl=u(5312),Ol={};Ol.styleTagTransform=h(),Ol.setAttributes=l(),Ol.insert=a().bind(null,"head"),Ol.domAPI=o(),Ol.insertStyleElement=A(),n()(Pl.Z,Ol),Pl.Z&&Pl.Z.locals&&Pl.Z.locals;const zl=({className:e,size:n="small",onIntersection:t})=>{const{ref:r,inView:o}=Jo({threshold:.01});return(0,Ao.useEffect)((()=>{o&&t&&t()}),[o,t]),po().createElement("div",{ref:r,className:Ho()("OptimizedSpinner",e)},o&&po().createElement(mo.Spinner,{size:n}))},Nl=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)},jl="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;var Ll="object"==typeof self&&self&&self.Object===Object&&self;const Rl=jl||Ll||Function("return this")(),Ul=function(){return Rl.Date.now()};var Wl=/\s/,Hl=/^\s+/;const ql=function(e){return e?e.slice(0,function(e){for(var n=e.length;n--&&Wl.test(e.charAt(n)););return n}(e)+1).replace(Hl,""):e},Zl=Rl.Symbol;var Vl=Object.prototype,Yl=Vl.hasOwnProperty,Gl=Vl.toString,$l=Zl?Zl.toStringTag:void 0,Xl=Object.prototype.toString,Kl=Zl?Zl.toStringTag:void 0;const Ql=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Kl&&Kl in Object(e)?function(e){var n=Yl.call(e,$l),t=e[$l];try{e[$l]=void 0;var r=!0}catch(e){}var o=Gl.call(e);return r&&(n?e[$l]=t:delete e[$l]),o}(e):function(e){return Xl.call(e)}(e)};var Jl=/^[-+]0x[0-9a-f]+$/i,ec=/^0b[01]+$/i,nc=/^0o[0-7]+$/i,tc=parseInt;const rc=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==Ql(e)}(e))return NaN;if(Nl(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=Nl(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=ql(e);var t=ec.test(e);return t||nc.test(e)?tc(e.slice(2),t?2:8):Jl.test(e)?NaN:+e};var oc=Math.max,ic=Math.min;const ac=function(e,n,t){var r,o,i,a,s,l,c=0,u=!1,d=!1,A=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(n){var t=r,i=o;return r=o=void 0,c=n,a=e.apply(i,t)}function h(e){return c=e,s=setTimeout(f,n),u?p(e):a}function m(e){var t=e-l;return void 0===l||t>=n||t<0||d&&e-c>=i}function f(){var e=Ul();if(m(e))return g(e);s=setTimeout(f,function(e){var t=n-(e-l);return d?ic(t,i-(e-c)):t}(e))}function g(e){return s=void 0,A&&r?p(e):(r=o=void 0,a)}function C(){var e=Ul(),t=m(e);if(r=arguments,o=this,l=e,t){if(void 0===s)return h(l);if(d)return clearTimeout(s),s=setTimeout(f,n),p(l)}return void 0===s&&(s=setTimeout(f,n)),a}return n=rc(n)||0,Nl(t)&&(u=!!t.leading,i=(d="maxWait"in t)?oc(rc(t.maxWait)||0,n):i,A="trailing"in t?!!t.trailing:A),C.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},C.flush=function(){return void 0===s?a:g(Ul())},C},sc=function(e,n,t){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Nl(t)&&(r="leading"in t?!!t.leading:r,o="trailing"in t?!!t.trailing:o),ac(e,n,{leading:r,maxWait:n,trailing:o})};var lc=u(1374),cc=u.n(lc),uc=null,dc=null;function Ac(){if(null===uc){if("undefined"==typeof document)return uc=0;var e=document.body,n=document.createElement("div");n.classList.add("simplebar-hide-scrollbar"),e.appendChild(n);var t=n.getBoundingClientRect().right;e.removeChild(n),uc=t}return uc}function pc(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function hc(e){return e&&e.ownerDocument?e.ownerDocument:document}function mc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function fc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mc(Object(t),!0).forEach((function(n){Ns(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}cc()&&window.addEventListener("resize",(function(){dc!==window.devicePixelRatio&&(dc=window.devicePixelRatio,uc=null)}));var gc=function(){function e(n){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ds(this,e),this.onScroll=function(){var e=pc(t.el);t.scrollXTicking||(e.requestAnimationFrame(t.scrollX),t.scrollXTicking=!0),t.scrollYTicking||(e.requestAnimationFrame(t.scrollY),t.scrollYTicking=!0),t.isScrolling||(t.isScrolling=!0,t.el.classList.add(t.classNames.scrolling)),t.onStopScrolling()},this.scrollX=function(){t.axis.x.isOverflowing&&t.positionScrollbar("x"),t.scrollXTicking=!1},this.scrollY=function(){t.axis.y.isOverflowing&&t.positionScrollbar("y"),t.scrollYTicking=!1},this.onStopScrolling=function(){t.el.classList.remove(t.classNames.scrolling),t.isScrolling=!1},this.onMouseEnter=function(){t.isMouseEntering||(t.el.classList.add(t.classNames.mouseEntered),t.isMouseEntering=!0),t.onMouseEntered()},this.onMouseEntered=function(){t.el.classList.remove(t.classNames.mouseEntered),t.isMouseEntering=!1},this.onMouseMove=function(e){t.mouseX=e.clientX,t.mouseY=e.clientY,(t.axis.x.isOverflowing||t.axis.x.forceVisible)&&t.onMouseMoveForAxis("x"),(t.axis.y.isOverflowing||t.axis.y.forceVisible)&&t.onMouseMoveForAxis("y")},this.onMouseLeave=function(){t.onMouseMove.cancel(),(t.axis.x.isOverflowing||t.axis.x.forceVisible)&&t.onMouseLeaveForAxis("x"),(t.axis.y.isOverflowing||t.axis.y.forceVisible)&&t.onMouseLeaveForAxis("y"),t.mouseX=-1,t.mouseY=-1},this.onWindowResize=function(){t.scrollbarWidth=e.getScrollbarWidth(),t.hideNativeScrollbar()},this.onPointerEvent=function(e){var n,r;t.axis.x.track.rect=t.axis.x.track.el.getBoundingClientRect(),t.axis.y.track.rect=t.axis.y.track.el.getBoundingClientRect(),(t.axis.x.isOverflowing||t.axis.x.forceVisible)&&(n=t.isWithinBounds(t.axis.x.track.rect)),(t.axis.y.isOverflowing||t.axis.y.forceVisible)&&(r=t.isWithinBounds(t.axis.y.track.rect)),(n||r)&&(e.stopPropagation(),"pointerdown"===e.type&&"touch"!==e.pointerType&&(n&&(t.axis.x.scrollbar.rect=t.axis.x.scrollbar.el.getBoundingClientRect(),t.isWithinBounds(t.axis.x.scrollbar.rect)?t.onDragStart(e,"x"):t.onTrackClick(e,"x")),r&&(t.axis.y.scrollbar.rect=t.axis.y.scrollbar.el.getBoundingClientRect(),t.isWithinBounds(t.axis.y.scrollbar.rect)?t.onDragStart(e,"y"):t.onTrackClick(e,"y"))))},this.drag=function(n){var r=t.axis[t.draggedAxis].track,o=r.rect[t.axis[t.draggedAxis].sizeAttr],i=t.axis[t.draggedAxis].scrollbar,a=t.contentWrapperEl[t.axis[t.draggedAxis].scrollSizeAttr],s=parseInt(t.elStyles[t.axis[t.draggedAxis].sizeAttr],10);n.preventDefault(),n.stopPropagation();var l=(("y"===t.draggedAxis?n.pageY:n.pageX)-r.rect[t.axis[t.draggedAxis].offsetAttr]-t.axis[t.draggedAxis].dragOffset)/(o-i.size)*(a-s);"x"===t.draggedAxis&&(l=t.isRtl&&e.getRtlHelpers().isScrollOriginAtZero?l-(o+i.size):l),t.contentWrapperEl[t.axis[t.draggedAxis].scrollOffsetAttr]=l},this.onEndDrag=function(e){var n=hc(t.el),r=pc(t.el);e.preventDefault(),e.stopPropagation(),t.el.classList.remove(t.classNames.dragging),n.removeEventListener("mousemove",t.drag,!0),n.removeEventListener("mouseup",t.onEndDrag,!0),t.removePreventClickId=r.setTimeout((function(){n.removeEventListener("click",t.preventClick,!0),n.removeEventListener("dblclick",t.preventClick,!0),t.removePreventClickId=null}))},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=n,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.options=fc(fc({},e.defaultOptions),r),this.classNames=fc({contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,this.isScrolling=!1,this.isMouseEntering=!1,e.instances.has(this.el)||(r.classNames&&console.warn("simplebar: classNames option is deprecated. Please override the styles with CSS instead."),r.autoHide&&console.warn("simplebar: autoHide option is deprecated. Please use CSS instead: '.simplebar-scrollbar::before { opacity: 0.5 };' for autoHide: false"),this.onMouseMove=sc(this.onMouseMove,64),this.onWindowResize=ac(this.onWindowResize,64,{leading:!0}),this.onStopScrolling=ac(this.onStopScrolling,this.stopScrollDelay),this.onMouseEntered=ac(this.onMouseEntered,this.stopScrollDelay),this.init())}return Is(e,[{key:"init",value:function(){e.instances.set(this.el,this),cc()&&(this.initDOM(),this.rtlHelpers=e.getRtlHelpers(),this.scrollbarWidth=e.getScrollbarWidth(),this.recalculate(),this.initListeners())}},{key:"initDOM",value:function(){var e=this;if(Array.prototype.filter.call(this.el.children,(function(n){return n.classList.contains(e.classNames.wrapper)})).length)this.wrapperEl=this.el.querySelector(".".concat(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(".".concat(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(".".concat(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(".".concat(this.classNames.offset)),this.maskEl=this.el.querySelector(".".concat(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,".".concat(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(".".concat(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(".".concat(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,".".concat(this.classNames.track,".").concat(this.classNames.horizontal)),this.axis.y.track.el=this.findChild(this.el,".".concat(this.classNames.track,".").concat(this.classNames.vertical));else{for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),this.wrapperEl.classList.add(this.classNames.wrapper),this.contentWrapperEl.classList.add(this.classNames.contentWrapper),this.offsetEl.classList.add(this.classNames.offset),this.maskEl.classList.add(this.classNames.mask),this.contentEl.classList.add(this.classNames.contentEl),this.placeholderEl.classList.add(this.classNames.placeholder),this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl),this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl)}if(!this.axis.x.track.el||!this.axis.y.track.el){var n=document.createElement("div"),t=document.createElement("div");n.classList.add(this.classNames.track),t.classList.add(this.classNames.scrollbar),n.appendChild(t),this.axis.x.track.el=n.cloneNode(!0),this.axis.x.track.el.classList.add(this.classNames.horizontal),this.axis.y.track.el=n.cloneNode(!0),this.axis.y.track.el.classList.add(this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}this.axis.x.scrollbar.el=this.axis.x.track.el.querySelector(".".concat(this.classNames.scrollbar)),this.axis.y.scrollbar.el=this.axis.y.track.el.querySelector(".".concat(this.classNames.scrollbar)),this.options.autoHide||(this.axis.x.scrollbar.el.classList.add(this.classNames.visible),this.axis.y.scrollbar.el.classList.add(this.classNames.visible)),this.el.setAttribute("data-simplebar","init")}},{key:"initListeners",value:function(){var e=this,n=pc(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.addEventListener("scroll",this.onScroll),n.addEventListener("resize",this.onWindowResize),window.ResizeObserver){var t=!1,r=n.ResizeObserver||ResizeObserver;this.resizeObserver=new r((function(){t&&n.requestAnimationFrame((function(){e.recalculate()}))})),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),n.requestAnimationFrame((function(){t=!0}))}this.mutationObserver=new n.MutationObserver((function(){n.requestAnimationFrame((function(){e.recalculate()}))})),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},{key:"recalculate",value:function(){var e=pc(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var n=this.contentEl.offsetWidth,t=this.heightAutoObserverEl.offsetHeight<=1,r=this.heightAutoObserverEl.offsetWidth<=1||n>0,o=this.contentWrapperEl.offsetWidth,i=this.elStyles.overflowX,a=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var s=this.contentEl.scrollHeight,l=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=t?"auto":"100%",this.placeholderEl.style.width=r?"".concat(n||l,"px"):"auto",this.placeholderEl.style.height="".concat(s,"px");var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==n&&l>n,this.axis.y.isOverflowing=s>c,this.axis.x.isOverflowing="hidden"!==i&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==a&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var u=this.axis.x.isOverflowing?this.scrollbarWidth:0,d=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&l>o-d,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&s>c-u,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px"),this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px"),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},{key:"getScrollbarSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";if(!this.axis[e].isOverflowing)return 0;var n,t=this.contentEl[this.axis[e].scrollSizeAttr],r=this.axis[e].track.el[this.axis[e].offsetSizeAttr],o=r/t;return n=Math.max(~~(o*r),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(n=Math.min(n,this.options.scrollbarMaxSize)),n}},{key:"positionScrollbar",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";if(this.axis[n].isOverflowing){var t=this.contentWrapperEl[this.axis[n].scrollSizeAttr],r=this.axis[n].track.el[this.axis[n].offsetSizeAttr],o=parseInt(this.elStyles[this.axis[n].sizeAttr],10),i=this.axis[n].scrollbar,a=this.contentWrapperEl[this.axis[n].scrollOffsetAttr],s=(a="x"===n&&this.isRtl&&e.getRtlHelpers().isScrollOriginAtZero?-a:a)/(t-o),l=~~((r-i.size)*s);l="x"===n&&this.isRtl&&e.getRtlHelpers().isScrollingToNegative?-l+(r-i.size):l,i.el.style.transform="x"===n?"translate3d(".concat(l,"px, 0, 0)"):"translate3d(0, ".concat(l,"px, 0)")}}},{key:"toggleTrackVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",n=this.axis[e].track.el,t=this.axis[e].scrollbar.el;this.axis[e].isOverflowing||this.axis[e].forceVisible?(n.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(n.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?t.style.display="block":t.style.display="none"}},{key:"hideNativeScrollbar",value:function(){this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):0}},{key:"onMouseMoveForAxis",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.axis[e].track.rect=this.axis[e].track.el.getBoundingClientRect(),this.axis[e].scrollbar.rect=this.axis[e].scrollbar.el.getBoundingClientRect(),this.isWithinBounds(this.axis[e].scrollbar.rect)?this.axis[e].scrollbar.el.classList.add(this.classNames.hover):this.axis[e].scrollbar.el.classList.remove(this.classNames.hover),this.isWithinBounds(this.axis[e].track.rect)?this.axis[e].track.el.classList.add(this.classNames.hover):this.axis[e].track.el.classList.remove(this.classNames.hover)}},{key:"onMouseLeaveForAxis",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.axis[e].track.el.classList.remove(this.classNames.hover),this.axis[e].scrollbar.el.classList.remove(this.classNames.hover)}},{key:"onDragStart",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",t=hc(this.el),r=pc(this.el),o=this.axis[n].scrollbar,i="y"===n?e.pageY:e.pageX;this.axis[n].dragOffset=i-o.rect[this.axis[n].offsetAttr],this.draggedAxis=n,this.el.classList.add(this.classNames.dragging),t.addEventListener("mousemove",this.drag,!0),t.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(t.addEventListener("click",this.preventClick,!0),t.addEventListener("dblclick",this.preventClick,!0)):(r.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)}},{key:"onTrackClick",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";if(this.options.clickOnTrack){e.preventDefault();var r=pc(this.el);this.axis[t].scrollbar.rect=this.axis[t].scrollbar.el.getBoundingClientRect();var o=this.axis[t].scrollbar.rect[this.axis[t].offsetAttr],i=parseInt(this.elStyles[this.axis[t].sizeAttr],10),a=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],s=("y"===t?this.mouseY-o:this.mouseX-o)<0?-1:1,l=-1===s?a-i:a+i,c=40;!function e(){-1===s?a>l&&(a-=c,n.contentWrapperEl[n.axis[t].scrollOffsetAttr]=a,r.requestAnimationFrame(e)):a<l&&(a+=c,n.contentWrapperEl[n.axis[t].scrollOffsetAttr]=a,r.requestAnimationFrame(e))}()}}},{key:"getContentElement",value:function(){return this.contentEl}},{key:"getScrollElement",value:function(){return this.contentWrapperEl}},{key:"removeListeners",value:function(){var e=pc(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()}},{key:"unMount",value:function(){this.removeListeners(),e.instances.delete(this.el)}},{key:"isWithinBounds",value:function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height}},{key:"findChild",value:function(e,n){var t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,(function(e){return t.call(e,n)}))[0]}}],[{key:"getRtlHelpers",value:function(){if(e.rtlHelpers)return e.rtlHelpers;var n=document.createElement("div");n.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var t=n.firstElementChild,r=t.firstElementChild;document.body.appendChild(t),t.scrollLeft=0;var o=e.getOffset(t),i=e.getOffset(r);t.scrollLeft=-999;var a=e.getOffset(r);return document.body.removeChild(t),e.rtlHelpers={isScrollOriginAtZero:o.left!==i.left,isScrollingToNegative:i.left!==a.left},e.rtlHelpers}},{key:"getScrollbarWidth",value:function(){try{return"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:Ac()}catch(e){return Ac()}}},{key:"getOffset",value:function(e){var n=e.getBoundingClientRect(),t=hc(e),r=pc(e);return{top:n.top+(r.pageYOffset||t.documentElement.scrollTop),left:n.left+(r.pageXOffset||t.documentElement.scrollLeft)}}}]),e}();gc.defaultOptions={autoHide:!0,forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0},gc.instances=new WeakMap;const Cc=gc;function vc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ec(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?vc(Object(t),!0).forEach((function(n){Ns(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _c=po().forwardRef((function(e,n){var t=e.children,r=e.scrollableNodeProps,o=void 0===r?{}:r,i=Ws(e,["children","scrollableNodeProps"]),a=(0,Ao.useRef)(),s=(0,Ao.useRef)(),l=(0,Ao.useRef)(),c={},u={};return Object.keys(i).forEach((function(e){Object.prototype.hasOwnProperty.call(Cc.defaultOptions,e)?c[e]=i[e]:u[e]=i[e]})),(0,Ao.useEffect)((function(){var e;return a.current=o.ref?o.ref.current:a.current,s.current&&(e=new Cc(s.current,Ec(Ec(Ec({},c),a&&{scrollableNode:a.current}),l.current&&{contentNode:l.current})),n&&(n.current=e)),function(){e.unMount(),e=null}}),[]),po().createElement("div",ks({ref:s,"data-simplebar":!0},u),po().createElement("div",{className:"simplebar-wrapper"},po().createElement("div",{className:"simplebar-height-auto-observer-wrapper"},po().createElement("div",{className:"simplebar-height-auto-observer"})),po().createElement("div",{className:"simplebar-mask"},po().createElement("div",{className:"simplebar-offset"},"function"==typeof t?t({scrollableNodeRef:a,contentNodeRef:l}):po().createElement("div",ks({},o,{className:"simplebar-content-wrapper".concat(o.className?" ".concat(o.className):"")}),po().createElement("div",{className:"simplebar-content"},t)))),po().createElement("div",{className:"simplebar-placeholder"})),po().createElement("div",{className:"simplebar-track simplebar-horizontal"},po().createElement("div",{className:"simplebar-scrollbar"})),po().createElement("div",{className:"simplebar-track simplebar-vertical"},po().createElement("div",{className:"simplebar-scrollbar"})))}));_c.displayName="SimpleBar",_c.propTypes={children:qs().oneOfType([qs().node,qs().func]),scrollableNodeProps:qs().object};const bc=_c,yc={overflowX:"hidden",overflowY:"hidden",height:"100%"},Bc=({windowId:e,initialX:n,initialY:t,initialW:r,initialH:o,isActive:i,onActivate:a,dispatch:s,onClose:l,onSelect:c,folders:u,convosCache:d,convosSearchIndex:A})=>{const{lang:p}=wi(),h=fi(),{selectedFolder:m,setSelectedFolder:f}=function(e,n){const[t,r]=(0,Ao.useState)("all");return{selectedFolder:(0,Ao.useMemo)((()=>({id:t,convos:Array.from(n[t].peerIds,(n=>Ut(e,n))).sort(It),hasMore:n[t].hasMore})),[n,t,e]),setSelectedFolder:r}}(d,u),g=(0,Ao.useRef)(null),C=(0,Ao.useRef)(null);(0,Ao.useLayoutEffect)((()=>{g.current&&g.current.recomputeRowHeights()}),[m.id]);const{current:v,query:E,onChange:_,onKeyDown:b,onFocus:y,onBlur:B,results:w,reset:x}=Ii({requestType:"convos",searchIndex:A,dispatch:s,onSelect:(0,Ao.useCallback)((e=>{c(e,"fastchats_list_all")}),[c]),defaultResults:(0,Ao.useMemo)((()=>new Set(m.convos.map((e=>e.peerId)))),[m])});(0,Ao.useEffect)((()=>{const e=e=>{var n,t;const{scrollTop:r,scrollLeft:o}=e.target;null===(t=null===(n=g.current)||void 0===n?void 0:n.Grid)||void 0===t||t.handleScrollEvent({scrollTop:r,scrollLeft:o})},n=C.current;return n&&n.addEventListener("scroll",e),()=>{n&&n.removeEventListener("scroll",e)}}),[]),(0,Ao.useEffect)((()=>{x()}),[x,m.id]);const k=(0,Ao.useCallback)((e=>{let n;switch(m.id){case"all":n="fastchats_list_all";break;case"unread":n="fastchats_list_unread";break;default:ye(m.id)}c(e,n)}),[c,m.id]),D=(0,Ao.useCallback)((({index:e,style:n})=>{if(e>m.convos.length-1)return po().createElement("div",{key:"loader",className:"FCConvoList__loader",style:n},po().createElement(zl,{className:"FCConvoList__loader",onIntersection:()=>s({type:"MoreConvosNeeded",folder:m.id})}));const t=m.convos[e];return t?po().createElement(xs,{key:t.peerId,convo:t,peer:We(h,t.peerId),isFocused:e===v,onClick:k,style:n}):null}),[m,k,h,v,s]);return po().createElement(ta,{id:e,title:p.use("me_fc_chats"),footer:po().createElement(po().Fragment,null,po().createElement(ya,{placeholder:p.use("me_convo_list_search_placeholder"),onChange:_,value:E,onKeyDown:b,onFocus:y,onBlur:B}),""===E&&po().createElement("div",{className:"FCConvoList__folder"},po().createElement(Zi,{content:{all:p.use("me_fc_convo_list_folder_unread_tooltip"),unread:p.use("me_fc_convo_list_folder_all_tooltip")}[m.id],position:"top",align:"center"},po().createElement("button",{className:Ho()("FCConvoList__folderDot",{"FCConvoList__folderDot--active":"unread"===m.id}),onClick:()=>{switch(m.id){case"unread":f("all");break;case"all":f("unread");break;default:ye(m.id)}}})))),onClose:l,onActivate:a,initialX:n,initialY:t,initialW:r,initialH:o,isActive:i},(()=>{if(""!==E)switch(w){case"loading":return po().createElement(zl,{className:"FCConvoList__loader",onIntersection:()=>s({type:"MoreConvosNeeded",folder:m.id})});case"empty":return po().createElement(Cl,null);default:return po().createElement(po().Fragment,null,[...w.values()].map(((e,n)=>{const t=Ut(d,e);return po().createElement(xs,{key:t.peerId,convo:t,peer:We(h,t.peerId),isFocused:n===v,onClick:k})})))}return 0===m.convos.length?m.hasMore?po().createElement(zl,{className:"FCConvoList__loader",onIntersection:()=>s({type:"MoreConvosNeeded",folder:m.id})}):po().createElement(Tl,{folder:m.id,onFolderChange:f}):po().createElement(bc,{className:"FCConvoList__simplebar",scrollableNodeProps:{ref:C}},po().createElement(ml,{ref:g,className:"FCConvoList__virtual",height:373,width:350,overscanRowCount:10,rowCount:m.hasMore?m.convos.length+1:m.convos.length,rowHeight:44,rowRenderer:D,style:yc}))})())};var wc=u(5419),xc={};xc.styleTagTransform=h(),xc.setAttributes=l(),xc.insert=a().bind(null,"head"),xc.domAPI=o(),xc.insertStyleElement=A(),n()(wc.Z,xc),wc.Z&&wc.Z.locals&&wc.Z.locals;var kc="0 0 20 20",Dc="cancel_20",Sc=!1;function Ic(){Sc||(ko(new(Eo())({id:Dc,viewBox:kc,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="cancel_20"><path clip-rule="evenodd" d="M4.72 4.72a.75.75 0 011.06 0L10 8.94l4.22-4.22a.75.75 0 111.06 1.06L11.06 10l4.22 4.22a.75.75 0 11-1.06 1.06L10 11.06l-4.22 4.22a.75.75 0 01-1.06-1.06L8.94 10 4.72 5.78a.75.75 0 010-1.06z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),Sc=!0)}var Fc=function(e){return Do((function(){Ic()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:kc,id:Dc,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};Fc.mountIcon=Ic;const Mc=Fc;var Tc="0 0 12 12",Pc="cancel_12",Oc=!1;function zc(){Oc||(ko(new(Eo())({id:Pc,viewBox:Tc,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="cancel_12"><path d="M3.525 2.464a.75.75 0 00-1.06 1.061L4.938 6 2.464 8.475a.75.75 0 101.061 1.06L6 7.062l2.475 2.475a.75.75 0 001.06-1.061L7.062 6l2.475-2.475a.75.75 0 10-1.061-1.06L6 4.938z" fill="currentColor" /></symbol>'})),Oc=!0)}var Nc=function(e){return Do((function(){zc()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Tc,id:Pc,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};Nc.mountIcon=zc;const jc=Nc;var Lc=u(5469),Rc={};Rc.styleTagTransform=h(),Rc.setAttributes=l(),Rc.insert=a().bind(null,"head"),Rc.domAPI=o(),Rc.insertStyleElement=A(),n()(Lc.Z,Rc),Lc.Z&&Lc.Z.locals&&Lc.Z.locals;const Uc=({type:e="text",className:n})=>{const t={text:"text",voice:"voice",photo:"file",video:"file",file:"file"}[e],r=Ho()("TypingIndicator",`TypingIndicator--${t}`,n);return po().createElement("div",{className:r},po().createElement("div",{className:"TypingIndicator__particle"}))},Wc=({convo:e,isSelected:n,isWide:t,onClick:r,onClose:o})=>{const{lang:i}=wi(),a=We(fi(),e.peerId),s=di(a.id,"compact",0),l=bi().id===a.id,c=vi(),u=(0,Ao.useCallback)((e=>{e.preventDefault(),r(a.id,"fastchats_thumbs")}),[r,a.id]),d="ChatConvo"===e.kind&&e.activeCall?e.activeCall.participants.count>0?"filled":"empty":void 0,A=l?i.use("me_favorites"):Oe(a);return po().createElement("article",{className:Ho()("FCThumb",{"FCThumb--selected":n,"FCThumb--archived":e.isArchived,"FCThumb--muted":Ct(e)&&!e.isArchived,"FCThumb--wide":t,"FCThumb--collapsed":!t}),"aria-label":A},po().createElement(Zi,{content:A,position:"left",delay:500},po().createElement("a",{href:`https://vk.com/im?sel=${e.peerId}`,target:"_blank",rel:"noreferrer",className:"FCThumb__link",onClick:u},l?po().createElement(Bs,{size:40}):po().createElement(La,{peer:a,size:40,withOnline:!0,activityIndicator:s&&po().createElement(Uc,{type:s.type}),activeCall:d}),_t(e)&&po().createElement("span",{className:Ho()("FCThumb__unread",{"FCThumb__unread--blue":c.me_fc_blue_unread_counters})},De(e.unreadCount)),e.isArchived&&po().createElement("div",{className:"FCThumb__archiveIcon","aria-label":i.use("me_convo_archived")}),t&&po().createElement(es,{peer:a,isMuted:Ct(e),isShortened:!0,className:"FCThumb__title"}))),po().createElement("button",{className:"FCThumb__close",onClick:()=>o(a.id),"aria-label":i.use("me_fc_close_convo")},t?po().createElement(Mc,null):po().createElement(jc,null)))};var Hc=u(2268),qc={};qc.styleTagTransform=h(),qc.setAttributes=l(),qc.insert=a().bind(null,"head"),qc.domAPI=o(),qc.insertStyleElement=A(),n()(Hc.Z,qc),Hc.Z&&Hc.Z.locals&&Hc.Z.locals;const Zc=()=>po().createElement("svg",{className:"Symbols"},po().createElement("defs",null,po().createElement("symbol",{id:"meOnlineVkMe"},po().createElement("path",{d:"M5 10A5 5 0 105 0a5 5 0 000 10z"}),po().createElement("path",{d:"M2.33 5.83a.83.83 0 100-1.66.83.83 0 000 1.66zm2.67 0a.83.83 0 100-1.66.83.83 0 000 1.66zM8.5 5a.83.83 0 11-1.67 0A.83.83 0 018.5 5z",fill:"#fff"})),po().createElement("symbol",{id:"mePhone10"},po().createElement("path",{d:"M6.17 6.8c1.1-1.09 2.32-.5 3.3.33 1.15.97.26 2.7-1.08 2.83-1.82.24-3.72-.63-5.72-2.63-2-2-2.88-3.91-2.63-5.73C.16.27 1.91-.62 2.87.52c.82.98 1.41 2.2.32 3.3-.9.9-.16 1.55.64 2.35s1.45 1.53 2.34.64z"})),po().createElement("symbol",{id:"meExpand"},po().createElement("path",{d:"M15.7688 13.7067L11.906 10L15.7688 6.29326C16.0771 5.99741 16.0771 5.51774 15.7688 5.22189C15.4605 4.92604 14.9606 4.92604 14.6523 5.22189L10.2312 9.46431C9.92292 9.76017 9.92292 10.2398 10.2312 10.5357L14.6523 14.7781C14.9606 15.074 15.4605 15.074 15.7688 14.7781C16.0771 14.4823 16.0771 14.0026 15.7688 13.7067Z"}),po().createElement("path",{d:"M9.76877 13.7067L5.90596 10L9.76877 6.29326C10.0771 5.99741 10.0771 5.51774 9.76877 5.22189C9.46046 4.92604 8.96059 4.92604 8.65228 5.22189L4.23123 9.46431C3.92292 9.76017 3.92292 10.2398 4.23123 10.5357L8.65228 14.7781C8.96059 15.074 9.46046 15.074 9.76877 14.7781C10.0771 14.4823 10.0771 14.0026 9.76877 13.7067Z"}))),po().createElement("circle",{id:"mePeerFrameOffline24",cx:"12",cy:"12",r:"12"}),po().createElement("path",{id:"mePeerFrameOnline24",d:"M23.57 15.18A12.02 12.02 0 0012 0a12 12 0 103.18 23.57 6 6 0 018.4-8.4z"}),po().createElement("path",{id:"mePeerFrameMobile24",d:"M14.08 23.82a12 12 0 119.9-12.29 3.98 3.98 0 00-1.98-.53h-4a4 4 0 00-4 4v8c0 .28.03.56.08.82z"}),po().createElement("path",{id:"mePeerFrameMe24",d:"M23.84 13.95a12 12 0 10-9.9 9.9 7 7 0 019.9-9.9z"}),po().createElement("circle",{id:"mePeerFrameOffline32",cx:"16",cy:"16",r:"16"}),po().createElement("path",{id:"mePeerFrameOnline32",d:"M30.72 22.29a16 16 0 10-8.43 8.43 6 6 0 018.43-8.43z"}),po().createElement("path",{id:"mePeerFrameMobile32",d:"M21 31.2a16 16 0 1110.52-11.3A3.98 3.98 0 0029 19h-4a4 4 0 00-4 4v8.2z"}),po().createElement("path",{id:"mePeerFrameMe32",d:"M31.1 21.32a16 16 0 10-9.77 9.77 7 7 0 019.77-9.77z"}),po().createElement("path",{id:"mePeerFrameOffline32c",d:"M31.47 20.11A12 12 0 0118.16.14a16 16 0 1013.31 19.97z"}),po().createElement("circle",{id:"mePeerFrameOffline40",cx:"20",cy:"20",r:"20"}),po().createElement("path",{id:"mePeerFrameOnline40",d:"M29.29 37.72a20 20 0 118.43-8.43 5.99 5.99 0 10-8.43 8.43z"}),po().createElement("path",{id:"mePeerFrameMobile40",d:"M28.2 38.25a20 20 0 1110.78-11.92A3.99 3.99 0 0036 25h-4a4 4 0 00-4 4v8a4 4 0 00.2 1.25z"}),po().createElement("path",{id:"mePeerFrameMe40",d:"M28.31 38.2a20 20 0 119.89-9.89 7 7 0 10-9.89 9.89z"}),po().createElement("path",{id:"mePeerFrameMe40c",d:"M33 22c2.61 0 5.03-.83 7-2.25V20c0 2.97-.65 5.78-1.8 8.31a7 7 0 10-9.89 9.89A20 20 0 1125.38.73 12 12 0 0033 22z"}),po().createElement("path",{id:"mePeerFrameMobile40c",d:"M33 22c2.61 0 5.03-.83 7-2.25V20c0 2.21-.36 4.34-1.02 6.33A3.99 3.99 0 0036 25h-4a4 4 0 00-4 4v8a4 4 0 00.2 1.25A20 20 0 1125.38.73 12 12 0 0033 22z"}),po().createElement("path",{id:"mePeerFrameOffline40c",d:"M40 19.75A12 12 0 0125.38.73 20.02 20.02 0 000 20a20 20 0 1040-.25z"}),po().createElement("path",{id:"mePeerFrameOnline40c",d:"M33 22c2.61 0 5.03-.83 7-2.25V20c0 3.35-.83 6.51-2.28 9.29a5.99 5.99 0 10-8.43 8.43A20 20 0 1125.38.74 12 12 0 0033 22z"}),po().createElement("circle",{id:"mePeerFrameOffline44",cx:"22",cy:"22",r:"22"}),po().createElement("path",{id:"mePeerFrameOnline44",d:"M41.21 32.73a22 22 0 10-8.49 8.49 6 6 0 018.49-8.49z"}),po().createElement("path",{id:"mePeerFrameMobile44",d:"M31.13 42.02a22 22 0 1111.1-11.37A4 4 0 0039 29h-4a4 4 0 00-4 4v8c0 .35.05.7.13 1.02z"}),po().createElement("path",{id:"mePeerFrameMe44",d:"M41.7 31.81a22 22 0 10-9.89 9.89 7 7 0 019.89-9.89z"}),po().createElement("path",{id:"mePeerFrameOffline44c",d:"M43.97 20.77A12 12 0 0129.78 1.41a22 22 0 1014.19 19.36z"}),po().createElement("path",{id:"mePeerFrameOnline44c",d:"M29.78 1.41a22 22 0 102.95 39.8 6 6 0 018.49-8.49 21.9 21.9 0 002.75-11.95A12 12 0 0129.78 1.41z"}),po().createElement("path",{id:"mePeerFrameMobile44c",d:"M43.97 20.77A12 12 0 0129.78 1.41a22 22 0 101.35 40.6 4 4 0 01-.13-1.01v-8a4 4 0 014-4h4a4 4 0 013.24 1.65 21.93 21.93 0 001.73-9.88z"}),po().createElement("path",{id:"mePeerFrameMe44c",d:"M29.78 1.41A22 22 0 1031.8 41.7a7 7 0 019.89-9.89 21.91 21.91 0 002.27-11.03A12 12 0 0129.78 1.41z"}),po().createElement("circle",{id:"mePeerFrameOffline46",cx:"23",cy:"23",r:"23"}),po().createElement("path",{id:"mePeerFrameOnline46",d:"M42.94 34.47a23 23 0 10-8.47 8.47 6 6 0 018.47-8.47z"}),po().createElement("path",{id:"mePeerFrameMobile46",d:"M33.06 43.69A23 23 0 1144 32.37 3.99 3.99 0 0041 31h-4a4 4 0 00-4 4v8c0 .24.02.47.06.69z"}),po().createElement("path",{id:"mePeerFrameMe46",d:"M43.43 33.58a23 23 0 10-9.85 9.85 7 7 0 019.85-9.85z"}),po().createElement("path",{id:"mePeerFrameOffline46c",d:"M45.9 20.82A12 12 0 0131.5 1.62a23 23 0 1014.39 19.2z"}),po().createElement("path",{id:"mePeerFrameOnline46c",d:"M31.5 1.63a23 23 0 102.96 41.31 6 6 0 018.47-8.47 22.9 22.9 0 002.97-13.65A12 12 0 0131.5 1.62z"}),po().createElement("path",{id:"mePeerFrameMobile46c",d:"M45.9 20.82A12 12 0 0131.5 1.62a23 23 0 101.55 42.06A4.03 4.03 0 0133 43v-8a4 4 0 014-4h4c1.2 0 2.28.53 3.01 1.37a22.92 22.92 0 001.89-11.55z"}),po().createElement("path",{id:"mePeerFrameMe46c",d:"M31.5 1.63a23 23 0 102.07 41.8 7 7 0 019.85-9.85 22.9 22.9 0 002.48-12.76A12 12 0 0131.5 1.62z"}));var Vc=u(2931),Yc={};Yc.styleTagTransform=h(),Yc.setAttributes=l(),Yc.insert=a().bind(null,"head"),Yc.domAPI=o(),Yc.insertStyleElement=A(),n()(Vc.Z,Yc),Vc.Z&&Vc.Z.locals&&Vc.Z.locals;var Gc=u(5492),$c={};$c.styleTagTransform=h(),$c.setAttributes=l(),$c.insert=a().bind(null,"head"),$c.domAPI=o(),$c.insertStyleElement=A(),n()(Gc.Z,$c),Gc.Z&&Gc.Z.locals&&Gc.Z.locals;var Xc=u(170),Kc={};Kc.styleTagTransform=h(),Kc.setAttributes=l(),Kc.insert=a().bind(null,"head"),Kc.domAPI=o(),Kc.insertStyleElement=A(),n()(Xc.Z,Kc),Xc.Z&&Xc.Z.locals&&Xc.Z.locals;var Qc="0 0 12 12",Jc="error_circle_12",eu=!1;function nu(){eu||(ko(new(Eo())({id:Jc,viewBox:Qc,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="error_circle_12"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12A6 6 0 106 0a6 6 0 000 12zM6 2a.75.75 0 01.75.75V6.3a.75.75 0 01-1.5 0V2.75A.75.75 0 016 2zm.902 7a.9.9 0 11-1.8 0 .9.9 0 011.8 0z" fill="currentColor" /></symbol>'})),eu=!0)}var tu=function(e){return Do((function(){nu()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Qc,id:Jc,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};tu.mountIcon=nu;const ru=tu;var ou="0 0 12 12",iu="clock_12",au=!1;function su(){au||(ko(new(Eo())({id:iu,viewBox:ou,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="clock_12"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 6a6 6 0 1012 0A6 6 0 000 6zm6.403-3c0-.409-.314-.7-.701-.7A.7.7 0 005 3l.007 3.601a.7.7 0 00.489.568l2.707.82c.36.105.672-.15.775-.487.085-.37-.079-.756-.465-.874l-2.11-.646V3z" fill="currentColor" /></symbol>'})),au=!0)}var lu=function(e){return Do((function(){su()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:ou,id:iu,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};lu.mountIcon=su;const cu=lu;var uu="0 0 16 16",du="bomb_16",Au=!1;function pu(){Au||(ko(new(Eo())({id:du,viewBox:uu,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="bomb_16"><path d="M10.712 5.202a.75.75 0 01.106.973l-.793.858a5 5 0 11-1.06-1.06l.687-.735a.75.75 0 011.06-.036zM6 6.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7zm7.118-1.19l1.25.2a.75.75 0 01.623.858c-.069.426-.455.657-.86.623l-1.25-.2a.75.75 0 01-.622-.86c.069-.426.455-.656.86-.622zm.647-3.105c.314.296.287.745.03 1.06l-.85.9a.75.75 0 01-1.06.03c-.314-.296-.287-.745-.03-1.06l.85-.9a.75.75 0 011.06-.03zm-3.27-.544l.15 1.25a.75.75 0 01-.656.834c-.428.051-.756-.257-.834-.656l-.15-1.25a.75.75 0 01.656-.834c.428-.051.756.257.834.656z" fill="currentColor" /></symbol>'})),Au=!0)}var hu=function(e){return Do((function(){pu()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:uu,id:du,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};hu.mountIcon=pu;const mu=hu;var fu=u(1798),gu={};gu.styleTagTransform=h(),gu.setAttributes=l(),gu.insert=a().bind(null,"head"),gu.domAPI=o(),gu.insertStyleElement=A(),n()(fu.Z,gu),fu.Z&&fu.Z.locals&&fu.Z.locals;var Cu=u(6624),vu={};vu.styleTagTransform=h(),vu.setAttributes=l(),vu.insert=a().bind(null,"head"),vu.domAPI=o(),vu.insertStyleElement=A(),n()(Cu.Z,vu),Cu.Z&&Cu.Z.locals&&Cu.Z.locals;const Eu=({message:e})=>{const{lang:n}=wi(),t=fi(),r=bi(),o=We(t,e.authorId);let i="";switch(e.action.type){case"chat_photo_remove":case"chat_photo_update":case"chat_pin_message":case"chat_unpin_message":case"chat_group_call_started":case"chat_invite_user_by_link":{const t=`me_service_${e.action.type}`,r={user:Oe(o)};i="User"===o.kind?n.use(t,{sex:o.sex,values:r}):n.use(`${t}_community`,{values:r});break}case"chat_create":case"chat_title_update":{const t=`me_service_${e.action.type}`,r={user:Oe(o),title:e.action.title};i="User"===o.kind?n.use(t,{sex:o.sex,values:r}):n.use(`${t}_community`,{values:r});break}case"chat_invite_user":case"chat_kick_user":{const r=`me_service_${e.action.type}`,a=We(t,e.action.peerId);if(o.id===a.id&&"User"===o.kind){i=n.use(`${r}_own`,{sex:o.sex,values:{user:Oe(o)}});break}const s={user:Oe(o),target:Oe(a,"acc")};i="User"===o.kind?n.use(r,{sex:o.sex,values:s}):n.use(`${r}_community`,{values:s});break}case"chat_invite_user_by_call":{const r=`me_service_${e.action.type}`,a=We(t,e.action.peerId);i=n.use(r,{sex:"User"===o.kind?o.sex:"unknown",values:{user:Oe(o),target:Oe(a,"acc")}});break}case"chat_invite_user_by_call_join_link":{const t=`me_service_${e.action.type}`,r={user:Oe(o)};i=n.use(t,{sex:"User"===o.kind?o.sex:"unknown",values:r});break}case"sent_message_requests_count":const a=`me_service_${e.action.type}`;i=n.use(a,{num:e.action.count});break;case"chat_screenshot":{const t=`me_service_${e.action.type}`;if(o.id===r.id){i=n.use("me_service_chat_screenshot_own");break}const a={user:Oe(o)};i="User"===o.kind?n.use(t,{sex:o.sex,values:a}):n.use(`${t}_community`,{values:a});break}case"conversation_style_update":case"conversation_style_update_action":case"chat_kick_don":case"chat_kick_user_call_block":case"chat_invite_user_by_message_request":case"accepted_message_request":case"unknown":i=n.use("me_unsupported_message");break;default:ye(e.action)}return po().createElement(po().Fragment,null,i)},_u=({attach:e})=>{const{lang:n}=wi();let t="";if(Array.isArray(e))if("kind"in e[0])switch(e[0]&&e[0].kind){case"Photo":t=n.use("me_attaches_photos",{num:e.length||0});break;case"Audio":t=n.use("me_attaches_audios",{num:e.length||0});break;case"Video":t=n.use("me_attaches_videos",{num:e.length||0});break;case"Doc":t=n.use("me_attaches_docs",{num:e.length||0});break;case"MiniApp":t=n.use("me_attaches_mini_apps",{num:e.length||0});break;default:t=n.use("me_attaches_unknown")}else t=n.use("me_attaches_unknown");else switch(e.kind){case"Sticker":t=n.use("me_attaches_sticker");break;case"Story":t=n.use("me_attaches_story");break;case"Link":t=n.use("me_attaches_link");break;case"Voice":t=n.use("me_attaches_audio_message");break;case"Market":t=n.use("me_attaches_market");break;case"MarketAlbum":t=n.use("me_unsupported_message");break;case"Gift":t=n.use("me_attaches_gift"+(e.isStickerStyle?"_sticker_style":""));break;case"Wall":t=n.use("me_attaches_wall");break;case"WallReply":t=n.use("me_attaches_wall_reply");break;case"Article":t=n.use("me_attaches_article");break;case"Call":case"ActiveCall":t=n.use("me_attaches_call");break;case"Graffiti":t=n.use("me_attaches_graffiti");break;case"Poll":t=n.use("me_attaches_poll");break;case"AudioPlaylist":t=n.use(`me_attaches_audio_playlist_${e.type}`);break;case"Podcast":t=n.use("me_attaches_podcast");break;case"MoneyTransfer":t=n.use("me_attaches_money_transfer");break;case"MoneyRequest":t=n.use("me_attaches_money_request")}return po().createElement(po().Fragment,null,t)},bu=({message:e})=>{const{lang:n}=wi();if("Service"===e.kind)return po().createElement(Eu,{message:e});if("Expired"===e.kind)return po().createElement("span",{className:"MessagePreview"},n.use("me_message_expired",{num:1}));const t=function(e){let n=Object.keys(e.attaches).length;return e.forwardedMessages&&e.forwardedMessages.length>0&&n++,n}(e),r=0!==t;let o="";if(t>1)o=n.use("me_attaches_attaches",{num:t});else if(e.forwardedMessages&&e.forwardedMessages.length>0)o=n.use("me_attaches_messages",{num:e.forwardedMessages.length});else if(r){const n=Object.values(e.attaches)[0];n&&(o=po().createElement(_u,{attach:n}))}return po().createElement("span",{className:"MessagePreview"},function(e,n){return e.chunks.reduce(((e,t)=>{switch(t.kind){case"Text":return e+t.text;case"Mention":case"ClientMention":return e+"@"+t.screenName;case"NamedMention":case"MassMention":return e+t.displayName;case"AliasMention":return e+"@"+t.displayName;case"Email":return e+t.email;case"Url":return e+t.caption;case"Hashtag":return e+t.tag;case"LineBreak":return e+(n.multiline?"\n":" ");default:return ye()}}),"")}(e,{multiline:!1}),"Pinned"!==e.kind&&e.updatedAt&&" "+n.use("me_message_edited_label"),r&&0===e.chunks.length&&po().createElement("span",{className:"MessagePreview__attach"}," ",o))},yu=({message:e})=>{const n=We(fi(),e.authorId);return po().createElement("div",{className:"Reply"},po().createElement("div",{className:"Reply__author"},po().createElement(Gi,{href:je(n),className:"Reply__authorLink"},Oe(n))),po().createElement("div",{className:"Reply__content"},po().createElement(bu,{message:e})))};var Bu=u(443),wu={};wu.styleTagTransform=h(),wu.setAttributes=l(),wu.insert=a().bind(null,"head"),wu.domAPI=o(),wu.insertStyleElement=A(),n()(Bu.Z,wu),Bu.Z&&Bu.Z.locals&&Bu.Z.locals;var xu=u(2283),ku={};ku.styleTagTransform=h(),ku.setAttributes=l(),ku.insert=a().bind(null,"head"),ku.domAPI=o(),ku.insertStyleElement=A(),n()(xu.Z,ku),xu.Z&&xu.Z.locals&&xu.Z.locals;var Du=u(5138),Su={};Su.styleTagTransform=h(),Su.setAttributes=l(),Su.insert=a().bind(null,"head"),Su.domAPI=o(),Su.insertStyleElement=A(),n()(Du.Z,Su),Du.Z&&Du.Z.locals&&Du.Z.locals;const Iu=e=>{var{href:n,payload:t,onClick:r,picture:o,title:i,meta:a,alt:s}=e,l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["href","payload","onClick","picture","title","meta","alt"]);const c="isInBubble"in l,u="isLongTitle"in l;return po().createElement(Gi,{href:n,payload:t,onClick:r,className:Ho()("AttachCard",{"AttachCard--withLongTitle":u,"AttachCard--withBackground":!c,"AttachCard--inBubble":c}),target:"_blank",rel:"noreferrer"},po().createElement("figure",{className:"AttachCard__pic"},"string"==typeof o?po().createElement("img",{src:o,alt:s,className:"AttachCard__img"}):o),po().createElement("div",{className:"AttachCard__main",style:"background"in l?{backgroundColor:l.background}:{}},po().createElement("div",{className:"AttachCard__content"},po().createElement("h2",{className:"AttachCard__title"},i),"caption"in l&&po().createElement("div",{className:"AttachCard__caption"},l.caption),po().createElement("div",{className:"AttachCard__meta"},a))))};function Fu(e,n){return 16*(e?3.5:4)*(n?"undefined"!=typeof window?window.devicePixelRatio:2:1)}var Mu=u(7820),Tu={};Tu.styleTagTransform=h(),Tu.setAttributes=l(),Tu.insert=a().bind(null,"head"),Tu.domAPI=o(),Tu.insertStyleElement=A(),n()(Mu.Z,Tu),Mu.Z&&Mu.Z.locals&&Mu.Z.locals;var Pu="0 0 24 24",Ou="link_24",zu=!1;function Nu(){zu||(ko(new(Eo())({id:Ou,viewBox:Pu,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="link_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M16.544 9.193L7.096 18.64a1.228 1.228 0 01-1.736-1.736l9.447-9.448H8.93A1.228 1.228 0 118.93 5h8.842C18.45 5 19 5.55 19 6.228v8.842a1.228 1.228 0 11-2.456 0V9.193z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),zu=!0)}var ju=function(e){return Do((function(){Nu()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Pu,id:Ou,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};ju.mountIcon=Nu;const Lu=ju;var Ru="0 0 24 24",Uu="story_outline_24",Wu=!1;function Hu(){Wu||(ko(new(Eo())({id:Uu,viewBox:Ru,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="story_outline_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" opacity=".1" /><path d="M9.128 3.1l6.046.002c1.56.019 2.367.191 3.204.639a4.534 4.534 0 011.881 1.88c.476.89.641 1.745.641 3.507v5.744c0 1.762-.165 2.617-.64 3.506a4.534 4.534 0 01-1.882 1.881c-.889.476-1.744.641-3.506.641H9.128c-1.762 0-2.617-.165-3.506-.64a4.534 4.534 0 01-1.881-1.882c-.476-.889-.641-1.744-.641-3.506l.002-6.046c.019-1.56.191-2.367.639-3.204A4.534 4.534 0 015.62 3.74c.89-.476 1.745-.641 3.507-.641zm5.744 1.8H9.128c-1.315 0-1.917.086-2.447.324l-.21.104A2.735 2.735 0 005.328 6.47C5.01 7.063 4.9 7.638 4.9 9.128v5.744c0 1.315.086 1.917.324 2.447l.104.21c.265.495.648.878 1.143 1.143.523.28 1.032.399 2.167.423l.49.005h5.744c1.315 0 1.917-.086 2.447-.324l.21-.104a2.735 2.735 0 001.143-1.143c.28-.523.399-1.032.423-2.167l.005-.49V9.128c0-1.315-.086-1.917-.324-2.447l-.104-.21a2.735 2.735 0 00-1.143-1.143c-.592-.317-1.167-.428-2.657-.428zM12 8.1a3.9 3.9 0 110 7.8 3.9 3.9 0 010-7.8zm0 1.8a2.1 2.1 0 100 4.2 2.1 2.1 0 000-4.2z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),Wu=!0)}var qu=function(e){return Do((function(){Hu()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Ru,id:Uu,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};qu.mountIcon=Hu;const Zu=qu;var Vu="0 0 24 24",Yu="money_transfer_24",Gu=!1;function $u(){Gu||(ko(new(Eo())({id:Yu,viewBox:Vu,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="money_transfer_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M16 18v-2.84a.5.5 0 01.8-.4l4.927 3.68a.5.5 0 010 .802l-4.928 3.68a.5.5 0 01-.799-.4V20H5a3 3 0 01-3-3V7a3 3 0 013-3h14a3 3 0 013 3v9.148l-2-1.494V12H4v5a1 1 0 001 1h11zm4-10V7a1 1 0 00-1-1H5a1 1 0 00-1 1v1h16z" fill="currentColor" /></g></symbol>'})),Gu=!0)}var Xu=function(e){return Do((function(){$u()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Vu,id:Yu,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};Xu.mountIcon=$u;const Ku=Xu,Qu=({href:e,onClick:n,title:t,meta:r,icon:o,payload:i})=>po().createElement(Gi,{href:e,payload:i,onClick:n,className:"AttachMiniCard",target:"_blank",rel:"noreferrer"},po().createElement("figure",{className:"AttachMiniCard__icon"},"link"===o&&po().createElement(Lu,null),"story"===o&&po().createElement(Zu,null),"moneyTransfer"===o&&po().createElement(Ku,null)),po().createElement("div",{className:"AttachMiniCard__title"},t),po().createElement("div",{className:"AttachMiniCard__meta"},r)),Ju=({link:e,isInBubble:n,background:t})=>{const r=hi(),{url:o,title:i,meta:a}=e,s=cr(e,Fu(n,r),0,!0);return s?n?po().createElement(Iu,{isInBubble:n,isLongTitle:!0,href:o,picture:s.url,title:i,alt:i,meta:a}):po().createElement(Iu,{isLongTitle:!0,href:o,picture:s.url,title:i,alt:i,meta:a,background:t}):po().createElement(Qu,{href:o,title:i,meta:a,icon:"link"})};var ed=u(813),nd={};nd.styleTagTransform=h(),nd.setAttributes=l(),nd.insert=a().bind(null,"head"),nd.domAPI=o(),nd.insertStyleElement=A(),n()(ed.Z,nd),ed.Z&&ed.Z.locals&&ed.Z.locals;const td=({market:e,isInBubble:n,background:t})=>{const r=ur(e),o=po().createElement(po().Fragment,null,e.price," ",e.priceOld&&po().createElement("span",{className:"AttachMarket__priceOld"},e.priceOld));return n?po().createElement(Iu,{isInBubble:n,isLongTitle:!0,href:r,picture:e.photo,title:e.title,alt:e.title,meta:o}):po().createElement(Iu,{isLongTitle:!0,href:r,picture:e.photo,title:e.title,alt:e.title,meta:o,background:t})};var rd=u(1012),od={};od.styleTagTransform=h(),od.setAttributes=l(),od.insert=a().bind(null,"head"),od.domAPI=o(),od.insertStyleElement=A(),n()(rd.Z,od),rd.Z&&rd.Z.locals&&rd.Z.locals;var id="0 0 24 24",ad="document_outline_24",sd=!1;function ld(){sd||(ko(new(Eo())({id:ad,viewBox:id,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="document_outline_24"><path d="M13.25 3.753H7.47c-1.2 0-2.169.928-2.169 2.065v11.764c0 1.137.968 2.065 2.17 2.065h9.209c1.2 0 2.169-.927 2.169-2.065V10.9h-2.274a3.325 3.325 0 01-3.325-3.325V3.753zm1.775 4.197c0 .649.526 1.175 1.175 1.175h2.317l-3.492-3.97V7.95zM3.5 5.818C3.5 3.706 5.28 2 7.47 2h5.921c.78 0 1.52.33 2.026.904L20.02 8.14c.406.461.629 1.047.629 1.653v7.79c0 2.111-1.78 3.817-3.97 3.817H7.47c-2.19 0-3.97-1.706-3.97-3.818V5.818z" fill="currentColor" /></symbol>'})),sd=!0)}var cd=function(e){return Do((function(){ld()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:id,id:ad,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};cd.mountIcon=ld;const ud=cd,dd=({doc:e})=>{const n=e.ext.toUpperCase()+" · "+ke(e.size);return po().createElement(Gi,{href:e.url,className:"AttachDoc",download:!0},po().createElement("figure",{className:"AttachDoc__icon"},po().createElement(ud,null)),po().createElement("div",{className:"AttachDoc__title"},e.title),po().createElement("div",{className:"AttachDoc__meta"},n))};var Ad=u(178),pd={};function hd(e,n,t,r){const o=t*r;if(e<=5)return{width:16*o,bitNumber:16};const i=Math.floor(n/o),a=Math.floor(n/o)*o;if(e>=30)return{width:a,bitNumber:i};const s=(i-16)/25,l=16+Math.floor(s*(e-5));return{width:l*o,bitNumber:l}}function md(e,n,t=2,r=2,o=20){return function(e,n,t,r=2){const o=[],i=e.length/n;if(i<=0)return[];let a=0,s=0,l=0,c=0,u=0;return e.forEach((e=>{if(c>i)for(;c>i;){if(c-=i,c<=.8&&(a+=e,s+=e*e,l++),l>0){const e=Math.round(Math.sqrt((s-a/l)/l)*Math.pow(10,r))/Math.pow(10,r);u<e&&(u=e),o.push(e)}a=s=l=0,c>.2&&(a+=e,s+=e*e,l++)}else a+=e,s+=e*e,l++;c++})),t?o.map((e=>e*t/Math.max(u,.01))):o}(e,n,1).reduce(((e,n,i)=>{const a=i*(t*r)+t/2,s=Math.round(100*Math.max(1,o*n))/100;return`${e}M${a},${Math.round(.5*(o-s)*100)/100}v${s}Z`}),"")}pd.styleTagTransform=h(),pd.setAttributes=l(),pd.insert=a().bind(null,"head"),pd.domAPI=o(),pd.insertStyleElement=A(),n()(Ad.Z,pd),Ad.Z&&Ad.Z.locals&&Ad.Z.locals;var fd="0 0 20 20",gd="chevron_up_outline_20",Cd=!1;function vd(){Cd||(ko(new(Eo())({id:gd,viewBox:fd,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="chevron_up_outline_20"><path d="M9.528 6.417a.75.75 0 01.944 0l5.25 4.25a.75.75 0 11-.944 1.166L10 7.965l-4.778 3.868a.75.75 0 11-.944-1.166z" fill="currentColor" /></symbol>'})),Cd=!0)}var Ed=function(e){return Do((function(){vd()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:fd,id:gd,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};Ed.mountIcon=vd;const _d=Ed;var bd="0 0 16 16",yd="text_16",Bd=!1;function wd(){Bd||(ko(new(Eo())({id:yd,viewBox:bd,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="text_16"><path d="M1.886 12.111c.468 0 .732-.234.896-.796l.446-1.319H6.28l.446 1.336c.158.55.421.78.92.78.515 0 .884-.346.884-.833a1.56 1.56 0 00-.111-.562l-2.32-6.293c-.252-.692-.662-.996-1.354-.996-.668 0-1.084.316-1.33 1.002l-2.309 6.287a1.816 1.816 0 00-.117.562c0 .51.346.832.897.832zm1.728-3.486L4.71 5.162h.041l1.12 3.463H3.613zm7.612 3.475c.785 0 1.57-.393 1.921-1.06h.036v.321c.035.504.357.762.82.762.486 0 .832-.293.832-.861v-3.58c0-1.266-1.049-2.098-2.66-2.098-1.301 0-2.309.463-2.602 1.213a.908.908 0 00-.088.387c0 .386.3.656.715.656a.863.863 0 00.68-.317c.38-.492.697-.662 1.219-.662.644 0 1.054.34 1.054.926v.416l-1.582.094c-1.57.094-2.449.756-2.449 1.898 0 1.131.908 1.905 2.104 1.905zm.562-1.237c-.574 0-.96-.293-.96-.761 0-.446.362-.733 1.001-.78l1.324-.082v.457c0 .68-.615 1.166-1.365 1.166z" fill="currentColor" /></symbol>'})),Bd=!0)}var xd=function(e){return Do((function(){wd()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:bd,id:yd,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};xd.mountIcon=wd;const kd=xd,Dd=({timestamp:e,variant:n})=>{const{lang:t}=wi(),r=mi();return po().createElement(po().Fragment,null,t.formatDate(e,{now:r,variant:n}))},Sd=po().memo((function({message:e,voice:n,dateSpacer:t}){const{player:r,lang:o,api:i,logger:a,stats:s}=wi(),{me_voice_asr:l}=vi(),[c,u]=(0,Ao.useState)(!1),[d,A]=(0,Ao.useState)("stopped"),[p,h]=(0,Ao.useState)(0),[m,f]=(0,Ao.useState)(!1),[g,C]=(0,Ao.useState)(0),v="Foreign"===e.kind?e.rootPeerId:e.peerId,E="Foreign"===e.kind?e.rootCmid:"Normal"===e.kind?e.cmid:void 0,_=(0,Ao.useCallback)((t=>{"Queued"!==e.kind&&s.logEvent("type_action",{type:"type_messaging_audio_message_item",type_messaging_audio_message_item:{audio_message_id:`audio_message${n.ownerId}_${n.id}`,peer_id:v,cmid:E||0,action_source:"fastchat_msg_list_attach",playback_rate:"play"===t.action_type?100:void 0,action_type:t.action_type,transcription_show:t.transcription_show,transcription_score:t.transcription_score}})}),[s,v,E,e.kind,n.ownerId,n.id]);(0,Ao.useEffect)((()=>{const e=r.subscribe((e=>{const t=e.currentTrack&&"Voice"===e.currentTrack.kind&&e.currentTrack.id===n.id&&"ended"!==e.status;u(t||!1),A((n=>("stopped"!==n&&"ended"===e.status&&_({action_type:"finish"}),t?e.status:"stopped"))),h(t?e.voiceProgress:0)}));return()=>e()}),[n.id,r,_]);const b="Foreign"===e.kind||n.isListened||"playing"===d&&!e.isOut,y=function(e,n){const{player:t}=wi(),r=ii(),o="Normal"===n.kind&&wn(n),i=(0,Ao.useCallback)((()=>{o&&r({type:"UserListenedVoice",messageId:n.id,peerId:n.peerId})}),[o,r,n]);let a=(0,Ao.useRef)(void 0);const s=(0,Ao.useRef)("stopped");if((0,Ao.useEffect)((()=>{if(!i)return;const n=t.subscribe((t=>{var r,o;if("Voice"===(null===(r=t.currentTrack)||void 0===r?void 0:r.kind)&&(null===(o=t.currentTrack)||void 0===o?void 0:o.id)===e.id&&t.status!==s.current){if(s.current=t.status,"playing"===t.status&&e.duration<=2)return i(),void n();"playing"!==t.status||a.current||(a.current=window.setTimeout((()=>{i(),a.current=void 0,n()}),1e3)),a.current&&"playing"!==t.status&&clearTimeout(a.current)}}));return()=>{a.current&&(clearTimeout(a.current),a.current=void 0),n()}}),[t,r,i,e.duration,e.id]),o)return i}(n,e),{waveWidth:B,waveCurve:w,isMeasuringActive:x,$container:k}=function(e,n,t,r,o){const[i,a]=(0,Ao.useState)(null),s=(0,Ao.useRef)(null),l=(0,Ao.useRef)("measure"),c=(0,Ao.useRef)(0);return(0,Ao.useLayoutEffect)((()=>{if(!window.ResizeObserver)return;const t=new ResizeObserver((([t])=>{if(!t)return;let r;switch(r=t.contentBoxSize?(Array.isArray(t.contentBoxSize)?t.contentBoxSize[0]:t.contentBoxSize).inlineSize:t.contentRect.width,r=Math.floor(r),l.current){case"commit":return void(l.current="ready");case"ready":{const{width:n}=hd(e,c.current,2,2);if(n<=r)return;break}case"measure":c.current=r}const{bitNumber:o,width:i}=hd(e,r,2,2);a({width:i,curve:md(n,o,2,2,12)}),l.current="commit"}));return s.current&&t.observe(s.current),()=>t.disconnect()}),[e,n,12,2,o]),{$container:s,waveWidth:(null==i?void 0:i.width)||0,waveCurve:(null==i?void 0:i.curve)||"",isMeasuringActive:!(null==i?void 0:i.width)}}(n.duration,n.waveform,0,0,.5),D=(0,Ao.useCallback)((e=>{c&&"playing"===d?(r.pause(),_({action_type:"pause"})):c?(r.resume(),_({action_type:"play"})):(r.play(Td(v,n),p),_({action_type:"play"}))}),[c,d,r,v,n,p,_]),S=(0,Ao.useCallback)((e=>{if(e.target.closest(".AttachVoice__asrButton")||e.target.closest(".AttachVoice__play"))return;const t=Td(v,n),o=e.target.closest(".AttachVoice__track");if(o){const n=(e.clientX-Wi(o).left)/B;return r.play(t,n),void _({action_type:"play"})}c||(r.play(t,0),_({action_type:"play"}),e.preventDefault())}),[v,n,c,r,B,_]),I=n.isTranscriptPossible&&"Queued"!==e.kind&&!!e.id,F=(0,Ao.useCallback)((t=>{const r=!m;r&&!n.transcription&&I&&(i.fetch("messages.recogniseAudioMessage",{message_id:e.id,audio_message_id:n.id.toString()}).catch((e=>{a.error("Не удалось запросить транскрипцию голосового",e)})),_({action_type:"transcript_loading"})),r&&y&&y(),r&&C(g+1),f(r),_({action_type:"transcript_toggle",transcription_show:r?1:0})}),[i,_,I,y,m,g,a,e,n]),M="playing"===d||"paused"===d,T=Se(n.duration||1);return po().createElement("div",{className:Ho()("AttachVoice",{"AttachVoice--active":M,"AttachVoice--playing":"playing"===d})},po().createElement("div",{className:"AttachVoice__player",onClick:S},po().createElement("button",{className:"AttachVoice__play",onClick:D},po().createElement(Id,{isPlaying:"playing"===d,isMarkedListened:b})),po().createElement("div",{className:"AttachVoice__track",ref:k},!x&&po().createElement(po().Fragment,null,M&&po().createElement("svg",{className:"AttachVoice__svg AttachVoice__svg--shadow",width:B,height:12,strokeWidth:2,style:{clipPath:`inset(0 ${(1-p)*B}px 0 0)`}},po().createElement("path",{className:"AttachVoice__progress",d:w})),po().createElement("svg",{className:"AttachVoice__svg",width:B,height:12,strokeWidth:2,style:M?{clipPath:`inset(0 0 0 ${p*B}px)`}:{}},po().createElement("path",{className:"AttachVoice__path",d:w})))),l&&(n.transcription||I)&&po().createElement("button",{className:"AttachVoice__asrButton","aria-label":m?o.use("me_voice_asr_toggle_close"):o.use("me_voice_asr_toggle_open"),onClick:F,onMouseDown:Pd},m?po().createElement(_d,null):po().createElement(kd,null)),po().createElement("div",{className:"AttachVoice__duration",style:{width:T.length+"ch"}},M?Se(Math.floor(n.duration*p)):T)),m&&po().createElement(Fd,{voice:n,openedCount:g,dateSpacer:t}))})),Id=({isPlaying:e,isMarkedListened:n})=>po().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"AttachVoice__playIcon",width:"32",height:"32",fill:"currentColor"},!e&&n&&po().createElement("path",{d:"M32 16a16 16 0 11-32 0 16 16 0 0132 0zm-9.85.87a1 1 0 000-1.74l-8.64-4.99a1 1 0 00-1.51.87V21a1 1 0 001.5.87l8.65-5z"}),!e&&!n&&po().createElement(po().Fragment,null,po().createElement("path",{d:"M30.28 23.23a16 16 0 1 0-7.05 7.05 5 5 0 0 1 7.05-7.05Zm-8.13-8.1a1 1 0 0 1 0 1.74l-8.64 5A1 1 0 0 1 12 21V11a1 1 0 0 1 1.5-.87l8.65 5Z"}),po().createElement("circle",{cx:"27",cy:"27",r:"3"})),e&&n&&po().createElement("path",{d:"M32 16a16 16 0 1 1-32 0 16 16 0 0 1 32 0Zm-20.9-5.45c-.1.21-.1.49-.1 1.05v8.8c0 .56 0 .84.1 1.05a1 1 0 0 0 .45.44c.21.11.49.11 1.05.11h.8c.56 0 .84 0 1.05-.1a1 1 0 0 0 .44-.45c.11-.21.11-.49.11-1.05v-8.8c0-.56 0-.84-.1-1.05a1 1 0 0 0-.45-.44c-.21-.11-.49-.11-1.05-.11h-.8c-.56 0-.84 0-1.05.1a1 1 0 0 0-.44.45Zm6 0c-.1.21-.1.49-.1 1.05v8.8c0 .56 0 .84.1 1.05a1 1 0 0 0 .45.44c.21.11.49.11 1.05.11h.8c.56 0 .84 0 1.05-.1a1 1 0 0 0 .44-.45c.11-.21.11-.49.11-1.05v-8.8c0-.56 0-.84-.1-1.05a1 1 0 0 0-.45-.44c-.21-.11-.49-.11-1.05-.11h-.8c-.56 0-.84 0-1.05.1a1 1 0 0 0-.44.45Z"}),e&&!n&&po().createElement(po().Fragment,null,po().createElement("path",{d:"M30.28 23.23a16 16 0 1 0-7.05 7.05 5 5 0 0 1 7.05-7.05ZM11 11.6c0-.56 0-.84.1-1.05a1 1 0 0 1 .45-.44c.21-.11.49-.11 1.05-.11h.8c.56 0 .84 0 1.05.1a1 1 0 0 1 .44.45c.11.21.11.49.11 1.05v8.8c0 .56 0 .84-.1 1.05a1 1 0 0 1-.45.44c-.21.11-.49.11-1.05.11h-.8c-.56 0-.84 0-1.05-.1a1 1 0 0 1-.44-.45c-.11-.21-.11-.49-.11-1.05v-8.8Zm6 0c0-.56 0-.84.1-1.05a1 1 0 0 1 .45-.44c.21-.11.49-.11 1.05-.11h.8c.56 0 .84 0 1.05.1a1 1 0 0 1 .44.45c.11.21.11.49.11 1.05v8.8c0 .56 0 .84-.1 1.05a1 1 0 0 1-.45.44c-.21.11-.49.11-1.05.11h-.8c-.56 0-.84 0-1.05-.1a1 1 0 0 1-.44-.45c-.11-.21-.11-.49-.11-1.05v-8.8Z"}),po().createElement("circle",{cx:"27",cy:"27",r:"3"}))),Fd=({voice:e,openedCount:n=0,dateSpacer:t})=>{const{lang:r}=wi();if(!e.transcription)return po().createElement("div",{className:"AttachVoice__transcript"},po().createElement("span",{className:"AttachVoice__transcriptStub"},r.use("me_voice_asr_status_in_progress")));let o;switch(e.transcription.state){case"done":if(!e.transcription.text&&n%3==0){o=po().createElement("span",{className:"AttachVoice__transcriptStub"},function(e,n){var t;const r=Md.get(n);if(r)return r;const o=e.use("me_voice_asr_status_empty_set").split("|"),i=(null===(t=o[Math.floor(Math.random()*o.length)])||void 0===t?void 0:t.trim())||"";return Md.set(n,i),i}(r,n));break}if(!e.transcription.text){o=po().createElement("span",{className:"AttachVoice__transcriptStub"},r.use("me_voice_asr_status_empty"));break}o=po().createElement(po().Fragment,null,e.transcription.text,e.transcription.updatedAt&&po().createElement(po().Fragment,null," ",po().createElement(Zi,{content:po().createElement(Dd,{timestamp:e.transcription.updatedAt,variant:"datetime"}),position:"top",align:"center",delay:500},po().createElement("span",{className:"AttachVoice__transcriptEditedLabel"},r.use("me_message_edited_label")))));break;case"in_progress":o=po().createElement("span",{className:"AttachVoice__transcriptStub"},r.use("me_voice_asr_status_in_progress"));break;case"error":o=po().createElement("span",{className:"AttachVoice__transcriptStub"},r.use("me_voice_asr_status_empty"));break;default:o=null}return po().createElement("div",{className:"AttachVoice__transcript"},o,t)},Md=new Map;function Td(e,n){return{kind:"Voice",url:n.linkMp3,id:n.id,ownerId:n.ownerId,peerId:e}}function Pd(e){e.preventDefault()}var Od=u(2540),zd={};zd.styleTagTransform=h(),zd.setAttributes=l(),zd.insert=a().bind(null,"head"),zd.domAPI=o(),zd.insertStyleElement=A(),n()(Od.Z,zd),Od.Z&&Od.Z.locals&&Od.Z.locals;const Nd=po().memo((function({message:e,audio:n}){const{player:t}=wi(),[r,o]=(0,Ao.useState)(!1),[i,a]=(0,Ao.useState)("stopped"),[s,l]=(0,Ao.useState)(0);(0,Ao.useEffect)((()=>{const e=t.subscribe((e=>{const t=e.currentTrack&&"Audio"===e.currentTrack.kind&&e.currentTrack.id===n.id&&"ended"!==e.status;o(t||!1),a(t?e.status:"stopped"),l(t?e.progress:0)}));return()=>e()}),[n,t]);const c=(0,Ao.useCallback)((o=>{const a=function(e,n){return n.url?Object.assign(Object.assign({url:n.url},n),{peerId:e}):null}("Foreign"===e.kind?e.rootPeerId:e.peerId,n);a&&(r&&"playing"===i?t.pause():r?t.resume():t.play(a,s),o.preventDefault())}),[n,t,i,s,r,e]);return po().createElement("div",{className:Ho()("AttachAudio",{"AttachAudio--active":"playing"===i||"paused"===i,"AttachAudio--playing":"playing"===i})},po().createElement("button",{className:"AttachAudio__play",onClick:c},po().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"AttachVoice__playIcon",width:8,height:10,fill:"currentColor"},"playing"!==i&&po().createElement("path",{d:"M1.54 9.4A1 1 0 010 8.58V1.43A1 1 0 011.54.59l5.9 3.82a.7.7 0 010 1.18L1.54 9.4z"}),"playing"===i&&po().createElement("path",{d:"M.6 0a.6.6 0 00-.6.6v8.8c0 .33.27.6.6.6h1.8a.6.6 0 00.6-.6V.6a.6.6 0 00-.6-.6H.6zm5 0a.6.6 0 00-.6.6v8.8c0 .33.27.6.6.6h1.8a.6.6 0 00.6-.6V.6a.6.6 0 00-.6-.6H5.6z"}))),po().createElement("div",{className:"AttachAudio__title"},n.title),po().createElement("div",{className:"AttachAudio__artist"},n.artist),po().createElement("div",{className:"AttachAudio__duration","data-filler":jd(n.duration)},po().createElement("div",{className:"AttachAudio__durationIn"},"playing"===i||"paused"===i?t.timeLeft(!1):Se(n.duration))))}));function jd(e,n=!0){return(n?"-":"")+Math.floor(e/60).toString().split("").fill("0").join("")+":00"}var Ld=u(7160),Rd={};Rd.styleTagTransform=h(),Rd.setAttributes=l(),Rd.insert=a().bind(null,"head"),Rd.domAPI=o(),Rd.insertStyleElement=A(),n()(Ld.Z,Rd),Ld.Z&&Ld.Z.locals&&Ld.Z.locals;var Ud="0 0 32 32",Wd="play_32",Hd=!1;function qd(){Hd||(ko(new(Eo())({id:Wd,viewBox:Ud,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="play_32"><path d="M24.948 14.001c1.154.656 1.732.984 1.925 1.412.17.374.17.8 0 1.174-.194.428-.77.756-1.925 1.412l-12.43 7.061c-1.154.656-1.732.984-2.205.935a1.471 1.471 0 01-1.033-.587C9 25.03 9 24.373 9 23.061V8.938c0-1.311 0-1.967.28-2.347.244-.33.62-.543 1.033-.586.473-.05 1.05.279 2.205.935L24.948 14z" fill="currentColor" /></symbol>'})),Hd=!0)}var Zd=function(e){return Do((function(){qd()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Ud,id:Wd,width:isNaN(e.width)?32:+e.width,height:isNaN(e.height)?32:+e.height}))};Zd.mountIcon=qd;const Vd=Zd,Yd=9,Gd=16,$d=({videos:e,isInBubble:n,forwardLevel:t=0})=>{const r=hi(),[,o]=function(e,n,t){const r=216+(n?0:8)-(t>0?22+10*(t-1):0);return[r,r*(e?"undefined"!=typeof window?window.devicePixelRatio:2:1)]}(r,n,t);return po().createElement("div",{className:Ho()("AttachVideos",{"AttachVideos--inBubble":n})},e.map((e=>{const{height:n=Yd,width:t=Gd,duration:r}=e,i=cr(e,o);return i?po().createElement("div",{className:"AttachVideos__item",key:e.id},po().createElement(Gi,{href:ur(e),payload:e,className:"AttachVideos__video",style:{backgroundImage:`url('${i.url}')`,paddingTop:n/t*100+"%",height:0}},po().createElement("div",{className:"AttachVideos__videoPlay"},po().createElement(Vd,null)),void 0!==r&&po().createElement("div",{className:"AttachVideos__videoDuration"},Se(r)))):null})))};var Xd=u(9189),Kd={};Kd.styleTagTransform=h(),Kd.setAttributes=l(),Kd.insert=a().bind(null,"head"),Kd.domAPI=o(),Kd.insertStyleElement=A(),n()(Xd.Z,Kd),Xd.Z&&Xd.Z.locals&&Xd.Z.locals;const Qd=({photos:e,isInBubble:n,forwardLevel:t=0})=>{const r=hi(),[o,i]=function(e,n,t){const r=232+(n?0:8)-(t>0?22+10*(t-1):0);return[r,r*(e?"undefined"!=typeof window?window.devicePixelRatio:2:1)]}(r,n,t);return po().createElement("div",{className:Ho()("AttachPhotos",{"AttachPhotos--inBubble":n})},e.map((e=>{const n=cr(e,i);if(!n)return null;const t=Math.min(n.width,o),r=Math.ceil(n.height/n.width*t);return po().createElement(Gi,{href:ur(e),payload:e,target:"_blank",rel:"noreferrer",key:e.id,className:"AttachPhotos__link",style:{width:t,height:r}},po().createElement("img",{src:n.url,alt:"",className:"AttachPhotos__img"}))})))},Jd=({story:e,isInBubble:n,background:t})=>{const{lang:r}=wi(),o=fi(),i=ur(e),a=hi(),s=r.use("me_story_from",{values:{from:Oe(We(o,Ie(e.ownerId)),"acc")}}),l=e.date?po().createElement(Dd,{timestamp:e.date,variant:"date"}):"";if(!e.image)return po().createElement(Qu,{href:i,title:s,meta:e.available?l:r.use("me_story_unavailable"),icon:"story"});const c=cr(e,Fu(a,n));return c?n?po().createElement(Iu,{isInBubble:n,isLongTitle:!0,href:i,payload:e,picture:c.url,title:s,alt:s,meta:e.available?l:r.use("me_story_unavailable")}):po().createElement(Iu,{isLongTitle:!0,href:i,payload:e,picture:c.url,title:s,alt:s,meta:e.available?l:r.use("me_story_unavailable"),background:t}):null};var eA=u(4863),nA={};nA.styleTagTransform=h(),nA.setAttributes=l(),nA.insert=a().bind(null,"head"),nA.domAPI=o(),nA.insertStyleElement=A(),n()(eA.Z,nA),eA.Z&&eA.Z.locals&&eA.Z.locals;var tA="0 0 24 24",rA="playlist_24",oA=!1;function iA(){oA||(ko(new(Eo())({id:rA,viewBox:tA,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="playlist_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M13 6.883A.88.88 0 0012.118 6H2.882A.888.888 0 002 6.883v.234A.88.88 0 002.882 8h9.236A.888.888 0 0013 7.117v-.234zm0 4a.88.88 0 00-.882-.883H2.882a.888.888 0 00-.882.883v.234a.88.88 0 00.882.883h9.236a.888.888 0 00.882-.883v-.234zM2 15.117v-.234A.89.89 0 012.885 14h4.227c.492 0 .885.395.885.883v.234a.89.89 0 01-.885.883H2.885A.882.882 0 012 15.117zm15.004.694c0 3.752-.993 4.654-3.776 5.142-1.48.259-3.223-.479-3.223-2.81 0-1.14.712-2.221 2.187-2.504 1.127-.216-.42.052 2.128-.42.618-.116.689-.337.689-.809 0-.236-.006-.428-.013-1.85V8.724s-.005-1.83 0-2.745c.006-1.094.833-1.496 2.596-1.852 0 0 2.35-.339 3.827-.607.327-.06.576.062.576.437V7.4c0 .37-.15.537-.524.603a228.49 228.49 0 01-3.986.649c-.333.081-.485.315-.485.652l.004 6.508z" fill="currentColor" /></g></symbol>'})),oA=!0)}var aA=function(e){return Do((function(){iA()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:tA,id:rA,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};aA.mountIcon=iA;const sA=aA,lA=({playlist:e,isInBubble:n,background:t})=>{const r=hi(),[o,i,a]=e.image||[],s=(r?null==a?void 0:a.url:null==i?void 0:i.url)||(null==o?void 0:o.url)||po().createElement("figure",{className:"AttachAudioPlaylist__icon"},po().createElement(sA,null)),l={isLongTitle:!0,title:e.title,alt:e.title,href:ur(e),meta:po().createElement(_u,{attach:e}),picture:s};return n?po().createElement(Iu,Object.assign({isInBubble:!0},l)):po().createElement(Iu,Object.assign({background:t},l))},cA=({message:e,moneyTransfer:n})=>po().createElement(Qu,{title:n.text,href:bn(e),payload:n,meta:po().createElement(_u,{attach:n}),icon:"moneyTransfer"});var uA=u(5972),dA={};dA.styleTagTransform=h(),dA.setAttributes=l(),dA.insert=a().bind(null,"head"),dA.domAPI=o(),dA.insertStyleElement=A(),n()(uA.Z,dA),uA.Z&&uA.Z.locals&&uA.Z.locals;const AA=({message:e,geo:n,isInBubble:t})=>{const r=hi(),{lang:o}=wi(),i=300*(r?2:1),a=Math.floor(.5625*i),s=function({latitude:e,longitude:n},{width:t,height:r,zoom:o,locale:i,point:a}){let s="en_US";["ru","br","kz"].includes(i)?s="ru_RU":"ua"===i&&(s="uk_UA"),t>650&&(r=Math.round(650/t*r),t=650),r>450&&(t=Math.round(450/r*t),r=450);const l=new URL("https://static-maps.yandex.ru/1.x/");return l.search=new URLSearchParams({ll:`${n},${e}`,size:`${t},${r}`,z:`${o}`,lang:s,l:"map",pt:`${n},${e},${a}`,key:"AKPeBEwBAAAA0qePSQIA03AwA4O4ze6XTqIecsNp7REB6VYAAAAAAAAAAADNzChqedeUxsCAyYkFUHiD7MPITA=="}).toString(),l.toString()}(n.coordinates,{width:i,height:a,locale:o.locale,zoom:12,point:"vkbkm"}),l=n.place?function(e){return e.title?e.title:[e.country,e.city,e.address].filter(Boolean).join(", ")}(n.place):"";return po().createElement(Gi,{href:bn(e),title:l,payload:n,className:Ho()("AttachGeo",{"AttachGeo--inBubble":t})},po().createElement("img",{className:"AttachGeo__mapImage",src:s,alt:l}))};var pA=u(7436),hA={};hA.styleTagTransform=h(),hA.setAttributes=l(),hA.insert=a().bind(null,"head"),hA.domAPI=o(),hA.insertStyleElement=A(),n()(pA.Z,hA),pA.Z&&pA.Z.locals&&pA.Z.locals;const mA=po().memo((function({miniApp:e}){const{title:n,images:t}=e,r=hi(),{lang:o}=wi(),[i,a]=t,s=((r?i:a)||i).url;return po().createElement(Gi,{payload:e,href:ur(e),target:"_blank",rel:"noreferrer",className:"AttachMiniApp"},po().createElement("div",{className:"AttachMiniApp__cover"},po().createElement("img",{className:"AttachMiniApp__coverImage",src:s,alt:o.use("me_attaches_mini_app_alt")})),po().createElement("div",{className:"AttachMiniApp__fields"},po().createElement("h2",{className:"AttachMiniApp__fieldsTitle"},n),po().createElement("h3",{className:"AttachMiniApp__fieldsDescription"},o.use("me_attaches_mini_app_description"))))})),fA=({message:e,isInBubble:n,forwardLevel:t=0,dateSpacer:r})=>{const o={isInBubble:n,background:"Foreign"!==e.kind&&e.isOut?"var(--im_bubble_outgoing)":"var(--im_bubble_incoming)"};return po().createElement("div",{className:"Attachments"},e.attaches.photos&&po().createElement(Qd,{photos:e.attaches.photos,isInBubble:n,forwardLevel:t}),e.attaches.videos&&po().createElement($d,Object.assign({},o,{videos:e.attaches.videos,forwardLevel:t})),e.attaches.link&&po().createElement(Ju,Object.assign({link:e.attaches.link},o)),e.attaches.market&&po().createElement(td,Object.assign({market:e.attaches.market},o)),e.attaches.story&&po().createElement(Jd,Object.assign({story:e.attaches.story},o)),e.attaches.geo&&po().createElement(AA,Object.assign({message:e,geo:e.attaches.geo},o)),e.attaches.docs&&e.attaches.docs.map((e=>po().createElement(dd,Object.assign({key:e.id,doc:e},o)))),e.attaches.voice&&po().createElement(Sd,{message:e,voice:e.attaches.voice,dateSpacer:r}),e.attaches.audios&&e.attaches.audios.map((n=>po().createElement(Nd,{message:e,audio:n,key:n.id}))),e.attaches.podcast&&po().createElement(lA,Object.assign({playlist:e.attaches.podcast},o)),e.attaches.audioPlaylist&&po().createElement(lA,Object.assign({playlist:e.attaches.audioPlaylist},o)),e.attaches.miniApps&&e.attaches.miniApps.map(((e,n)=>po().createElement(mA,{key:n,miniApp:e}))),e.attaches.moneyRequest&&po().createElement(cA,Object.assign({message:e,moneyTransfer:e.attaches.moneyRequest},o)),e.attaches.moneyTransfer&&po().createElement(cA,Object.assign({message:e,moneyTransfer:e.attaches.moneyTransfer},o)))};var gA=u(71),CA={};CA.styleTagTransform=h(),CA.setAttributes=l(),CA.insert=a().bind(null,"head"),CA.domAPI=o(),CA.insertStyleElement=A(),n()(gA.Z,CA),gA.Z&&gA.Z.locals&&gA.Z.locals;var vA=u(5724),EA=u.n(vA);const _A=({sticker:e,size:n,className:t})=>{const r=hi(),o=(0,mo.useAppearance)(),i=(0,Ao.useRef)(null);(0,Ao.useEffect)((()=>{if(!i.current||!e.animation)return;const n=i.current,t=n.getBoundingClientRect(),r=t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth),o=EA().loadAnimation({container:n,autoplay:r,loop:2,renderer:"svg",path:e.animation.light}),a=()=>{o.isPaused&&(o.stop(),o.play())};return n.addEventListener("mouseenter",a),()=>{n.removeEventListener("mouseenter",a),o.destroy()}}),[e]);const a=r?e.image256:e.image128;return po().createElement("div",{ref:i,className:Ho()("AttachSticker",n&&`AttachSticker--size-${n}`,t)},!e.animation&&po().createElement("img",{className:"AttachSticker__static",src:"dark"===o?a.dark:a.light,alt:""}))};var bA=u(8516),yA={};yA.styleTagTransform=h(),yA.setAttributes=l(),yA.insert=a().bind(null,"head"),yA.domAPI=o(),yA.insertStyleElement=A(),n()(bA.Z,yA),bA.Z&&bA.Z.locals&&bA.Z.locals;var BA=u(3669),wA={};wA.styleTagTransform=h(),wA.setAttributes=l(),wA.insert=a().bind(null,"head"),wA.domAPI=o(),wA.insertStyleElement=A(),n()(BA.Z,wA),BA.Z&&BA.Z.locals&&BA.Z.locals;var xA=u(8049),kA={};kA.styleTagTransform=h(),kA.setAttributes=l(),kA.insert=a().bind(null,"head"),kA.domAPI=o(),kA.insertStyleElement=A(),n()(xA.Z,kA),xA.Z&&xA.Z.locals&&xA.Z.locals;var DA=u(8422),SA={};SA.styleTagTransform=h(),SA.setAttributes=l(),SA.insert=a().bind(null,"head"),SA.domAPI=o(),SA.insertStyleElement=A(),n()(DA.Z,SA),DA.Z&&DA.Z.locals&&DA.Z.locals;var IA="0 0 16 16",FA="user_add_16",MA=!1;function TA(){MA||(ko(new(Eo())({id:FA,viewBox:IA,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="user_add_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M12.5 5.5a2.5 2.5 0 10-4.999-.001A2.5 2.5 0 0012.5 5.5zM3.5 7h1.25a.75.75 0 010 1.5H3.5v1.25a.75.75 0 11-1.5 0V8.5H.75a.75.75 0 010-1.5H2V5.75a.75.75 0 011.5 0V7zM5 11.77C5 9.614 8.197 9 10 9s5 .615 5 2.77v.434c0 .44-.356.796-.796.796H5.796A.796.796 0 015 12.204v-.435z" fill="currentColor" /></g></symbol>'})),MA=!0)}var PA=function(e){return Do((function(){TA()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:IA,id:FA,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};PA.mountIcon=TA;const OA=PA;var zA="0 0 16 16",NA="done_16",jA=!1;function LA(){jA||(ko(new(Eo())({id:NA,viewBox:zA,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="done_16"><path d="M13.743 3.756a.872.872 0 010 1.237l-7.317 7.25a.88.88 0 01-1.242 0L2.257 9.366a.872.872 0 010-1.237.88.88 0 011.242 0l2.306 2.261L12.5 3.756a.88.88 0 011.242 0z" fill="currentColor" /></symbol>'})),jA=!0)}var RA=function(e){return Do((function(){LA()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:zA,id:NA,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};RA.mountIcon=LA;const UA=RA;var WA="0 0 16 16",HA="user_check_16",qA=!1;function ZA(){qA||(ko(new(Eo())({id:HA,viewBox:WA,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="user_check_16"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.78 5.72a.75.75 0 010 1.06l-3 3a.75.75 0 01-1.06 0l-1.5-1.5a.75.75 0 111.06-1.06l.97.97 2.47-2.47a.75.75 0 011.06 0z" fill="currentColor" /><path d="M12.5 5.5a2.5 2.5 0 10-4.999-.001A2.5 2.5 0 0012.5 5.5zM10 9c1.803 0 5 .615 5 2.77v.434c0 .44-.356.796-.796.796H5.796A.796.796 0 015 12.204v-.435C5 9.615 8.197 9 10 9z" fill="currentColor" /></symbol>'})),qA=!0)}var VA=function(e){return Do((function(){ZA()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:WA,id:HA,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};VA.mountIcon=ZA;const YA=VA;var GA="0 0 16 16",$A="phone_16",XA=!1;function KA(){XA||(ko(new(Eo())({id:$A,viewBox:GA,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="phone_16"><path d="M5.443 2.64l.575.684c.796.943.713 2.365-.19 3.268l-.49.49a.475.475 0 00-.11.499c.179.487.634 1.096 1.364 1.827.732.731 1.34 1.185 1.827 1.364.174.064.369.02.5-.11l.489-.49c.903-.902 2.324-.985 3.269-.19l.683.574c.779.656.858 1.839.175 2.64-.372.431-.896.702-1.463.756-2.182.294-4.471-.758-6.868-3.155-2.398-2.398-3.45-4.688-3.156-6.87a2.213 2.213 0 01.756-1.464c.802-.68 1.984-.602 2.64.178z" fill="currentColor" /></symbol>'})),XA=!0)}var QA=function(e){return Do((function(){KA()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:GA,id:$A,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};QA.mountIcon=KA;const JA=QA;var ep="0 0 20 20",np="phone_outline_20",tp=!1;function rp(){tp||(ko(new(Eo())({id:np,viewBox:ep,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="phone_outline_20"><g fill="none" fill-rule="evenodd"><path opacity=".1" d="M0 0h20v20H0z" /><path d="M7.78 2.7l.7.833c1.373 1.628 1.229 4.054-.299 5.582l-.297.296c.226.38.633.878 1.23 1.475.53.53.984.912 1.344 1.149l.13.082.298-.297c1.526-1.527 3.95-1.672 5.58-.302l.833.702c1.46 1.229 1.602 3.419.346 4.894a3.859 3.859 0 01-2.29 1.289l-.506.06c-3.005.292-6.037-1.16-9.094-4.217-3.056-3.056-4.51-6.09-4.226-9.025l.06-.515a3.834 3.834 0 011.3-2.354l.168-.135c1.462-1.107 3.54-.924 4.723.484zm-3.911.788c-.321.276-.562.633-.698 1.033a2.37 2.37 0 00-.115.552c-.343 2.548.898 5.25 3.76 8.112 2.86 2.862 5.562 4.103 8.123 3.758a2.376 2.376 0 001.571-.81c.719-.844.636-2.082-.177-2.766l-.833-.701-.142-.112c-1.02-.739-2.471-.614-3.411.326l-.597.598-.088.076a.903.903 0 01-.862.133c-.648-.238-1.425-.818-2.346-1.74-.923-.923-1.503-1.7-1.74-2.347a.903.903 0 01.209-.95l.598-.597.129-.137c.862-.987.906-2.44.084-3.416l-.702-.834-.112-.122c-.7-.697-1.853-.735-2.651-.056z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),tp=!0)}var op=function(e){return Do((function(){rp()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:ep,id:np,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};op.mountIcon=rp;const ip=op;var ap="0 0 20 20",sp="videocam_outline_20",lp=!1;function cp(){lp||(ko(new(Eo())({id:sp,viewBox:ap,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="videocam_outline_20"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.96 13.705c-.035.385-.103.676-.233.93a2.5 2.5 0 01-1.092 1.092C12.1 16 11.4 16 10 16H5c-1.4 0-2.1 0-2.635-.273a2.5 2.5 0 01-1.093-1.092C1 14.1 1 13.4 1 12V8c0-1.4 0-2.1.272-2.635a2.5 2.5 0 011.093-1.093C2.9 4 3.6 4 5 4h5c1.4 0 2.1 0 2.635.272a2.5 2.5 0 011.092 1.093c.13.254.198.545.233.93l1.3-.742c1.666-.953 3.74.25 3.74 2.17v4.554c0 1.92-2.074 3.123-3.74 2.17l-1.3-.742zM5 5.5h5c.725 0 1.178.001 1.52.03.324.026.413.068.434.079a1 1 0 01.437.437c.01.02.053.11.08.434.028.342.029.795.029 1.52v4c0 .725-.001 1.178-.03 1.52-.026.324-.069.413-.079.434a1 1 0 01-.437.437c-.02.01-.11.053-.434.08-.342.028-.795.029-1.52.029H5c-.725 0-1.178-.001-1.52-.03-.324-.026-.413-.069-.434-.079a1 1 0 01-.437-.437c-.01-.02-.053-.11-.08-.434-.028-.342-.029-.795-.029-1.52V8c0-.725.001-1.178.03-1.52.026-.324.068-.413.079-.434a1 1 0 01.437-.437c.02-.01.11-.053.434-.08.342-.028.795-.029 1.52-.029zm9 6.5l2.004 1.145a1 1 0 001.496-.868V7.723a1 1 0 00-1.496-.868L14 8m0 0v4-4z" fill="currentColor" /></symbol>'})),lp=!0)}var up=function(e){return Do((function(){cp()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:ap,id:sp,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};up.mountIcon=cp;const dp=up,Ap=({user:e,onWrite:n,onCall:t,onChangeFriendship:r})=>{const{lang:o}=wi(),[i,a]=(0,Ao.useState)(!1),s=ni(i,200),l={unfamiliar:{icon:po().createElement(OA,{className:"PeerInfoActions__buttonIcon"}),text:e.canChangeFriendship?o.use("me_add_to_friends"):o.use("me_user_friendship_subscribe"),action:"add",mode:"primary"},incomingRequest:{icon:po().createElement(OA,{className:"PeerInfoActions__buttonIcon"}),text:o.use("me_friend_request_confirm"),action:"add",mode:"secondary"},outgoingRequest:{icon:po().createElement(UA,{className:"PeerInfoActions__buttonIcon"}),text:e.canChangeFriendship?o.use("me_friend_request_sent"):o.use("me_user_friendship_unsubscribe"),action:"delete",mode:"secondary"},friends:{icon:po().createElement(YA,{className:"PeerInfoActions__buttonIcon"}),text:o.use("me_in_your_friends"),action:"delete",mode:"secondary"}}[e.friendship],c=(0,Ao.useMemo)((()=>"incomingRequest"===e.friendship),[]);return po().createElement("div",{className:"PeerInfoActions"},n&&po().createElement(mo.Button,{mode:"primary",onClick:()=>n(e.id)},o.use("me_write_private_message")),t&&po().createElement(po().Fragment,null,po().createElement(mo.Button,{className:Ho()({"PeerInfoActions__button--icon":!n}),mode:"primary",onClick:()=>t(e.id,!1),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},n?po().createElement(JA,{className:"PeerInfoActions__buttonIcon"}):o.use("me_start_call")),po().createElement("div",{className:Ho()("PeerInfoActions__callDropdown",{"PeerInfoActions__callDropdown--visible":s}),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},po().createElement("div",{className:"PeerInfoActions__callDropdownList"},po().createElement("button",{className:"PeerInfoActions__callDropdownAction",onClick:()=>t(e.id,!1)},po().createElement(ip,{className:"PeerInfoActions__callDropdownIcon"}),po().createElement(mo.Text,{className:"PeerInfoActions__callDropdownText",weight:"regular"},o.use("me_audio_call"))),po().createElement("button",{className:"PeerInfoActions__callDropdownAction",onClick:()=>t(e.id,!0)},po().createElement(dp,{className:"PeerInfoActions__callDropdownIcon"}),po().createElement(mo.Text,{className:"PeerInfoActions__callDropdownText",weight:"regular"},o.use("me_video_call")))))),r&&(!n&&!t||c?po().createElement(mo.Button,{mode:l.mode,onClick:()=>r(e.id,l.action)},l.text):po().createElement(Zi,{content:l.text,position:"top",align:"center"},po().createElement(mo.Button,{mode:l.mode,onClick:()=>r(e.id,l.action)},l.icon))))},pp=({group:e,onWrite:n,onChangeMembership:t})=>{const{lang:r}=wi(),o={notMember:"join",member:"leave",unsure:"leave",declined:"join",outgoingRequest:"leave",incomingRequest:"join"}[e.membership],i={event_notMember:r.use("me_group_membership_event_join"),event_member:r.use("me_group_membership_event_leave"),event_unsure:r.use("me_group_membership_event_leave"),event_declined:r.use("me_group_membership_event_join"),event_incomingRequest:r.use("me_group_membership_incoming_request"),event_outgoingRequest:r.use("me_group_membership_outgoing_request"),group_notMember:r.use("me_group_membership_group_join"),group_member:r.use("me_group_membership_group_leave"),group_unsure:"",group_declined:r.use("me_group_membership_group_join"),group_incomingRequest:r.use("me_group_membership_incoming_request"),group_outgoingRequest:r.use("me_group_membership_outgoing_request"),page_notMember:r.use("me_group_membership_page_join"),page_member:r.use("me_group_membership_page_leave"),page_unsure:"",page_declined:"",page_incomingRequest:r.use("me_group_membership_incoming_request"),page_outgoingRequest:""}[`${e.type}_${e.membership}`],a={notMember:"primary",declined:"primary",incomingRequest:"secondary",member:"secondary",unsure:"secondary",outgoingRequest:"secondary"}[e.membership];return po().createElement("div",{className:"PeerInfoActions"},t&&po().createElement(mo.Button,{mode:a,onClick:()=>t(e.id,o)},i),n&&po().createElement(mo.Button,{mode:"primary",onClick:()=>n(e.id)},r.use("me_write_private_message")))},hp=po().memo((function({className:e,user:n}){const{lang:t}=wi(),r=ti(n.id),o=mi(6e5);if(r)return po().createElement("span",{className:e},t.use("global_online",{sex:n.sex}));if(!n.lastSeen.at)return null;if(n.lastSeen.isVisible)return po().createElement("span",{className:e},t.formatDate(n.lastSeen.at,{now:o,variant:"time-ago"}));const i=o-n.lastSeen.at;let a;switch(!0){case i<864e5:a="global_online_was_recently";break;case i<6048e5:a="global_online_was_week";break;case i<24192e5:a="global_online_this_month";break;default:a="global_online_long_ago"}return po().createElement("span",{className:e},t.use(a,{sex:n.sex}))}));var mp=u(5822),fp={};fp.styleTagTransform=h(),fp.setAttributes=l(),fp.insert=a().bind(null,"head"),fp.domAPI=o(),fp.insertStyleElement=A(),n()(mp.Z,fp),mp.Z&&mp.Z.locals&&mp.Z.locals;const gp=po().memo((function({peer:e,isShortened:n=!1,className:t}){const r=n?Ne(e):Oe(e);return po().createElement("div",{className:Ho()("PeerTitle",{"PeerTitle--vkAdmin":100===e.id},t)},po().createElement("div",{className:"PeerTitle__title"},r),"Chat"!==e.kind&&e.isVerified&&po().createElement("div",{className:"PeerTitle__icon PeerTitle__verifiedIcon"},po().createElement(Ya,null)))})),Cp=({peer:e,mutualFriends:n,convoId:t,onConvoOpen:r,onTerminate:o})=>{const i=ii(),a=bi(),{calls:s,lang:l}=wi(),c=(0,Ao.useCallback)((e=>{r(e),o()}),[r,o]),u=(0,Ao.useCallback)(((e,n)=>{i({type:"UserChangedFriendship",userId:e,change:n})}),[i]),d=(0,Ao.useCallback)(((e,n)=>{i({type:"UserChangedGroupMembership",groupId:e,change:n})}),[i]),A=e.id===t;return po().createElement("div",{className:"PeerInfo"},po().createElement(Gi,{href:je(e),className:"PeerInfo__avatar",target:"_blank"},e.photo100?po().createElement(mo.Avatar,{src:e.photo100,size:72}):po().createElement(ja,{peer:e,size:72})),po().createElement("div",{className:"PeerInfo__title"},po().createElement(Gi,{href:je(e),className:"PeerInfo__link",target:"_blank"},po().createElement(mo.Text,{className:"PeerInfo__name",weight:"medium"},po().createElement(gp,{peer:e})))),"User"===e.kind&&po().createElement(po().Fragment,null,po().createElement(hp,{className:"PeerInfo__status",user:e}),n.count>0&&po().createElement("div",{className:"PeerInfo__mutual"},po().createElement(mo.UsersStack,{photos:n.hint.map((e=>(null==e?void 0:e.photo50)||""))},l.use("me_n_common_friends",{num:n.count}))),!e.canChangeFriendship&&e.followersCount>0&&po().createElement("div",{className:"PeerInfo__followers"},po().createElement(mo.Subhead,{Component:"span",weight:"regular"},l.use("me_n_followers",{num:e.followersCount>=1e3?1e3:e.followersCount,values:{formatted:l.formatNumber(e.followersCount,"short")}}))),100!==e.id&&a.id!==e.id&&!e.isDeactivated&&!e.isBlacklistedByMe&&!e.isBlacklisted&&po().createElement("div",{className:"PeerInfo__actions"},po().createElement(Ap,{user:e,onWrite:!A&&e.canMessage?c:void 0,onCall:s&&!A&&e.canCall?s.callPeer:void 0,onChangeFriendship:u}))),"Group"===e.kind&&po().createElement(po().Fragment,null,e.activity&&po().createElement("div",{className:"PeerInfo__status"},e.activity),e.memberCount>0&&po().createElement("div",{className:n.count>0?"PeerInfo__mutual":"PeerInfo__followers"},n.count>0&&po().createElement(mo.UsersStack,{photos:n.hint.map((e=>(null==e?void 0:e.photo50)||""))},l.use("me_n_community_common_friends",{num:n.count})," · "),po().createElement("div",null,po().createElement(mo.Subhead,{Component:"span",weight:"regular"},l.use("me_group_members_count",{num:e.memberCount>=1e3?1e3:e.memberCount,values:{formatted:l.formatNumber(e.memberCount,"short")}})))),po().createElement("div",{className:"PeerInfo__actions"},po().createElement(pp,{group:e,onChangeMembership:e.canChangeMembership?d:void 0,onWrite:!A&&e.canMessage?c:void 0}))))};function vp(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,Os(e,n)}function Ep(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const _p=po().createContext(null);var bp="unmounted",yp="exited",Bp="entering",wp="entered",xp="exiting",kp=function(e){function n(n,t){var r;r=e.call(this,n,t)||this;var o,i=t&&!t.isMounting?n.enter:n.appear;return r.appearStatus=null,n.in?i?(o=yp,r.appearStatus=Bp):o=wp:o=n.unmountOnExit||n.mountOnEnter?bp:yp,r.state={status:o},r.nextCallback=null,r}vp(n,e),n.getDerivedStateFromProps=function(e,n){return e.in&&n.status===bp?{status:yp}:null};var t=n.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(e){var n=null;if(e!==this.props){var t=this.state.status;this.props.in?t!==Bp&&t!==wp&&(n=Bp):t!==Bp&&t!==wp||(n=xp)}this.updateStatus(!1,n)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var e,n,t,r=this.props.timeout;return e=n=t=r,null!=r&&"number"!=typeof r&&(e=r.exit,n=r.enter,t=void 0!==r.appear?r.appear:n),{exit:e,enter:n,appear:t}},t.updateStatus=function(e,n){void 0===e&&(e=!1),null!==n?(this.cancelNextCallback(),n===Bp?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===yp&&this.setState({status:bp})},t.performEnter=function(e){var n=this,t=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[Ri().findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),l=r?s.appear:s.enter;e||t?(this.props.onEnter(i,a),this.safeSetState({status:Bp},(function(){n.props.onEntering(i,a),n.onTransitionEnd(l,(function(){n.safeSetState({status:wp},(function(){n.props.onEntered(i,a)}))}))}))):this.safeSetState({status:wp},(function(){n.props.onEntered(i)}))},t.performExit=function(){var e=this,n=this.props.exit,t=this.getTimeouts(),r=this.props.nodeRef?void 0:Ri().findDOMNode(this);n?(this.props.onExit(r),this.safeSetState({status:xp},(function(){e.props.onExiting(r),e.onTransitionEnd(t.exit,(function(){e.safeSetState({status:yp},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:yp},(function(){e.props.onExited(r)}))},t.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(e,n){n=this.setNextCallback(n),this.setState(e,n)},t.setNextCallback=function(e){var n=this,t=!0;return this.nextCallback=function(r){t&&(t=!1,n.nextCallback=null,e(r))},this.nextCallback.cancel=function(){t=!1},this.nextCallback},t.onTransitionEnd=function(e,n){this.setNextCallback(n);var t=this.props.nodeRef?this.props.nodeRef.current:Ri().findDOMNode(this),r=null==e&&!this.props.addEndListener;if(t&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[t,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},t.render=function(){var e=this.state.status;if(e===bp)return null;var n=this.props,t=n.children,r=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Us(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return po().createElement(_p.Provider,{value:null},"function"==typeof t?t(e,r):po().cloneElement(po().Children.only(t),r))},n}(po().Component);function Dp(){}kp.contextType=_p,kp.propTypes={},kp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Dp,onEntering:Dp,onEntered:Dp,onExit:Dp,onExiting:Dp,onExited:Dp},kp.UNMOUNTED=bp,kp.EXITED=yp,kp.ENTERING=Bp,kp.ENTERED=wp,kp.EXITING=xp;const Sp=kp;var Ip=function(e,n){return e&&n&&n.split(" ").forEach((function(n){return r=n,void((t=e).classList?t.classList.remove(r):"string"==typeof t.className?t.className=Ep(t.className,r):t.setAttribute("class",Ep(t.className&&t.className.baseVal||"",r)));var t,r}))},Fp=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(e,t){var r=n.resolveArguments(e,t),o=r[0],i=r[1];n.removeClasses(o,"exit"),n.addClass(o,i?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(e,t)},n.onEntering=function(e,t){var r=n.resolveArguments(e,t),o=r[0],i=r[1]?"appear":"enter";n.addClass(o,i,"active"),n.props.onEntering&&n.props.onEntering(e,t)},n.onEntered=function(e,t){var r=n.resolveArguments(e,t),o=r[0],i=r[1]?"appear":"enter";n.removeClasses(o,i),n.addClass(o,i,"done"),n.props.onEntered&&n.props.onEntered(e,t)},n.onExit=function(e){var t=n.resolveArguments(e)[0];n.removeClasses(t,"appear"),n.removeClasses(t,"enter"),n.addClass(t,"exit","base"),n.props.onExit&&n.props.onExit(e)},n.onExiting=function(e){var t=n.resolveArguments(e)[0];n.addClass(t,"exit","active"),n.props.onExiting&&n.props.onExiting(e)},n.onExited=function(e){var t=n.resolveArguments(e)[0];n.removeClasses(t,"exit"),n.addClass(t,"exit","done"),n.props.onExited&&n.props.onExited(e)},n.resolveArguments=function(e,t){return n.props.nodeRef?[n.props.nodeRef.current,e]:[e,t]},n.getClassNames=function(e){var t=n.props.classNames,r="string"==typeof t,o=r?(r&&t?t+"-":"")+e:t[e];return{baseClassName:o,activeClassName:r?o+"-active":t[e+"Active"],doneClassName:r?o+"-done":t[e+"Done"]}},n}vp(n,e);var t=n.prototype;return t.addClass=function(e,n,t){var r=this.getClassNames(n)[t+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===n&&"done"===t&&o&&(r+=" "+o),"active"===t&&e&&e.scrollTop,r&&(this.appliedClasses[n][t]=r,function(e,n){e&&n&&n.split(" ").forEach((function(n){return r=n,void((t=e).classList?t.classList.add(r):function(e,n){return e.classList?!!n&&e.classList.contains(n):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")}(t,r)||("string"==typeof t.className?t.className=t.className+" "+r:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+r)));var t,r}))}(e,r))},t.removeClasses=function(e,n){var t=this.appliedClasses[n],r=t.base,o=t.active,i=t.done;this.appliedClasses[n]={},r&&Ip(e,r),o&&Ip(e,o),i&&Ip(e,i)},t.render=function(){var e=this.props,n=(e.classNames,Us(e,["classNames"]));return po().createElement(Sp,ks({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(po().Component);Fp.defaultProps={classNames:""},Fp.propTypes={};const Mp=Fp;function Tp(e){const n=bi(),t=fi(),{api:r}=wi(),o=Pi(),i=(0,Ao.useRef)(!1);return(0,Ao.useEffect)((()=>{if(e&&void 0===e.mutualFriends&&!i.current)switch(i.current=!0,e.kind){case"User":r.fetch("friends.getMutual",{source_uid:n.id,target_uid:e.id,order:"random"}).then((n=>{const i=Pp(n.map(Ie),t);if(0!==n.length&&3!==i.length)return r.fetch("users.get",{user_ids:n.slice(0,3).join(",")}).then((t=>{o({profiles:t,mutualFriends:{peerId:e.id,hint:n,count:n.length}})}));o({mutualFriends:{peerId:e.id,hint:n,count:n.length}})})).catch((()=>{})).finally((()=>i.current=!1));break;case"Group":r.fetch("groups.getMembers",{group_id:(-e.id).toString(),filter:"friends",count:3}).then((n=>{o({profiles:n.items,mutualFriends:{peerId:e.id,hint:n.items.map((e=>e.id)),count:n.count}})})).catch((()=>{})).finally((()=>i.current=!1));break;default:ye()}}),[e,t,n.id,r,o]),(null==e?void 0:e.mutualFriends)&&{hint:Pp(e.mutualFriends.hint,t),count:e.mutualFriends.count}}function Pp(e,n){return(e||[]).reduce(((e,t)=>{const r=n.get(t);return r&&"User"===r.kind&&e.push(r),e}),[])}const Op=({peerId:e,convoId:n,children:t})=>{const[r,o]=(0,Ao.useState)("closed"),i=(0,Ao.useRef)(null),a=function(e){const n=fi(),{api:t}=wi(),r=Pi(),o=e&&n.get(e);if((0,Ao.useEffect)((()=>{!o&&e&&(Me(e)&&t.fetch("users.get",{user_ids:e.toString()},{retries:2}).then((e=>{r({profiles:e})})),Pe(e)&&t.fetch("groups.getById",{group_ids:(-e).toString()},{retries:2}).then((e=>{r({groups:e.groups})})))}),[t,r,o,e]),"User"===(null==o?void 0:o.kind)||"Group"===(null==o?void 0:o.kind))return o}("closed"!==r?e:void 0),s=Tp("closed"!==r?a:void 0),l=()=>{o((e=>"closing"===e?"opened":"opening"))},c=(0,Ao.useCallback)((()=>{o((e=>"opening"===e?"closed":"closing"))}),[]),u=(0,Ao.useCallback)((()=>{o("opened")}),[]),d=(0,Ao.useCallback)((()=>{o("closed")}),[]),A=(0,Ao.useCallback)((e=>{console.info("handleConvoOpen",e)}),[]);return a&&s?po().createElement(qi,{open:"closed"!==r,position:"auto",align:"auto",portalClassName:"vkui__root MEConfig",content:po().createElement(Mp,{nodeRef:i,in:"opening"===r||"opened"===r,addEndListener:e=>{var n;return null===(n=i.current)||void 0===n?void 0:n.addEventListener("transitionend",e,!1)},mountOnEnter:!0,unmountOnExit:!0,appear:!0,classNames:"PeerInfoPopper__popper-",onEntered:u,onExited:d},po().createElement("div",{ref:i,className:"PeerInfoPopper__popper",onMouseEnter:l,onMouseLeave:c},po().createElement(Cp,{peer:a,mutualFriends:s,convoId:n,onTerminate:d,onConvoOpen:A})))},po().createElement("span",{className:"PeerInfoPopper",onMouseEnter:l,onMouseLeave:c},t)):po().createElement("span",{className:"PeerInfoPopper",onMouseEnter:l,onMouseLeave:c},t)},zp=({message:e,isCompact:n=!1,dateSpacer:t,className:r})=>0===e.chunks.length?null:po().createElement("span",{className:Ho()("MessageText",r)},e.chunks.map(((t,r)=>{switch(t.kind){case"Text":return po().createElement(po().Fragment,{key:r},t.text);case"Mention":{const o=po().createElement(Np,{key:r,url:`/${t.screenName}`,displayName:"@"+t.screenName});return"Foreign"===e.kind||n?o:po().createElement(Op,{key:r,peerId:t.peerId,convoId:e.peerId},o)}case"NamedMention":const o=po().createElement(Np,{key:r,url:`/${t.type}${Math.abs(t.peerId)}`,displayName:t.displayName});return"Foreign"===e.kind||n?o:po().createElement(Op,{key:r,peerId:t.peerId,convoId:e.peerId},o);case"AliasMention":return po().createElement(Np,{key:r,url:`/${t.screenName}`,displayName:t.displayName});case"ClientMention":return po().createElement(Np,{key:r,displayName:"@"+t.screenName});case"MassMention":return po().createElement(Np,{key:r,displayName:t.displayName});case"Email":return po().createElement(Gi,{key:r,href:`mailto:${t.email}`,target:"_blank",rel:"noreferrer",className:"MessageText__link",onClick:()=>{}},t.email);case"Url":return po().createElement(Gi,{key:r,href:t.href,target:"_blank",className:"MessageText__link",onClick:()=>{}},t.caption);case"Hashtag":return po().createElement(po().Fragment,{key:r},e.peerId?po().createElement(Gi,{className:"MessageText__link",href:`/im?sel=${e.peerId}&st=${encodeURIComponent(t.tag)}`},t.tag):t.tag);case"LineBreak":return po().createElement("br",{key:r});default:return ye()}})),t),Np=({url:e,displayName:n})=>e?po().createElement(Gi,{href:e,className:"MessageText__link",target:"_blank",onClick:()=>{}},n):po().createElement("span",{className:"MessageText__pseudoLink"},n);var jp=u(2019),Lp={};Lp.styleTagTransform=h(),Lp.setAttributes=l(),Lp.insert=a().bind(null,"head"),Lp.domAPI=o(),Lp.insertStyleElement=A(),n()(jp.Z,Lp),jp.Z&&jp.Z.locals&&jp.Z.locals;var Rp=u(4998),Up={};Up.styleTagTransform=h(),Up.setAttributes=l(),Up.insert=a().bind(null,"head"),Up.domAPI=o(),Up.insertStyleElement=A(),n()(Rp.Z,Up),Rp.Z&&Rp.Z.locals&&Rp.Z.locals;var Wp="0 0 16 16",Hp="palette_outline_16",qp=!1;function Zp(){qp||(ko(new(Eo())({id:Hp,viewBox:Wp,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="palette_outline_16"><path d="M8 1a7.008 7.008 0 016.915 5.908c.323 2.65-1.796 4.507-4.003 4.507h-.59c-.593.005-.825.027-.981.087-.081.031-.23.154-.09.39l.207.358c.115.213.218.446.322.737C10.116 13.933 9.262 15 8 15c-3.72 0-7-3.203-7-7a7 7 0 017-7zm0 1.5A5.5 5.5 0 002.5 8c0 2.96 2.6 5.5 5.5 5.5.27 0 .256-.189.166-.418a3.714 3.714 0 00-.235-.478 1.936 1.936 0 01-.225-.715c-.096-.764.391-1.517 1.1-1.788.308-.118.572-.163 1.092-.179l.387-.006h.627c1.383 0 2.716-1.17 2.518-2.798A5.502 5.502 0 008 2.5zM4.313 6.667a1 1 0 110 2 1 1 0 010-2zm7.334 0a1 1 0 110 2 1 1 0 010-2zM6.313 4a1 1 0 110 2 1 1 0 010-2zm3.334 0a1 1 0 110 2 1 1 0 010-2z" fill="currentColor" /></symbol>'})),qp=!0)}var Vp=function(e){return Do((function(){Zp()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Wp,id:Hp,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};Vp.mountIcon=Zp;const Yp=Vp;var Gp="0 0 16 16",$p="gift_16",Xp=!1;function Kp(){Xp||(ko(new(Eo())({id:$p,viewBox:Gp,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="gift_16"><path d="M7.5 9.438v4H5.423c-.669 0-.911-.07-1.156-.2a1.363 1.363 0 01-.567-.567c-.13-.244-.2-.487-.2-1.156V9.438zm5 0v2.077c0 .67-.07.911-.2 1.156-.131.244-.323.436-.567.567-.223.119-.443.187-.984.199l-.172.001H8.5v-4zm-5-4v3H3.461c-.334 0-.455-.034-.577-.1a.682.682 0 01-.284-.283c-.065-.123-.1-.244-.1-.578v-.615c0-.343.058-.58.167-.784.109-.204.269-.364.472-.473.204-.109.442-.167.784-.167zm4.577 0c.342 0 .58.058.783.167s.364.27.473.473c.09.17.146.363.162.62l.005.164v.615c0 .334-.035.455-.1.578a.681.681 0 01-.284.283c-.104.056-.209.09-.447.098l-.13.002H8.5v-3zM8 5.07l.001-.119C8.124 1.661 10.45.888 11.5 1.938c1.1 1.1.2 3.6-3.5 3.5-3.7.1-4.6-2.4-3.5-3.5C5.563.876 7.931 1.68 8.001 5.07z" fill="currentColor" /></symbol>'})),Xp=!0)}var Qp=function(e){return Do((function(){Kp()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Gp,id:$p,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};Qp.mountIcon=Kp;const Jp=Qp,eh=176,nh=({message:e,gift:n})=>{const t=cr(n,hi()&&"undefined"!=typeof window?eh*(window.devicePixelRatio||1):eh);return t?po().createElement("div",{className:"AttachGift"},po().createElement(Gi,{href:bn(e),payload:n,className:"AttachGift__image"},po().createElement("img",{src:t.url,width:eh,height:eh,alt:""})),po().createElement("div",{className:Ho()("AttachGift__title",{"AttachGift__title--withMessage":e.chunks.length})},n.isStickerStyle?po().createElement(Yp,{className:"AttachGift__titleIcon"}):po().createElement(Jp,{className:"AttachGift__titleIcon"}),po().createElement(_u,{attach:n}))):null},th=({messageId:e,peerId:n,message:t,level:r=1})=>{const{lang:o}=wi(),i=We(fi(),t.authorId),a=!t.attaches.sticker&&!t.attaches.gift&&Object.keys(t.attaches).length>0,s=()=>{},l=`/im?sel=${n}&msgid=${e}`,c=0===t.chunks.length&&!Object.keys(t.attaches).find((e=>"unknown"!==e))&&!t.forwardedMessages;return po().createElement("div",{className:"ForwardedMessage"},po().createElement("header",{className:"ForwardedMessage__header"},po().createElement("div",{className:"ForwardedMessage__avatar"},po().createElement(Gi,{href:je(i),target:"_blank",rel:"noreferrer",onClick:s},po().createElement(La,{peer:i,size:32}))),po().createElement("div",{className:"ForwardedMessage__titleLink"},("User"===i.kind||"Group"===i.kind)&&po().createElement(Gi,{href:je(i),className:"ForwardedMessage__link",target:"_blank",rel:"noreferrer",onClick:s},Oe(i))),po().createElement("div",{className:"ForwardedMessage__date"},po().createElement(Dd,{timestamp:t.sentAt,variant:"datetime"}))),t.attaches.gift&&po().createElement(nh,{message:t,gift:t.attaches.gift}),po().createElement(zp,{message:t,className:"ForwardedMessage__text"}),t.attaches.wall&&po().createElement(Gi,{href:ur(t.attaches.wall),className:"ForwardedMessage__link"},po().createElement(_u,{attach:t.attaches.wall})),t.attaches.poll&&po().createElement(Gi,{href:ur(t.attaches.poll),payload:t.attaches.poll,className:"ForwardedMessage__link"}," ",po().createElement(_u,{attach:t.attaches.poll})),t.attaches.sticker&&po().createElement(_A,{size:128,sticker:t.attaches.sticker}),a&&po().createElement("div",{className:"ForwardedMessage__attachments"},po().createElement(fA,{message:t,isInBubble:!0,forwardLevel:r})),t.forwardedMessages&&t.forwardedMessages.length>0&&(r+1<5?t.forwardedMessages.map(((t,o)=>po().createElement(th,{messageId:e,peerId:n,message:t,key:o,level:r+1}))):po().createElement("div",null,po().createElement(Gi,{href:l,className:"ForwardedMessage__link"},o.use("me_forwarded_messages",{num:t.forwardedMessages.length})))),t.replyMessage&&(r+1<5?po().createElement(th,{messageId:e,peerId:n,message:t.replyMessage,level:r+1}):po().createElement("div",null,po().createElement(Gi,{href:l,className:"ForwardedMessage__link"},o.use("me_with_reply")))),c&&po().createElement("span",{className:"ForwardedMessage__empty"},o.use("me_empty_message")))};var rh=u(1019),oh={};oh.styleTagTransform=h(),oh.setAttributes=l(),oh.insert=a().bind(null,"head"),oh.domAPI=o(),oh.insertStyleElement=A(),n()(rh.Z,oh),rh.Z&&rh.Z.locals&&rh.Z.locals;const ih=({activeCall:e,isCompact:n=!1})=>{const t=fi(),{lang:r,calls:o}=wi(),i=e.participants.coverList.map((e=>{var n;return(null===(n=t.get(e))||void 0===n?void 0:n.photo50)||""})).filter((e=>!!e));return n?po().createElement("div",{className:"AttachActiveCall AttachActiveCall--compact"},po().createElement("div",{className:"AttachActiveCall__info"},po().createElement("div",{className:"AttachActiveCall__title"},r.use("me_group_call")),po().createElement("div",{className:"AttachActiveCall__infoWrapper"},i.length>0&&po().createElement(mo.UsersStack,{photos:i,className:"AttachActiveCall__userList"}),po().createElement("div",{className:"AttachActiveCall__description"},e.participants.count>0?r.use("me_group_call_participant_count",{num:e.participants.count}):r.use("me_group_call_participant_count_none")))),o&&e.joinLink&&po().createElement(mo.Button,{className:"AttachActiveCall__join",mode:"outline",size:"s",stretched:!0,onClick:()=>o.joinCall(e.joinLink||"")},r.use("me_group_call_join"))):po().createElement("div",{className:"AttachActiveCall AttachActiveCall--full"},po().createElement("div",{className:"AttachActiveCall__info"},i.length>0&&po().createElement(mo.UsersStack,{photos:i,className:"AttachActiveCall__userList"}),po().createElement("div",{className:"AttachActiveCall__infoWrapper"},po().createElement("div",{className:"AttachActiveCall__title"},r.use("me_group_call")),po().createElement("div",{className:"AttachActiveCall__description"},e.participants.count>0?r.use("me_group_call_participant_count",{num:e.participants.count}):r.use("me_group_call_participant_count_none")))),o&&e.joinLink&&po().createElement(mo.Button,{className:"AttachActiveCall__join",mode:"outline",onClick:()=>o.joinCall(e.joinLink||"")},r.use("me_group_call_join")))};var ah=u(9263),sh={};sh.styleTagTransform=h(),sh.setAttributes=l(),sh.insert=a().bind(null,"head"),sh.domAPI=o(),sh.insertStyleElement=A(),n()(ah.Z,sh),ah.Z&&ah.Z.locals&&ah.Z.locals;const lh=({message:e,wallOrWallReply:n})=>{const{lang:t}=wi(),r=We(fi(),n.authorId),o={isInBubble:!0,background:"var(--im_bubble_incoming)"},i={Wall:"User"===r.kind?t.use("me_fc_wall_post_user"):t.use("me_fc_wall_post_group"),WallReply:t.use("me_fc_wall_post_reply")}[n.kind],a={Wall:t.use("me_fc_open_wall_post"),WallReply:t.use("me_fc_open_wall_post_reply")}[n.kind];return po().createElement(po().Fragment,null,po().createElement("div",{className:Ho()("AttachWall__info",{"AttachWall__info--with-message":e.chunks.length})},i),po().createElement("div",{className:"AttachWall"},po().createElement("header",{className:"AttachWall__header"},po().createElement("div",{className:"AttachWall__avatar"},po().createElement(Gi,{href:je(r),target:"_blank"},po().createElement(La,{peer:r,size:32}))),po().createElement("div",{className:"AttachWall__titleLink"},("User"===r.kind||"Group"===r.kind)&&po().createElement(Gi,{href:je(r),className:"AttachWall__link",target:"_blank"},Oe(r))),po().createElement("div",{className:"AttachWall__date"},po().createElement(Dd,{timestamp:n.date,variant:"datetime"}))),po().createElement("span",{className:"AttachWall__message"},n.chunks.map(((e,n)=>{switch(e.kind){case"Text":return po().createElement(po().Fragment,{key:n},e.text);case"Mention":return po().createElement(ch,{key:n,url:`/${e.screenName}`,displayName:"@"+e.screenName});case"NamedMention":return po().createElement(ch,{key:n,url:`/${e.type}${Math.abs(e.peerId)}`,displayName:e.displayName});case"AliasMention":return po().createElement(ch,{key:n,url:`/${e.screenName}`,displayName:e.displayName});case"ClientMention":return po().createElement(ch,{key:n,displayName:"@"+e.screenName});case"MassMention":return po().createElement(po().Fragment,{key:n},e.displayName);case"Email":return po().createElement(Gi,{key:n,href:`mailto:${e.email}`,target:"_blank",rel:"noreferrer",className:"AttachWall__link AttachWall__link--text",onClick:()=>{}},e.email);case"Url":return po().createElement(Gi,{key:n,href:e.href,target:"_blank",className:"AttachWall__link AttachWall__link--text",onClick:()=>{}},e.caption);case"Hashtag":return po().createElement(po().Fragment,{key:n},r.id?po().createElement(Gi,{className:"AttachWall__link AttachWall__link--text",href:`/wall-${Math.abs(r.id)}?q=${encodeURIComponent(e.tag)}`},e.tag):e.tag);case"LineBreak":return po().createElement("br",{key:n});default:return ye()}}))),po().createElement("div",{className:"AttachWall__attaches"},n.attaches.photos&&po().createElement(Qd,{forwardLevel:1,photos:n.attaches.photos,isInBubble:!0}),n.attaches.videos&&po().createElement($d,Object.assign({forwardLevel:1,videos:n.attaches.videos},o)),n.attaches.link&&po().createElement(Ju,Object.assign({link:n.attaches.link},o)),n.attaches.market&&po().createElement(td,Object.assign({market:n.attaches.market},o)),n.attaches.story&&po().createElement(Jd,Object.assign({story:n.attaches.story},o)),n.attaches.geo&&po().createElement(AA,Object.assign({message:e,geo:n.attaches.geo},o)),n.attaches.docs&&n.attaches.docs.map((e=>po().createElement(dd,Object.assign({key:e.id,doc:e},o)))),n.attaches.voice&&po().createElement(Sd,{message:e,voice:n.attaches.voice}),n.attaches.audios&&n.attaches.audios.map((n=>po().createElement(Nd,{message:e,audio:n,key:n.id}))),n.attaches.podcast&&po().createElement(lA,Object.assign({playlist:n.attaches.podcast},o)),n.attaches.audioPlaylist&&po().createElement(lA,Object.assign({playlist:n.attaches.audioPlaylist},o)),n.attaches.miniApps&&n.attaches.miniApps.map(((e,n)=>po().createElement(mA,{key:n,miniApp:e}))),n.attaches.moneyRequest&&po().createElement(cA,Object.assign({message:e,moneyTransfer:n.attaches.moneyRequest},o)),n.attaches.moneyTransfer&&po().createElement(cA,Object.assign({message:e,moneyTransfer:n.attaches.moneyTransfer},o))),po().createElement(Gi,{href:ur(n),className:"AttachWall__link AttachWall__link--post"},a)))},ch=({url:e,displayName:n})=>e?po().createElement(Gi,{href:e,className:"AttachWall__link",target:"_blank",onClick:()=>{}},n):po().createElement("span",{className:"AttachWal__link"},n);var uh=u(1260),dh={};dh.styleTagTransform=h(),dh.setAttributes=l(),dh.insert=a().bind(null,"head"),dh.domAPI=o(),dh.insertStyleElement=A(),n()(uh.Z,dh),uh.Z&&uh.Z.locals&&uh.Z.locals;var Ah=u(8238),ph={};ph.styleTagTransform=h(),ph.setAttributes=l(),ph.insert=a().bind(null,"head"),ph.domAPI=o(),ph.insertStyleElement=A(),n()(Ah.Z,ph),Ah.Z&&Ah.Z.locals&&Ah.Z.locals;const hh=e=>{var{color:n="secondary",children:t}=e,r=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["color","children"]);return po().createElement(mo.Button,Object.assign({mode:n},r),t)};var mh="0 0 12 12",fh="arrow_up_right_12",gh=!1;function Ch(){gh||(ko(new(Eo())({id:fh,viewBox:mh,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="arrow_up_right_12"><path d="M9 2a1 1 0 011 1v5a1 1 0 01-2 0V5.414L3.707 9.707a1 1 0 01-1.414-1.414l4.292-4.294L4 4a1 1 0 010-2z" fill="currentColor" /></symbol>'})),gh=!0)}var vh=function(e){return Do((function(){Ch()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:mh,id:fh,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};vh.mountIcon=Ch;const Eh=vh,_h=e=>{var{link:n,label:t,color:r}=e,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["link","label","color"]);return po().createElement(Gi,{href:n,className:"BotButton__linkButton",title:t},po().createElement(mo.Button,Object.assign({},o,{mode:r,after:po().createElement(Eh,null)}),t))};var bh="0 0 16 16",yh="place_16",Bh=!1;function wh(){Bh||(ko(new(Eo())({id:yh,viewBox:bh,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="place_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M3 6.25c0 1.855 1.314 4.554 3.943 8.099a1.005 1.005 0 001.614 0C11.186 10.804 12.5 8.105 12.5 6.25A4.747 4.747 0 007.75 1.5 4.747 4.747 0 003 6.25zm3 0a1.75 1.75 0 113.501.001A1.75 1.75 0 016 6.25z" fill="currentColor" /></g></symbol>'})),Bh=!0)}var xh=function(e){return Do((function(){wh()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:bh,id:yh,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};xh.mountIcon=wh;const kh=xh,Dh=e=>{var{onClick:n,color:t}=e,r=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["onClick","color"]);const{vkcom_keyboard:o,lang:i}=wi(),a=i.use("me_keyboard_label_location");return po().createElement(mo.Button,Object.assign({},r,{mode:t,before:po().createElement(kh,null),title:a,onClick:()=>o.sendLocation((([,e])=>{const[t,r]=e.split("_");t&&r&&n(Number(t),Number(r))}))}),a)};var Sh,Ih=u(7508),Fh=u.n(Ih),Mh=u(2170),Th=u.n(Mh),Ph=!("undefined"==typeof window||!window.document||!window.document.createElement);if(Ph){var Oh="__SVG_SPRITE_NODE__";Sh=new(Th())({attrs:{id:Oh}});var zh=function(){var e=document.getElementById(Oh);e?Sh.attach(e):Sh.mount()};document.querySelector("body")?zh():document.addEventListener("DOMContentLoaded",zh)}else Sh=null;var Nh=Ph?Ao.useLayoutEffect:Ao.useEffect;function jh(){return(jh=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Lh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Rh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Lh(Object(t),!0).forEach((function(n){Uh(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lh(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Uh(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Wh={display:"block"},Hh=function(e){var n=e.width,t=e.height,r=e.viewBox,o=e.id,i=e.className,a=e.style,s=e.fill,l=e.getRootRef,c=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,["width","height","viewBox","id","className","style","fill","getRootRef"]),u=Math.max(n,t);return po().createElement("div",jh({},c,{ref:l,className:"Icon Icon--".concat(u," Icon--w-").concat(n," Icon--h-").concat(t," Icon--").concat(o," ").concat(i),style:Rh(Rh({},a),{},{width:n,height:t})}),po().createElement("svg",{viewBox:r,width:n,height:t,style:Wh},po().createElement("use",{xlinkHref:"#".concat(o),style:{fill:"currentColor",color:s}})))};Hh.defaultProps={className:"",style:{}};var qh="0 0 72 24",Zh="vk_pay_logo_72",Vh=!1;function Yh(){var e;Vh||(e=new(Fh())({id:Zh,viewBox:qh,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 24" id="vk_pay_logo_72"><g fill="currentColor"><path d="M34.1 22.367V6.723h1.829l.488 1.822a5.23 5.23 0 014.146-2.01c3.11 0 5.306 2.45 5.306 5.842 0 3.393-2.196 5.843-5.306 5.843a5.129 5.129 0 01-4.024-1.948v6.157h-2.44zm9.208-10.053c0-2.136-1.403-3.58-3.415-3.58-2.013 0-3.415 1.507-3.415 3.58 0 2.136 1.402 3.581 3.415 3.581 2.073.063 3.415-1.445 3.415-3.58zM56.723 11.623v6.283h-1.769l-.487-1.759c-.55.942-1.708 2.01-3.476 2.01-2.196 0-3.781-1.507-3.781-3.58s1.585-3.519 4.817-3.519h2.379c-.122-1.445-.854-2.45-2.196-2.45-1.097 0-1.83.628-2.195 1.32L47.82 9.55c.549-1.947 2.439-3.078 4.512-3.078 2.683.062 4.39 1.884 4.39 5.151zm-2.44 1.383h-2.256c-1.83 0-2.439.628-2.439 1.445 0 .942.732 1.57 1.951 1.57 1.647.063 2.745-1.193 2.745-3.015zM66.358 6.723h2.44L64.345 19.35c-.732 2.073-1.83 3.016-3.842 3.016h-1.646l-.183-2.262h2.012c.793 0 1.159-.314 1.464-1.194l.121-.314-4.817-11.812h2.561l3.232 8.105h.305z" /><path clip-rule="evenodd" d="M15.135 0C20.379 0 23 0 24.648 1.696c1.646 1.634 1.646 4.398 1.646 9.801v1.006c0 5.403 0 8.104-1.646 9.8C23.062 24 20.379 24 15.135 24h-.976c-5.244 0-7.866 0-9.513-1.696C3 20.67 3 17.906 3 12.503v-1.006c0-5.403 0-8.104 1.646-9.8C6.232 0 8.915 0 14.16 0zm5.061 17.026h1.708c.487 0 .731-.251.487-.754-.182-.502-.731-1.256-1.463-2.073-.214-.295-.512-.589-.76-.833-.174-.172-.323-.32-.399-.424-.244-.314-.183-.44 0-.754 0 0 2.074-3.015 2.318-4.02.122-.377 0-.629-.488-.629H19.89c-.427 0-.61.252-.731.503 0 0-.854 2.199-2.074 3.581-.427.44-.549.565-.792.565-.061 0-.244-.125-.244-.502V8.23c0-.44-.122-.628-.488-.628h-2.683c-.244 0-.427.189-.427.377 0 .17.09.283.205.427.183.23.428.536.466 1.27v2.575c0 .566-.061.691-.305.691-.55 0-1.952-2.136-2.805-4.649-.122-.502-.305-.69-.732-.69H7.574c-.488 0-.61.25-.61.502 0 .44.549 2.764 2.683 5.78 1.402 2.073 3.354 3.204 5.183 3.204 1.098 0 1.22-.251 1.22-.691v-1.57c0-.503.06-.629.426-.629.244 0 .671.126 1.708 1.13.325.336.574.617.777.847.523.59.753.85 1.235.85z" fill-rule="evenodd" /></g></symbol>'}),Sh&&Sh.add(e),Vh=!0)}var Gh=function(e){return Nh((function(){Yh()}),[]),po().createElement(Hh,(0,_o.assign)({},e,{viewBox:qh,id:Zh,width:isNaN(e.width)?72:+e.width,height:isNaN(e.height)?24:+e.height}))};Gh.mountIcon=Yh;const $h=e=>{var{button:n}=e,t=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["button"]);const{vkcom_keyboard:r,lang:o}=wi(),[i,a]=o.use("me_keyboard_label_pay_with_vkpay",{values:{vkpay:"logo"}}).split("logo");return po().createElement(mo.Button,Object.assign({mode:"primary"},t,{onClick:()=>{"vkpay"===n.type?r.openApp({type:n.type,hash:n.hash}):r.openApp({appId:n.appId,type:n.type,ownerId:n.ownerId,hash:n.hash})}}),po().createElement("div",{className:"BotButton__vkpay"},i,po().createElement(Gh,{height:16,width:55}),a))};var Xh="0 0 16 16",Kh="services_16",Qh=!1;function Jh(){Qh||(ko(new(Eo())({id:Kh,viewBox:Xh,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="services_16"><path d="M5.398 9c.557 0 .759.058.963.167.203.109.363.269.472.472.109.204.167.406.167.963v1.796c0 .557-.058.759-.167.962s-.269.364-.472.473c-.204.109-.406.167-.963.167H3.602c-.557 0-.759-.058-.963-.167-.203-.109-.363-.269-.472-.473S2 12.955 2 12.398v-1.796c0-.557.058-.759.167-.963.109-.203.269-.363.472-.472.204-.109.406-.167.963-.167zm7 0c.557 0 .759.058.963.167s.363.269.472.472c.109.204.167.406.167.963v1.796c0 .557-.058.759-.167.962a1.135 1.135 0 01-.472.473c-.204.109-.406.167-.963.167h-1.796c-.557 0-.759-.058-.963-.167-.203-.109-.363-.269-.472-.473S9 12.955 9 12.398v-1.796c0-.557.058-.759.167-.963.109-.203.269-.363.472-.472S10.045 9 10.602 9zm-.564-7.465c.221.067.405.169.8.563l1.268 1.269c.394.394.496.578.563.799.067.221.067.447 0 .668s-.169.405-.563.8l-1.269 1.268c-.394.394-.578.496-.799.563a1.136 1.136 0 01-.668 0c-.221-.067-.405-.169-.8-.563L9.099 5.633c-.394-.394-.496-.578-.563-.799a1.136 1.136 0 010-.668c.067-.221.169-.405.563-.8l1.269-1.268c.394-.394.578-.496.799-.563s.447-.067.668 0zM5.398 2c.557 0 .759.058.963.167.203.109.363.269.472.472.109.204.167.406.167.963v1.796c0 .557-.058.759-.167.963a1.136 1.136 0 01-.472.472c-.204.109-.406.167-.963.167H3.602c-.557 0-.759-.058-.963-.167a1.136 1.136 0 01-.472-.472C2.058 6.157 2 5.955 2 5.398V3.602c0-.557.058-.759.167-.963.109-.203.269-.363.472-.472.204-.109.406-.167.963-.167z" fill="currentColor" /></symbol>'})),Qh=!0)}var em=function(e){return Do((function(){Jh()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Xh,id:Kh,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};em.mountIcon=Jh;const nm=em,tm=e=>{var{appId:n,type:t,ownerId:r,hash:o,label:i,color:a}=e,s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["appId","type","ownerId","hash","label","color"]);const{vkcom_keyboard:l}=wi();return po().createElement(mo.Button,Object.assign({mode:a},s,{title:i,onClick:()=>l.openApp({appId:n,type:t,ownerId:r,hash:o}),before:po().createElement(nm,null)}),i)},rm=e=>{var{messageEvents:n,onCallbackButtonClick:t,payload:r,color:o,label:i}=e,a=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["messageEvents","onCallbackButtonClick","payload","color","label"]);const[s,l]=(0,Ao.useState)(!1),[c,u]=(0,Ao.useState)();return(0,Ao.useEffect)((()=>{c&&n.get(c)&&l(!1)}),[c,n]),po().createElement(hh,Object.assign({},a,{color:o,loading:s,title:i,onClick:()=>function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(void 0,void 0,void 0,(function*(){try{l(!0),u(yield t(r,a.authorId,a.messageId))}catch(e){l(!1)}}))}),i)},om=({button:e,onClick:n,onCallbackButtonClick:t,messageEvents:r,inline:o,messageId:i,authorId:a})=>{const s={stretched:!0,size:o?"s":"m"};return"text"===e.type?po().createElement(hh,Object.assign({title:e.label},s,{color:e.color,onClick:()=>n({type:"text",payload:e.payload,text:e.label})}),e.label):"open_link"===e.type?po().createElement(_h,Object.assign({},s,e)):"location"===e.type?po().createElement(Dh,Object.assign({},s,{color:e.color,onClick:(t,r)=>{n({type:"location",geo:{lat:t,long:r},payload:e.payload})}})):"vkpay"===e.type||"open_app"===e.type&&7131443===e.appId?po().createElement($h,Object.assign({button:e},s)):"open_app"===e.type?po().createElement(tm,Object.assign({},s,e)):"callback"===e.type?po().createElement(rm,Object.assign({},s,e,{authorId:a,messageId:i,messageEvents:r,onCallbackButtonClick:t})):null},im=({keyboard:e,onButtonClick:n,onCallbackButtonClick:t,messageEvents:r,inline:o})=>po().createElement("div",{className:Ho()({"BotKeyboard--inline":o,"BotKeyboard--full":!o})},e.buttons.map(((i,a)=>po().createElement("div",{className:"BotKeyboard__row",key:a},i.map(((i,a)=>po().createElement("div",{className:"BotKeyboard__button",key:`${i.type}-${a}`},po().createElement(om,{authorId:e.authorId,inline:o,messageEvents:r,onCallbackButtonClick:t,onClick:n,button:i})))))))),am=({message:e,variant:n,mode:t="normal"})=>{const{lang:r}=wi(),o=mi(),i=r.formatDate(e.sentAt,{now:o,variant:n}),a=e.updatedAt&&!e.attaches.voice?`${r.use("me_message_edited_label")} `:"";if("normal"===t)return po().createElement(po().Fragment,null,a,i);const s=Math.floor(1.3*(i.length+a.length))+3;return po().createElement(po().Fragment,null,Array.from(new Array(s),((e,n)=>po().createElement(po().Fragment,{key:n}," "))))};var sm=u(2650),lm={};lm.styleTagTransform=h(),lm.setAttributes=l(),lm.insert=a().bind(null,"head"),lm.domAPI=o(),lm.insertStyleElement=A(),n()(sm.Z,lm),sm.Z&&sm.Z.locals&&sm.Z.locals;var cm=u(4672),um={};um.styleTagTransform=h(),um.setAttributes=l(),um.insert=a().bind(null,"head"),um.domAPI=o(),um.insertStyleElement=A(),n()(cm.Z,um),cm.Z&&cm.Z.locals&&cm.Z.locals;var dm="0 0 12 16",Am="chevron_16",pm=!1;function hm(){pm||(ko(new(Eo())({id:Am,viewBox:dm,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 16" id="chevron_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h12v16H0z" /><path d="M7.227 8L3.864 4.636a.9.9 0 111.272-1.272l4 4a.9.9 0 010 1.272l-4 4a.9.9 0 11-1.272-1.272L7.227 8z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),pm=!0)}var mm=function(e){return Do((function(){hm()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:dm,id:Am,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?16:+e.height}))};mm.mountIcon=hm;const fm=mm;var gm="0 0 16 24",Cm="chevron_24",vm=!1;function Em(){vm||(ko(new(Eo())({id:Cm,viewBox:gm,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 24" id="chevron_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v24H0z" /><path d="M4.706 7.706a1 1 0 010-1.412l.088-.088a.997.997 0 011.414.002l5.084 5.084a.998.998 0 010 1.416l-5.084 5.084a1.002 1.002 0 01-1.414.002l-.088-.088a.995.995 0 010-1.412L9 12 4.706 7.706z" fill="currentColor" /></g></symbol>'})),vm=!0)}var _m=function(e){return Do((function(){Em()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:gm,id:Cm,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?24:+e.height}))};_m.mountIcon=Em;const bm=_m,ym=({onClick:e,direction:n,size:t="m"})=>po().createElement("div",{className:Ho()("HorizontalScroll__arrow",`HorizontalScroll__arrow-${n}`,`HorizontalScroll__arrow--size-${t}`),onClick:e},po().createElement("div",{className:"HorizontalScroll__arrow-icon"},"s"===t&&po().createElement(fm,null),"m"===t&&po().createElement(bm,null))),Bm=e=>{var{children:n,getScrollToLeft:t,getScrollToRight:r,showArrows:o,scrollAnimationDuration:i,size:a,showLeftBorder:s}=e,l=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["children","getScrollToLeft","getScrollToRight","showArrows","scrollAnimationDuration","size","showLeftBorder"]);const[c,u]=(0,Ao.useState)(!1),[d,A]=(0,Ao.useState)(!1),p=(0,Ao.useRef)(!1),h=(0,Ao.useRef)(null),m=(0,Ao.useRef)([]);function f(e){const n=h.current;m.current.push((()=>{var t;return function({scrollElement:e,getScrollPosition:n,animationQueue:t,onScrollToRightBorder:r,onScrollEnd:o,onScrollStart:i,initialScrollWidth:a,scrollAnimationDuration:s=250}){if(!e||!n)return;const l=a-e.offsetWidth;let c=e.scrollLeft,u=n(c);i(),u>=l&&(r(),u=l);const d=wm();!function n(){if(!e)return void o();const r=wm(),i=function(e){return.5*(1-Math.cos(Math.PI*e))}(Math.min((r-d)/s,1)),a=c+(u-c)*i;e.scrollLeft=Math.ceil(a),e.scrollLeft===Math.max(0,u)?(o(),t.shift(),t.length>0&&t[0]&&t[0]()):requestAnimationFrame(n)}()}({scrollElement:n,getScrollPosition:e,animationQueue:m.current,onScrollToRightBorder:()=>A(!1),onScrollEnd:()=>p.current=!1,onScrollStart:()=>p.current=!0,initialScrollWidth:(null===(t=null==n?void 0:n.firstElementChild)||void 0===t?void 0:t.scrollWidth)||0,scrollAnimationDuration:i})})),1===m.current.length&&m.current[0]&&m.current[0]()}const g=(0,Ao.useCallback)((()=>{if(o&&h.current&&!p.current){const e=h.current;u(e.scrollLeft>0),A(e.scrollLeft+e.offsetWidth<e.scrollWidth)}}),[o]);return(0,Ao.useEffect)((()=>{const e=h.current;return e&&e.addEventListener("scroll",g),()=>{e&&e.removeEventListener("scroll",g)}}),[g]),(0,Ao.useEffect)(g,[h,g,n]),po().createElement("div",Object.assign({},l,{className:"HorizontalScroll"}),s&&po().createElement("div",{className:Ho()("HorizontalScroll__leftBorder",{"HorizontalScroll__leftBorder--active":c})}),o&&c&&po().createElement(ym,{direction:"left",size:a,onClick:()=>f(t)}),o&&d&&po().createElement(ym,{direction:"right",size:a,onClick:()=>f(r)}),po().createElement("div",{className:"HorizontalScroll__in",ref:h},po().createElement("div",{className:"HorizontalScroll__in-wrapper"},n)))};function wm(){return performance&&performance.now?performance.now():Date.now()}var xm=u(5946),km={};km.styleTagTransform=h(),km.setAttributes=l(),km.insert=a().bind(null,"head"),km.domAPI=o(),km.insertStyleElement=A(),n()(xm.Z,km),xm.Z&&xm.Z.locals&&xm.Z.locals;const Dm=({template:e,onClick:n,onCallbackButtonClick:t,messageEvents:r,authorId:o,messageId:i})=>{var a;return po().createElement("div",{className:"BotTemplateControls"},po().createElement(Sm,{template:e},e.photo&&po().createElement("div",{className:"BotTemplateControls__photo",style:{backgroundImage:`url(${null===(a=cr(e.photo,260))||void 0===a?void 0:a.url}`}}),e.title&&po().createElement("div",{className:"BotTemplateControls__title"},po().createElement(mo.Caption,{weight:"semibold",level:"1"},e.title)),e.description&&po().createElement("div",{className:"BotTemplateControls__description"},po().createElement(mo.Caption,{weight:"regular",level:"1"},e.description))),po().createElement("div",{className:"BotTemplateControls__buttons"},e.buttons.map(((e,a)=>po().createElement("div",{className:"BotTemplateControls__button",key:a},po().createElement(om,Object.assign({},{button:e,onClick:n,onCallbackButtonClick:t,messageEvents:r},{authorId:o,messageId:i,inline:!0})))))))},Sm=({template:e,children:n})=>{switch(e.kind){case"link":return po().createElement(Gi,{className:"BotTemplateControls__link",target:"_blank",href:e.link},n);case"photo":return po().createElement(Gi,{className:"BotTemplateControls__link",target:"_blank",href:ur(e.photo),payload:e.photo,rel:"noreferrer"},n);case"simple":return po().createElement(po().Fragment,null,n);default:return ye()}};var Im=u(6058),Fm={};Fm.styleTagTransform=h(),Fm.setAttributes=l(),Fm.insert=a().bind(null,"head"),Fm.domAPI=o(),Fm.insertStyleElement=A(),n()(Im.Z,Fm),Im.Z&&Im.Z.locals&&Im.Z.locals;const Mm=({elements:e,onClick:n,onCallbackButtonClick:t,messageEvents:r,authorId:o,messageId:i})=>po().createElement("div",{className:"BotTemplateList"},po().createElement(Bm,{showArrows:!0,getScrollToLeft:e=>e-260,getScrollToRight:e=>e+260,size:"s",showLeftBorder:!0},po().createElement("div",{className:"BotTemplateList__wrapper"},e.map(((e,a)=>po().createElement("div",{className:"BotTemplateList__item",key:a},po().createElement(Dm,Object.assign({authorId:o,messageId:i,template:e},{onClick:n,onCallbackButtonClick:t,messageEvents:r})))))))),Tm=po().memo((function({peer:e,message:n,isUnread:t,isHead:r,isSelected:o,isCompact:i=!1,onClick:a,onRead:s,onKeyboardSend:l,onCallbackButtonClick:c,messageEvents:u}){const{lang:d}=wi(),A=bi(),p=Fi(n,{isUnread:t,onRead:s}),h=n.attaches,m=!n.isOut&&r&&!h.gift&&!(h.sticker&&!n.replyMessage),f=n.forwardedMessages&&n.forwardedMessages.length>0,g=0===n.chunks.length&&!Object.keys(h).find((e=>"unknown"!==e))&&!f,C=h.audios||h.videos||h.docs||h.market||h.link||h.photos||h.story||h.gift||h.geo||h.wall,v=function(e){return 0===Object.keys(e).length?null:e.audios&&e.audios[e.audios.length-1]||e.voice||e.docs&&e.docs[e.docs.length-1]||e.story||e.market||e.link||e.videos&&e.videos[e.videos.length-1]||e.photos&&e.photos[e.photos.length-1]||e.sticker||e.poll||e.call||e.wall||e.gift||e.podcast||e.audioPlaylist||e.geo||e.moneyTransfer||e.moneyRequest||e.activeCall||null}(n.attaches),E=!(h.sticker||h.gift||h.activeCall||h.wall||h.wallReply||h.call||h.poll||h.article||!(Object.keys(h).length>0)),_=f||!C||"Photo"===(null==v?void 0:v.kind)||"Geo"===(null==v?void 0:v.kind)||"Wall"===(null==v?void 0:v.kind)||"WallReply"===(null==v?void 0:v.kind),b=h.sticker||v&&("Photo"===v.kind||"Geo"===v.kind),y=0===Object.keys(h).length&&!f&&!g,B=C||"ActiveCall"===(null==v?void 0:v.kind)||"Voice"===(null==v?void 0:v.kind)||y,w="Voice"===(null==v?void 0:v.kind)||y,x=_&&w?po().createElement(am,{message:n,variant:"time",mode:"spacer"}):void 0;return po().createElement(po().Fragment,null,po().createElement("div",{ref:p,className:Ho()("ConvoMessage",{"ConvoMessage--unread":n.peerId!==A.id&&t,"ConvoMessage--selected":o,"ConvoMessage--sending":"Queued"===n.kind&&!n.hasFailed,"ConvoMessage--failed":"Queued"===n.kind&&n.hasFailed,"ConvoMessage--expiring":"Normal"===n.kind&&n.expireTTL,"ConvoMessage--out":n.authorId===A.id||n.isOut,"ConvoMessage--noBackground":h.sticker&&!n.replyMessage,"ConvoMessage--withReply":n.replyMessage,"ConvoMessage--wideAttach":C||f,"ConvoMessage--withAuthor":m,"ConvoMessage--withGift":h.gift,"ConvoMessage--withDate":_,"ConvoMessage--floatDate":b,"ConvoMessage--separateDate":B,"ConvoMessage--insetDate":w,"ConvoMessage--attachOnly":0===n.chunks.length&&E&&!m}),onClick:()=>a(n)},"Queued"===n.kind&&(n.hasFailed?po().createElement("div",{className:Ho()("ConvoMessage__statusIcon","ConvoMessage__statusIcon--failed")},po().createElement(ru,{width:8,height:8})):po().createElement("div",{className:Ho()("ConvoMessage__statusIcon","ConvoMessage__statusIcon--sending")},po().createElement(cu,{width:8,height:8}))),m&&po().createElement("div",{className:"ConvoMessage__author"},("User"===e.kind||"Group"===e.kind)&&po().createElement(Gi,{href:je(e),className:"ConvoMessage__authorLink",target:"_blank",rel:"noreferrer"},i||e.id===A.id?po().createElement(gp,{peer:e}):po().createElement(Op,{peerId:e.id,convoId:n.peerId},po().createElement(gp,{peer:e})))),n.expireTTL&&po().createElement(Pm,{expiresAt:n.sentAt+n.expireTTL}),po().createElement("div",{className:"ConvoMessage__content"},n.replyMessage&&po().createElement("div",{className:"ConvoMessage__reply"},po().createElement(yu,{message:n.replyMessage})),po().createElement("span",{className:"ConvoMessage__text"},h.gift&&po().createElement(nh,{message:n,gift:h.gift}),po().createElement(zp,{message:n,isCompact:i,dateSpacer:x}),h.wall&&po().createElement(lh,{wallOrWallReply:h.wall,message:n}),h.wallReply&&po().createElement(lh,{wallOrWallReply:h.wallReply,message:n}),h.call&&po().createElement(po().Fragment,null," ",po().createElement(Gi,{href:bn(n),className:"ConvoMessage__link"},po().createElement(_u,{attach:h.call}))),h.poll&&po().createElement(po().Fragment,null," ",po().createElement(Gi,{href:ur(h.poll),payload:h.poll,className:"ConvoMessage__link"},po().createElement(_u,{attach:h.poll}))),h.article&&po().createElement(po().Fragment,null," ",po().createElement(Gi,{href:ur(h.article),payload:h.poll,className:"ConvoMessage__link"},po().createElement(_u,{attach:h.article}))),h.sticker&&po().createElement(_A,{size:128,sticker:h.sticker}),h.activeCall&&po().createElement(ih,{activeCall:h.activeCall,isCompact:i}),E&&po().createElement("div",{className:"ConvoMessage__attachments"},po().createElement(fA,{message:n,isInBubble:!0,dateSpacer:x})),g&&po().createElement("span",{className:"ConvoMessage__empty"},d.use("me_empty_message")),"Normal"===n.kind&&n.forwardedMessages&&n.forwardedMessages.length>0&&n.forwardedMessages.map(((e,t)=>po().createElement(th,{messageId:n.id,peerId:n.peerId,key:t,message:e})))),_&&po().createElement("span",{className:"ConvoMessage__date"},po().createElement(am,{message:n,variant:"time"}))),"Normal"===n.kind&&n.keyboard&&po().createElement(im,{inline:!0,keyboard:n.keyboard,onButtonClick:l,onCallbackButtonClick:c,messageEvents:u})),"Normal"===n.kind&&n.template&&"carousel"===n.template.kind&&po().createElement(Mm,{authorId:n.authorId,messageId:n.id,elements:n.template.elements,onClick:l,onCallbackButtonClick:c,messageEvents:u}))})),Pm=({expiresAt:e})=>{const[n,t]=(0,Ao.useState)(!1),r=mi(1e3),o=Math.max(e-r,0),i=Math.floor(o/1e3%60),a=Math.floor(o/1e3/60%60),s=Math.floor(o/1e3/3600%24),l=`${s>0?s.toString().padStart(2,"0")+":":""}${[a,i].map((e=>e.toString().padStart(2,"0"))).join(":")}`;return po().createElement("button",{className:Ho()("ConvoMessage__bomb",{"ConvoMessage__bomb--soon":o<=6e4,"ConvoMessage__bomb--blink":o<=1e4}),onClick:()=>t(!n)},n?l:po().createElement(mu,null))};var Om=u(5870),zm={};zm.styleTagTransform=h(),zm.setAttributes=l(),zm.insert=a().bind(null,"head"),zm.domAPI=o(),zm.insertStyleElement=A(),n()(Om.Z,zm),Om.Z&&Om.Z.locals&&Om.Z.locals;const Nm=({peer:e,isOut:n,isCentered:t,children:r})=>{const o=Ho()("ConvoStack",{"ConvoStack--out":n,"ConvoStack--centered":t});return po().createElement("section",{className:o},!n&&!t&&po().createElement("div",{className:"ConvoStack__author",key:"stack-author"},("User"===e.kind||"Group"===e.kind)&&po().createElement(Gi,{href:je(e),className:"ConvoStack__authorLink",target:"_blank",rel:"noreferrer"},po().createElement(La,{peer:e,size:24})),"Chat"===e.kind&&po().createElement(La,{peer:e,size:24})),po().createElement("div",{className:"ConvoStack__content"},r))};var jm=u(5982),Lm={};Lm.styleTagTransform=h(),Lm.setAttributes=l(),Lm.insert=a().bind(null,"head"),Lm.domAPI=o(),Lm.insertStyleElement=A(),n()(jm.Z,Lm),jm.Z&&jm.Z.locals&&jm.Z.locals;const Rm=({message:e,isUnread:n,onRead:t})=>{const r=Fi(e,{isUnread:n,onRead:t});return po().createElement("div",{ref:r,className:"ServiceMessage"},po().createElement(Eu,{message:e}))};var Um=u(9764),Wm={};Wm.styleTagTransform=h(),Wm.setAttributes=l(),Wm.insert=a().bind(null,"head"),Wm.domAPI=o(),Wm.insertStyleElement=A(),n()(Um.Z,Wm),Um.Z&&Um.Z.locals&&Um.Z.locals;const Hm=({peerId:e,isCompactView:n=!1,isNamed:t=!0})=>{const r=di(e,n?"compact":"full",t?n?2:3:0);return r?po().createElement("div",{className:"ConvoHistoryTyping"},po().createElement(Uc,{type:r.type,className:"ConvoHistoryTyping__indicator"}),po().createElement("div",{className:"ConvoHistoryTyping__text"},r.text)):null};var qm=u(4102),Zm={};Zm.styleTagTransform=h(),Zm.setAttributes=l(),Zm.insert=a().bind(null,"head"),Zm.domAPI=o(),Zm.insertStyleElement=A(),n()(qm.Z,Zm),qm.Z&&qm.Z.locals&&qm.Z.locals;var Vm="0 0 20 20",Ym="bomb_outline_20",Gm=!1;function $m(){Gm||(ko(new(Eo())({id:Ym,viewBox:Vm,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="bomb_outline_20"><path d="M12.537 6.405L13.72 5.22a.75.75 0 011.129.983l-.067.077-1.183 1.186a6.501 6.501 0 11-1.06-1.06zm-7.573 1.56a5 5 0 107.071 7.07 5 5 0 00-7.07-7.07zM16.89 5.013l.098.026 1.5.5a.75.75 0 01-.375 1.448l-.1-.025-1.5-.5a.75.75 0 01.377-1.449zm.876-2.806a.75.75 0 01.09.982l-.064.078-1.048 1.1a.75.75 0 01-1.151-.956l.065-.078 1.047-1.1a.75.75 0 011.06-.026zm-3.342-.788l.039.094.5 1.5a.75.75 0 01-1.385.569l-.038-.095-.5-1.5a.75.75 0 011.384-.568z" fill="currentColor" /></symbol>'})),Gm=!0)}var Xm=function(e){return Do((function(){$m()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Vm,id:Ym,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};Xm.mountIcon=$m;const Km=Xm,Qm=({lastMessage:e,count:n,isUnread:t,onRead:r})=>{const{lang:o}=wi(),i=Fi(e,{isUnread:t,onRead:r});return po().createElement("div",{ref:i,className:"ExpiredMessage"},po().createElement("div",{className:"ExpiredMessage__container"},po().createElement("div",{className:"ExpiredMessage__icon"},po().createElement(Km,null)),po().createElement("div",{className:"ExpiredMessage__text"},o.use("me_message_expired",{num:n}))))};var Jm=u(7897),ef={};ef.styleTagTransform=h(),ef.setAttributes=l(),ef.insert=a().bind(null,"head"),ef.domAPI=o(),ef.insertStyleElement=A(),n()(Jm.Z,ef),Jm.Z&&Jm.Z.locals&&Jm.Z.locals;var nf=u(4260),tf={};tf.styleTagTransform=h(),tf.setAttributes=l(),tf.insert=a().bind(null,"head"),tf.domAPI=o(),tf.insertStyleElement=A(),n()(nf.Z,tf),nf.Z&&nf.Z.locals&&nf.Z.locals;const rf=({peer:e})=>{const{lang:n}=wi(),t=ii(),r=[po().createElement(mo.Button,{href:je(e),mode:"secondary",size:"m",key:1,className:"ConvoHistoryPlaceholderActions__button"},n.use("me_view_profile"))],o=(0,Ao.useCallback)((()=>{const n=["unfamiliar","incomingRequest"].includes(e.friendship)?"add":"delete";t({type:"UserChangedFriendship",userId:e.id,change:n})}),[t,e]);if("friends"!==e.friendship&&e.canChangeFriendship){const t={unfamiliar:n.use("me_add_to_friends"),outgoingRequest:n.use("me_friend_request_sent"),incomingRequest:n.use("me_friend_request_confirm"),friends:n.use("me_in_your_friends")}[e.friendship],i="outgoingRequest"===e.friendship?"secondary":"primary";r.push(po().createElement(mo.Button,{key:2,size:"m",onClick:o,mode:i,className:"ConvoHistoryPlaceholderActions__button"},t))}return po().createElement("div",{className:"ConvoHistoryPlaceholderActions"},r)};var of=u(5462),af={};af.styleTagTransform=h(),af.setAttributes=l(),af.insert=a().bind(null,"head"),af.domAPI=o(),af.insertStyleElement=A(),n()(of.Z,af),of.Z&&of.Z.locals&&of.Z.locals;var sf=u(4802),lf={};lf.styleTagTransform=h(),lf.setAttributes=l(),lf.insert=a().bind(null,"head"),lf.domAPI=o(),lf.insertStyleElement=A(),n()(sf.Z,lf),sf.Z&&sf.Z.locals&&sf.Z.locals;const cf=po().memo((({peer:e,size:n,className:t})=>{const r=hi(),o=(0,Ao.useMemo)((()=>!0===[64,80].includes(n)?r?e.photo200:e.photo100:r?e.photo100:e.photo50),[r,n,e]),i=Ho()("AvatarSimple",`AvatarSimple--size-${n}`,t);return po().createElement("div",{className:i},o?po().createElement("img",{className:"AvatarSimple__img",alt:Oe(e),src:o,loading:"lazy"}):po().createElement(ja,{peer:e,size:n}))}));var uf="0 0 20 20",df="work_outline_20",Af=!1;function pf(){Af||(ko(new(Eo())({id:df,viewBox:uf,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="work_outline_20"><g fill="none" fill-rule="evenodd"><path opacity=".4" d="M0 0h20v20H0z" /><path d="M10.795 2c1.115 0 1.519.116 1.926.334.407.218.727.538.945.945.203.38.318.758.332 1.712L14 5.5h1.363c1.033 0 1.45.116 1.858.334.407.218.727.538.945.945.218.407.334.825.334 1.858v1.8c0 .89-.093 1.214-.267 1.54-.17.317-.417.568-.731.742L17.5 14.25a3.25 3.25 0 01-3.066 3.245l-.184.005h-8.5a3.25 3.25 0 01-3.245-3.066L2.5 14.25v-1.532l-.134-.079a1.814 1.814 0 01-.599-.662c-.16-.301-.252-.6-.265-1.345L1.5 8.637c0-1.033.116-1.45.334-1.858.218-.407.538-.727.945-.945.378-.202.765-.317 1.645-.332L6 5.5v-.296c0-1.115.116-1.519.334-1.926.218-.407.538-.727.945-.945.38-.203.758-.318 1.712-.332L10.795 2zm5.207 11L4 12.999v1.251a1.75 1.75 0 001.606 1.744L5.75 16h8.5a1.75 1.75 0 001.744-1.606L16 14.25l.002-1.25zm-.469-6H4.467l-.309.01c-.357.018-.516.063-.672.147a.772.772 0 00-.33.33c-.104.194-.148.393-.155.98v2.118l.005.237c.008.2.024.302.052.377l.032.07a.319.319 0 00.14.141l.07.032c.114.042.284.058.764.058h11.872c.48 0 .65-.016.763-.058l.07-.032a.319.319 0 00.141-.14l.032-.07c.042-.114.058-.284.058-.764v-1.8c0-.72-.043-.937-.157-1.15a.772.772 0 00-.33-.33c-.194-.104-.393-.148-.98-.155zm-4.566-3.5H9.033l-.318.008c-.322.014-.49.045-.627.1l-.102.049a.772.772 0 00-.33.33l-.048.1c-.071.177-.102.404-.107.946L7.5 5.5h5v-.467l-.008-.318c-.014-.322-.045-.49-.1-.627l-.049-.102a.772.772 0 00-.33-.33l-.1-.048c-.177-.071-.404-.102-.946-.107z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),Af=!0)}var hf=function(e){return Do((function(){pf()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:uf,id:df,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};hf.mountIcon=pf;const mf=hf;var ff="0 0 20 20",gf="education_outline_20",Cf=!1;function vf(){Cf||(ko(new(Eo())({id:gf,viewBox:ff,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="education_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" /><path d="M17.5 9.063l-1.5.822V13c0 2.8-2.717 5-6 5s-6-2.2-6-5V9.885L1.649 8.596a1.25 1.25 0 010-2.192l7.75-4.25a1.25 1.25 0 011.202 0l7.75 4.25c.424.232.66.674.649 1.125v5.221a.75.75 0 11-1.5 0V9.063zm-3 1.645l-3.899 2.138a1.25 1.25 0 01-1.202 0L5.5 10.708V13c0 1.894 1.984 3.5 4.5 3.5s4.5-1.606 4.5-3.5v-2.292zM10 3.535L2.77 7.5 10 11.465 17.23 7.5 10 3.535z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),Cf=!0)}var Ef=function(e){return Do((function(){vf()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:ff,id:gf,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};Ef.mountIcon=vf;const _f=Ef;var bf="0 0 20 20",yf="cake_outline_20",Bf=!1;function wf(){Bf||(ko(new(Eo())({id:yf,viewBox:bf,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="cake_outline_20"><g fill="currentColor"><path d="M10.1 1.783c-.034-.09-.166-.09-.2 0-.2.537-.393.888-.55 1.171C9.142 3.331 9 3.588 9 4a1 1 0 002 0c0-.412-.142-.67-.35-1.046-.157-.283-.35-.635-.55-1.17z" /><path clip-rule="evenodd" d="M17.288 11.7a2.504 2.504 0 01-.788.693v.687c0 .535 0 .98-.03 1.345-.03.38-.098.736-.27 1.074A2.751 2.751 0 0115 16.7c-.338.172-.694.24-1.074.27-.365.03-.81.03-1.345.03H7.42c-.535 0-.98 0-1.345-.03-.38-.03-.736-.098-1.073-.27A2.75 2.75 0 013.8 15.5c-.172-.338-.24-.694-.27-1.074-.03-.365-.03-.81-.03-1.345v-.687a2.504 2.504 0 01-.787-.693C2.197 11.013 2 10.071 2 8.999L2.75 9 2 8.999v-.02a1.416 1.416 0 01.008-.123A2.575 2.575 0 012.4 7.72C2.832 7.047 3.644 6.5 5 6.5h10c1.355 0 2.167.547 2.6 1.22a2.576 2.576 0 01.4 1.26V8.998c0 1.072-.197 2.014-.713 2.701zM3.5 9.01c.001.922.179 1.478.413 1.79.204.272.52.45 1.087.45.46 0 .78-.216 1.095-.53.08-.08.155-.163.235-.25l.02-.022c.07-.077.15-.166.229-.244.084-.084.196-.188.329-.272.135-.086.337-.182.592-.182s.457.096.592.182c.133.084.245.188.329.272.078.078.159.167.23.244l.019.021c.08.088.155.17.235.25.315.315.634.531 1.095.531.46 0 .78-.216 1.095-.53.08-.08.155-.163.235-.25l.02-.022c.07-.077.15-.166.229-.244.084-.084.196-.188.329-.272.135-.086.337-.182.592-.182s.457.096.592.182c.133.084.245.188.329.272.078.078.159.167.23.244l.019.021c.08.088.155.17.235.25.315.315.634.531 1.095.531.567 0 .883-.178 1.088-.45.233-.312.41-.868.412-1.79v-.007l-.001-.01a1.077 1.077 0 00-.16-.463c-.131-.202-.444-.53-1.339-.53H5c-.895 0-1.208.328-1.338.53a1.076 1.076 0 00-.162.48zM17.25 9l.75-.001zm-4.405 2.78c.435.436 1.116.97 2.155.97v.3c0 .572 0 .957-.025 1.252-.023.288-.065.425-.111.516a1.25 1.25 0 01-.547.546c-.09.046-.227.088-.515.111-.295.024-.68.025-1.252.025h-5.1c-.572 0-.957 0-1.253-.025-.287-.023-.424-.065-.514-.111a1.25 1.25 0 01-.547-.546c-.046-.091-.088-.228-.111-.515C5 14.007 5 13.623 5 13.05v-.3c1.04 0 1.72-.534 2.155-.97.108-.107.204-.212.284-.3l.061-.067.06.067c.081.088.177.193.285.3.435.436 1.116.97 2.155.97 1.04 0 1.72-.534 2.155-.97.108-.107.204-.212.284-.3l.061-.067.06.067c.081.088.177.193.285.3z" fill-rule="evenodd" /><path d="M6.4 1.783c.034-.09.166-.09.2 0 .2.537.393.888.55 1.171.208.377.35.634.35 1.046a1 1 0 01-2 0c0-.412.142-.67.35-1.046.157-.283.35-.634.55-1.17zM13.6 1.783c-.034-.09-.166-.09-.2 0-.2.537-.393.888-.55 1.171-.208.377-.35.634-.35 1.046a1 1 0 102 0c0-.412-.142-.67-.35-1.046-.157-.283-.35-.635-.55-1.17z" /></g></symbol>'})),Bf=!0)}var xf=function(e){return Do((function(){wf()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:bf,id:yf,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};xf.mountIcon=wf;const kf=xf;var Df="0 0 20 20",Sf="home_outline_20",If=!1;function Ff(){If||(ko(new(Eo())({id:Sf,viewBox:Df,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="home_outline_20"><g fill="none" fill-rule="evenodd"><path opacity=".4" d="M0 0h20v20H0z" /><path d="M3 10.999h-.04l-.182-.011a2.045 2.045 0 01-1.109-3.585L8.21 1.796a2.75 2.75 0 013.58 0l6.54 5.607A2.045 2.045 0 0117 11v4.25a2.25 2.25 0 01-2.25 2.25h-2.8a.95.95 0 01-.95-.95V13.5a1 1 0 00-2 0v3.05a.95.95 0 01-.95.95h-2.8A2.25 2.25 0 013 15.25v-4.251zM14.75 16a.75.75 0 00.75-.75v-4.9c0-.47.38-.85.85-.85H17a.545.545 0 00.355-.958l-6.542-5.607a1.25 1.25 0 00-1.626 0L2.645 8.542a.545.545 0 00-.059.768c.09.105.217.172.314.183L3 9.5h.65c.47 0 .85.38.85.85v4.9c0 .414.336.75.75.75H7.5v-2.5a2.5 2.5 0 115 0V16h2.25z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),If=!0)}var Mf=function(e){return Do((function(){Ff()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Df,id:Sf,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};Mf.mountIcon=Ff;const Tf=Mf,Pf=({peer:e,isCompactView:n})=>{const{lang:t}=wi(),r=Tp(e),o=e.contactName,i=(()=>{if(e.occupation){const n="work"===e.occupation.type?po().createElement(mf,null):po().createElement(_f,null);return po().createElement(po().Fragment,null,n," ",e.occupation.name)}if(e.bdate){const[n,r]=e.bdate.split(".").map(Number);if(n&&r){const e=t.use("me_birthday_day_month",{values:{month:t.formatMonth(r-1),day:n}});return po().createElement(po().Fragment,null,po().createElement(kf,null)," ",e)}}return e.city?po().createElement(po().Fragment,null,po().createElement(Tf,null)," ",e.city.title):po().createElement(po().Fragment,null)})(),a=t.use("me_convo_empty_history_call_to_write",{sex:e.sex,values:{user:Ne(e)}});return po().createElement("div",{className:Ho()("ConvoHistoryPlaceholderUserInfo",{"ConvoHistoryPlaceholderUserInfo--s":n})},po().createElement("div",{className:"ConvoHistoryPlaceholderUserInfo__photoWrap"},po().createElement(cf,{peer:e,size:n?64:80})),po().createElement("div",{className:"ConvoHistoryPlaceholderUserInfo__name"},Oe(e)),o&&po().createElement("div",{className:"ConvoHistoryPlaceholderUserInfo__savedAs"},t.use("me_saved_in_contacts_as",{sex:e.sex,values:{contact:o}})),!n&&po().createElement("div",{className:"ConvoHistoryPlaceholderUserInfo__description"},a.split("<br>").map(((e,n)=>po().createElement(Ao.Fragment,{key:n},e," ",po().createElement("br",null))))),i&&po().createElement("div",{className:"ConvoHistoryPlaceholderUserInfo__additionalInfo"},i),r&&r.count>0&&po().createElement(mo.UsersStack,{photos:r.hint.map((e=>(null==e?void 0:e.photo50)||"")),className:"ConvoHistoryPlaceholderUserInfo__mutualFriends"},t.use("me_n_common_friends",{num:r.count})))},Of=po().memo((({convo:e,isCompactView:n})=>{const{lang:t}=wi(),r=We(fi(),Ie(e.peerId));return"User"!==r.kind?po().createElement("div",{className:"ConvoHistoryPlaceholder"},po().createElement("div",{className:"ConvoHistoryPlaceholder__icon"},po().createElement(xl,null)),po().createElement("div",{className:"ConvoHistoryPlaceholder__description"},t.use("me_convo_history_placeholder"))):po().createElement("div",{className:"ConvoHistoryPlaceholder"},po().createElement(Pf,{peer:r,isCompactView:n}),po().createElement(rf,{peer:r}))})),zf=({convo:e,selected:n,onSelectMessage:t,onLoadMore:r,onMessageRead:o,onEndReached:i,isCompactView:a=!1,placeholder:s,onKeyboardSend:l,onCallbackButtonClick:c})=>{const{lang:u}=wi(),d=bi(),A=fi(),p=(0,Ao.useRef)(null),h=(0,Ao.useRef)(null),m=(0,Ao.useRef)(e.unreadCount>0?"unread":"bottom"),f=(0,Ao.useRef)(!1),{ref:g,onScroll:C}=function(e){const n=(0,Ao.useRef)(null),t=(0,Ao.useRef)(null),r=(0,Ao.useRef)(!1);return(0,Ao.useLayoutEffect)((()=>{if(!n.current)return;if(!t.current)return void(t.current=n.current.scrollHeight);const e=n.current.scrollHeight-t.current;0!==e&&(0===n.current.scrollTop&&(r.current=!0,n.current.scrollTop=e),t.current=n.current.scrollHeight)})),{onScroll:()=>{if(!n.current)return;if(r.current)return void(r.current=!1);if(n.current.scrollTop<0)return void(n.current.scrollTop=0);const t=n.current.scrollTop,o=n.current.scrollHeight-(n.current.clientHeight+n.current.scrollTop);e(t,o)},ref:n}}(((n,t)=>{if(f.current)f.current=!1;else{switch(m.current){case"unread":m.current="nothing";break;case"bottom":t>0&&(m.current="nothing");break;case"nothing":break;default:ye(m.current)}switch(!0){case 0===t:gt(e)?(m.current="nothing",r("forward")):(m.current="bottom",i());break;case 0===n:r("backward")}}}));(0,Ao.useEffect)((()=>{const e=g.current;return e&&e.addEventListener("scroll",C),()=>{e&&e.removeEventListener("scroll",C)}}),[C,g]);const v=ei(e);(0,Ao.useLayoutEffect)((()=>{switch(m.current){case"unread":h.current&&(f.current=!0,h.current.scrollIntoView(!0));break;case"bottom":p.current&&(f.current=!0,p.current.scrollIntoView(!0),v&&v.persistedId!==e.persistedId&&i());break;case"nothing":break;default:ye(m.current)}if(!p.current)return;const n=xt(e);n&&n.isOut&&v&&e.queued.size>v.queued.size&&(f.current=!0,p.current.scrollIntoView(!0),m.current="bottom")}),[e,v,i]);const{initialInReadBy:E,initialOutReadBy:_}=(0,Ao.useMemo)((()=>({initialInReadBy:e.inReadBy,initialOutReadBy:e.outReadBy})),[]);if(!vt(e))return po().createElement("div",{className:"ConvoHistory"},po().createElement("div",{className:"ConvoHistory__loader"},po().createElement(mo.Spinner,{size:"small"})));let b,y=[],B=[];for(const{message:r,older:i}of Dt(e)){const s=We(A,r.authorId),p="Normal"===r.kind&&E<r.cmid,m=i?yn(i,r,E,_):{kind:"split",atUnread:p,atDate:!0};switch(r.kind){case"Normal":case"Queued":B.unshift(po().createElement(Tm,{key:"Queued"===r.kind?r.randomId:r.id,peer:s,message:r,isUnread:St(e,r),isHead:"continue"!==m.kind,isSelected:"Queued"!==r.kind&&n.includes(r.id),onKeyboardSend:l,onCallbackButtonClick:c,messageEvents:e.messageEvents,isCompact:a,onClick:t,onRead:o}));break;case"Service":B.unshift(po().createElement(Rm,{key:r.id,message:r,isUnread:St(e,r),onRead:o}));break;case"Expired":b?b.count++:b={message:r,count:1},B=[po().createElement(Qm,{key:b.message.id,lastMessage:b.message,count:b.count,isUnread:St(e,b.message),onRead:o})];break;default:ye()}"continue"!==m.kind&&(y.unshift(po().createElement(Nm,{key:"Queued"===r.kind?r.randomId:r.id,peer:s,isOut:d.id===s.id,isCentered:"Service"===r.kind||"Expired"===r.kind},B)),b=void 0,B=[]),("split"===m.kind&&m.atDate||!i)&&y.unshift(po().createElement("div",{key:`date-separator-${r.sentAt}`,className:Ho()("ConvoHistory__separator","ConvoHistory__separator--date")},po().createElement(Dd,{timestamp:r.sentAt,variant:"date"}))),"split"===m.kind&&m.atUnread&&e.peerId!==d.id&&y.unshift(po().createElement("div",{key:"unread-separator",ref:h,className:Ho()("ConvoHistory__separator","ConvoHistory__separator--unread")},u.use("me_convo_history_new_messages")))}return po().createElement("div",{className:Ho()("ConvoHistory",{"ConvoHistory--s":a})},0===y.length?s||po().createElement(Of,{convo:e,isCompactView:a}):po().createElement(bc,{className:"ConvoHistory__scrollable",scrollableNodeProps:{ref:g}},e.hasMore&&po().createElement(zl,{className:"ConvoHistory__spinner"}),po().createElement("div",{className:"ConvoHistory__flow"},y),gt(e)?po().createElement(zl,{className:"ConvoHistory__spinner"}):po().createElement("div",{ref:p}),po().createElement(Hm,{peerId:e.peerId,isCompactView:a,isNamed:"ChatConvo"===e.kind})))};var Nf=u(7758),jf={};jf.styleTagTransform=h(),jf.setAttributes=l(),jf.insert=a().bind(null,"head"),jf.domAPI=o(),jf.insertStyleElement=A(),n()(Nf.Z,jf),Nf.Z&&Nf.Z.locals&&Nf.Z.locals;var Lf="0 0 24 24",Rf="smile_outline_24",Uf=!1;function Wf(){Uf||(ko(new(Eo())({id:Rf,viewBox:Lf,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="smile_outline_24"><path d="M8.438 14.297a.9.9 0 011.259.133c.013.016.196.223.53.432.383.24.97.488 1.773.488a3.3 3.3 0 001.773-.488c.191-.12.382-.26.53-.432a.9.9 0 011.4 1.132 4.045 4.045 0 01-.976.826A5.094 5.094 0 0112 17.15a5.094 5.094 0 01-2.727-.762 3.987 3.987 0 01-.976-.826.9.9 0 01.14-1.265zm1.812-4.047a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zM15 11.5A1.25 1.25 0 1015 9a1.25 1.25 0 000 2.5z" fill="currentColor" /><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.1c-5.468 0-9.9 4.432-9.9 9.9s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9-4.432-9.9-9.9-9.9zM3.9 12a8.1 8.1 0 1116.2 0 8.1 8.1 0 01-16.2 0z" fill="currentColor" /></symbol>'})),Uf=!0)}var Hf=function(e){return Do((function(){Wf()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Lf,id:Rf,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};Hf.mountIcon=Wf;const qf=Hf;var Zf=u(7238),Vf={};Vf.styleTagTransform=h(),Vf.setAttributes=l(),Vf.insert=a().bind(null,"head"),Vf.domAPI=o(),Vf.insertStyleElement=A(),n()(Zf.Z,Vf),Zf.Z&&Zf.Z.locals&&Zf.Z.locals;var Yf="0 0 24 24",Gf="attach_24",$f=!1;function Xf(){$f||(ko(new(Eo())({id:Gf,viewBox:Yf,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="attach_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18.338 14.297l-4.557 4.546a4.614 4.614 0 01-6.526-.007l-.04-.04a4.993 4.993 0 01.017-6.983l6.827-6.947a2.85 2.85 0 014.1.037c1.173 1.238 1.16 3.133-.001 4.326L11.28 16.29a1.1 1.1 0 01-1.496.074l-.074-.062a.94.94 0 01-.076-1.367l4.632-4.875a.9.9 0 00-1.305-1.24L8.33 13.696a2.74 2.74 0 00.222 3.985l.074.062a2.9 2.9 0 003.944-.196l6.879-7.063a4.9 4.9 0 00-.098-6.936 4.65 4.65 0 00-6.575.056l-6.827 6.947a6.793 6.793 0 00-.022 9.501l.055.055a6.414 6.414 0 009.07.01l4.558-4.545a.9.9 0 10-1.271-1.275z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),$f=!0)}var Kf=function(e){return Do((function(){Xf()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Yf,id:Gf,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};Kf.mountIcon=Xf;const Qf=Kf,Jf=({onAdd:e})=>{const{vkcom_mediaSelector:n}=wi(),t=(0,Ao.useRef)(null);return(0,Ao.useEffect)((()=>{if(!t.current)return;const r=n.create(t.current,(n=>{switch(n.type){case"photo":{const t=Tn(n.apiPhoto);if(!t)return;return e(t)}case"video":{const t=Pn(n.apiVideo);if(!t)return;return e(t)}case"audio":return e(jn(n.apiAudio));case"doc":{const t=Mn(n.apiDoc);if(!t)return;return e(t)}default:return}}));return()=>r()}),[n,e]),po().createElement("button",{ref:t,className:"Clip"},po().createElement(Qf,null))};var eg=u(9608),ng={};ng.styleTagTransform=h(),ng.setAttributes=l(),ng.insert=a().bind(null,"head"),ng.domAPI=o(),ng.insertStyleElement=A(),n()(eg.Z,ng),eg.Z&&eg.Z.locals&&eg.Z.locals;var tg=u(8220),rg={};rg.styleTagTransform=h(),rg.setAttributes=l(),rg.insert=a().bind(null,"head"),rg.domAPI=o(),rg.insertStyleElement=A(),n()(tg.Z,rg),tg.Z&&tg.Z.locals&&tg.Z.locals;const og=({photo:e})=>{const n=function(e,n){const t=cr(e,68,68,!0),r=cr(e,136,136,!0);return t||r?t&&r?{srcSet:`${t.url}, ${r.url} 2x`,src:r.url}:{src:t?t.url:r?r.url:""}:null}(e);return po().createElement("div",{className:"ComposerAttachPhoto"},n&&po().createElement("img",Object.assign({},n,{alt:"",className:"ComposerAttachPhoto__img"})))};var ig=u(9251),ag={};ag.styleTagTransform=h(),ag.setAttributes=l(),ag.insert=a().bind(null,"head"),ag.domAPI=o(),ag.insertStyleElement=A(),n()(ig.Z,ag),ig.Z&&ig.Z.locals&&ig.Z.locals;const sg=({video:e})=>{hi();const{duration:n}=e,t=cr(e,68*((null===window||void 0===window?void 0:window.devicePixelRatio)||1));return po().createElement("div",{className:"ComposerAttachVideo"},t&&po().createElement("img",{src:t.url,alt:"",className:"ComposerAttachVideo__img"}),n&&po().createElement("div",{className:"ComposerAttachVideo__videoDuration"},Se(n)))};var lg=u(9689),cg={};cg.styleTagTransform=h(),cg.setAttributes=l(),cg.insert=a().bind(null,"head"),cg.domAPI=o(),cg.insertStyleElement=A(),n()(lg.Z,cg),lg.Z&&lg.Z.locals&&lg.Z.locals;const ug=({icon:e,main:n,secondary:t})=>po().createElement("div",{className:"ComposerAttachCard"},po().createElement("figure",{className:"ComposerAttachCard__icon"},e),po().createElement("div",{className:"ComposerAttachCard__main ComposerAttachCard__overflow"},n),po().createElement("div",{className:"ComposerAttachCard__secondary ComposerAttachCard__overflow"},t));var dg="0 0 20 20",Ag="music_outline_20",pg=!1;function hg(){pg||(ko(new(Eo())({id:Ag,viewBox:dg,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="music_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" /><path d="M14.733 2.048a2.28 2.28 0 012.746 2.233v7.985c0 3.575-3.491 5.413-5.387 3.517-1.895-1.895-.058-5.387 3.517-5.387h.37V6.765L8.004 8.434v5.815c0 3.505-3.356 5.34-5.274 3.624l-.113-.107c-1.895-1.896-.058-5.387 3.517-5.387l.37-.001V6.231c0-.64.047-1.004.183-1.357l.055-.133c.169-.377.425-.692.76-.934.354-.256.705-.39 1.409-.537zm-8.23 11.83h-.37c-2.319 0-3.34 1.942-2.455 2.827.885.885 2.826-.137 2.826-2.456v-.37zm9.476-1.982h-.37c-2.32 0-3.341 1.942-2.456 2.827.885.885 2.826-.137 2.826-2.457v-.37zm-.017-7.774a.78.78 0 00-.922-.605L9.058 4.772c-.392.088-.536.149-.677.25a.802.802 0 00-.27.332c-.08.178-.107.35-.107.877v.67l7.975-1.668v-.952a.78.78 0 00-.004-.08z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),pg=!0)}var mg=function(e){return Do((function(){hg()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:dg,id:Ag,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};mg.mountIcon=hg;const fg=mg,gg=({audio:e})=>po().createElement(ug,{icon:po().createElement(fg,null),main:e.title,secondary:e.artist});var Cg="0 0 20 20",vg="document_outline_20",Eg=!1;function _g(){Eg||(ko(new(Eo())({id:vg,viewBox:Cg,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="document_outline_20"><path clip-rule="evenodd" d="M17.205 6.783c.11.18.19.374.24.579.055.23.055.474.055.963V11.3c0 2.52 0 3.78-.49 4.743a4.5 4.5 0 01-1.967 1.966c-.963.491-2.223.491-4.743.491h-.6c-2.52 0-3.78 0-4.743-.49a4.5 4.5 0 01-1.967-1.967C2.5 15.08 2.5 13.82 2.5 11.3V8.7c0-2.52 0-3.78.49-4.743A4.5 4.5 0 014.957 1.99C5.92 1.5 7.18 1.5 9.7 1.5h.975c.489 0 .733 0 .963.055.205.05.4.13.579.24.201.123.374.296.72.642l3.626 3.626c.346.346.519.519.642.72zM10.3 17h-.6c-1.285 0-2.158-.001-2.833-.056-.658-.054-.994-.151-1.229-.271a3 3 0 01-1.311-1.311c-.12-.235-.217-.57-.27-1.229C4 13.458 4 12.585 4 11.3V8.7c0-1.285.001-2.158.056-2.833.054-.658.151-.994.271-1.229a3 3 0 011.311-1.311c.235-.12.57-.217 1.229-.27C7.542 3 8.415 3 9.7 3h.3v1.281c0 .674 0 1.224.037 1.672.037.463.118.882.317 1.272a3.25 3.25 0 001.42 1.42c.391.2.81.28 1.273.318.448.037.998.037 1.672.037H16v2.3c0 1.285-.001 2.158-.056 2.833-.054.658-.151.994-.271 1.229a3 3 0 01-1.311 1.311c-.235.12-.57.217-1.229.27C12.458 17 11.585 17 10.3 17zm5.57-9.5h-1.12c-.712 0-1.202 0-1.58-.032-.371-.03-.57-.085-.714-.159a1.75 1.75 0 01-.765-.765c-.074-.144-.13-.343-.16-.713-.03-.38-.031-.869-.031-1.581V3.13l.012.01c.08.074.182.176.365.358l3.625 3.625c.182.183.284.285.357.365l.011.012z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),Eg=!0)}var bg=function(e){return Do((function(){_g()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Cg,id:vg,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};bg.mountIcon=_g;const yg=bg,Bg=({doc:e})=>po().createElement(ug,{icon:po().createElement(yg,null),main:e.title,secondary:`${e.ext.toUpperCase()} · ${ke(e.size)}`}),wg=({handleRemove:e,attach:n,children:t})=>po().createElement("li",{className:"ComposerAttaches__item"},t,po().createElement("button",{onClick:()=>e(n),className:"ComposerAttaches__remove"},po().createElement(jc,null))),xg=({attaches:e,onRemove:n,className:t})=>{const r=(0,Ao.useCallback)((e=>n(e)),[n]);return 0===Object.keys(e).length?null:po().createElement("div",{className:Ho()("ComposerAttaches",t)},po().createElement(Bm,{showArrows:!0,getScrollToLeft:e=>e-140,getScrollToRight:e=>e+140,size:"s"},po().createElement("ul",{className:"ComposerAttaches__list"},e.photos&&e.photos.map((e=>po().createElement(wg,{handleRemove:r,attach:e,key:`${e.kind}${e.id}`},po().createElement(og,{photo:e})))),e.videos&&e.videos.map((e=>po().createElement(wg,{handleRemove:r,attach:e,key:`${e.kind}${e.id}`},po().createElement(sg,{video:e})))),e.docs&&e.docs.map((e=>po().createElement(wg,{handleRemove:r,attach:e,key:`${e.kind}${e.id}`},po().createElement(Bg,{doc:e})))),e.audios&&e.audios.map((e=>po().createElement(wg,{handleRemove:r,attach:e,key:`${e.kind}${e.id}`},po().createElement(gg,{audio:e})))))))};var kg="0 0 28 28",Dg="keyboard_bots_outline_28",Sg=!1;function Ig(){Sg||(ko(new(Eo())({id:Dg,viewBox:kg,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="keyboard_bots_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path d="M16.308 3c2.59 0 3.818.237 5.094.92a6.452 6.452 0 012.678 2.678c.683 1.276.92 2.504.92 5.094v4.616c0 2.59-.237 3.818-.92 5.094a6.452 6.452 0 01-2.678 2.678c-1.276.683-2.504.92-5.094.92h-4.616c-2.59 0-3.818-.237-5.094-.92a6.452 6.452 0 01-2.678-2.678C3.237 20.126 3 18.898 3 16.308v-4.616c0-2.59.237-3.818.92-5.094A6.452 6.452 0 016.598 3.92C7.874 3.237 9.102 3 11.692 3h4.616zm0 2h-4.616c-2.288 0-3.204.177-4.15.683a4.452 4.452 0 00-1.859 1.858C5.177 8.488 5 9.404 5 11.691v4.617c0 2.288.177 3.204.683 4.15a4.452 4.452 0 001.858 1.859c.947.506 1.863.683 4.15.683h4.617c2.288 0 3.204-.177 4.15-.683a4.452 4.452 0 001.859-1.858c.506-.947.683-1.863.683-4.15v-4.617c0-2.288-.177-3.204-.683-4.15a4.452 4.452 0 00-1.858-1.859C19.512 5.177 18.596 5 16.309 5zM11 15a2 2 0 110 4 2 2 0 010-4zm6 0a2 2 0 110 4 2 2 0 010-4zm-6-6a2 2 0 110 4 2 2 0 010-4zm6 0a2 2 0 110 4 2 2 0 010-4z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),Sg=!0)}var Fg=function(e){return Do((function(){Ig()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:kg,id:Dg,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};Fg.mountIcon=Ig;const Mg=Fg;var Tg=u(4328),Pg={};Pg.styleTagTransform=h(),Pg.setAttributes=l(),Pg.insert=a().bind(null,"head"),Pg.domAPI=o(),Pg.insertStyleElement=A(),n()(Tg.Z,Pg),Tg.Z&&Tg.Z.locals&&Tg.Z.locals;const Og=po().memo((function({stickers:e,isCompactView:n,handleStickerSend:t,className:r}){const o=e.map((e=>po().createElement("div",{key:e.id,className:"StickersPanel__listItem",onClick:()=>t(e.id,"im_new_conversation_suggestion")},po().createElement(_A,{size:n?72:96,sticker:e}))));return po().createElement("div",{className:Ho()("StickersPanel",r)},po().createElement(Bm,{showArrows:!0,getScrollToLeft:e=>e-140,getScrollToRight:e=>e+140,size:"s"},po().createElement("div",{className:"StickersPanel__list"},o)))})),zg=({members:e,onSend:n,onTyping:t,keyboard:r,onKeyboardSend:o,onCallbackButtonClick:i,messageEvents:a,helloStickers:s})=>{const{lang:l,vkcom_textInput:c,vkcom_mediaSelector:u}=wi(),{ctrSubmit:d}=li(),[A,p]=(0,Ao.useState)({}),[h,m]=(0,Ao.useState)(!0),f=(0,Ao.useRef)(null),g=(0,Ao.useRef)(-1);(0,Ao.useEffect)((()=>u.removeMedia),[u]);const C=(0,Ao.useCallback)((()=>{if(!f.current)return;if(u.isUploading())return;const e=c.val(f.current).trim();0===e.length&&0===Object.keys(A).length||(c.val(f.current,""),u.removeMedia(),p({}),n(e,A,{}))}),[c,u,A,n]),v=(0,Ao.useCallback)(((e,t)=>{n("",{sticker:Ar(e)},{sticker:{id:e,referrer:t}})}),[n]);(0,Ao.useEffect)((()=>{if(!f.current)return;const e=()=>d;-1===g.current?(g.current=c.init(f.current,C,v,t,e),c.focus(f.current)):c.swapCallbacks(g.current,C,v,t,e)}),[c,C,v,t,d]),(0,Ao.useEffect)((()=>()=>{c.destroy(g.current)}),[c]);const E=(0,Ao.useCallback)((e=>{switch(e.kind){case"Photo":return void p(me((n=>{n.photos=n.photos?[...n.photos,e]:[e]})));case"Video":return void p(me((n=>{n.videos=n.videos?[...n.videos,e]:[e]})));case"Audio":return void p(me((n=>{n.audios=n.audios?[...n.audios,e]:[e]})));case"Doc":return void p(me((n=>{n.docs=n.docs?[...n.docs,e]:[e]})));default:return ye()}}),[]),_=(0,Ao.useCallback)((e=>{p(me((n=>{!function(e,n){switch(n.kind){case"Audio":if(!e.audios)break;const t=xe(e.audios.filter((e=>e.id!==n.id)));t?e.audios=t:delete e.audios;break;case"Doc":if(!e.docs)break;const r=xe(e.docs.filter((e=>e.id!==n.id)));r?e.docs=r:delete e.docs;break;case"Photo":if(!e.photos)break;const o=xe(e.photos.filter((e=>e.id!==n.id)));o?e.photos=o:delete e.photos;break;case"Video":if(!e.videos)break;const i=xe(e.videos.filter((e=>e.id!==n.id)));i?e.videos=i:delete e.videos;break;default:ye()}}(n,e)}))),u.removeMedia({ownerId:e.ownerId,id:e.id,type:{Photo:"photo",Video:"video",Doc:"doc",Audio:"audio"}[e.kind]})}),[u]);return po().createElement("div",{className:"FCComposer"},(null==s?void 0:s.length)&&po().createElement(Og,{isCompactView:!0,stickers:s,handleStickerSend:v,className:"FCComposer__stickersPanel"}),po().createElement("div",{className:"FCComposer__field"},po().createElement(Jf,{onAdd:E}),po().createElement("div",{className:"FCComposer__emojiHack _emoji_field_wrap"},po().createElement("div",{ref:f,role:"textbox",className:"FCComposer__input",placeholder:l.use("me_composer_input_placeholder"),contentEditable:!0}),po().createElement("div",{className:"FCComposer__smile emoji_smile_wrap _emoji_wrap"},r&&po().createElement("button",{className:"FCComposer__button FCComposer__keyboard",onClick:()=>m(!h)},po().createElement(Mg,{height:24})),po().createElement("button",{className:"FCComposer__button emoji_smile _emoji_btn",onMouseOver:e=>{e.persist(),c.show(e.currentTarget,e)},onMouseOut:e=>{e.persist(),c.hide(e.currentTarget,e)}},po().createElement(qf,null))))),po().createElement(xg,{attaches:A,onRemove:_,className:"FCComposer__attaches"}),r&&h&&po().createElement(im,{messageEvents:a,onButtonClick:o,keyboard:r,onCallbackButtonClick:i}))};var Ng=u(1626),jg={};jg.styleTagTransform=h(),jg.setAttributes=l(),jg.insert=a().bind(null,"head"),jg.domAPI=o(),jg.insertStyleElement=A(),n()(Ng.Z,jg),Ng.Z&&Ng.Z.locals&&Ng.Z.locals;var Lg="0 0 24 24",Rg="error_circle_outline_24",Ug=!1;function Wg(){Ug||(ko(new(Eo())({id:Rg,viewBox:Lg,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="error_circle_outline_24"><path d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm0 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 14a1.333 1.333 0 110 2.667A1.333 1.333 0 0112 16zm.324-10.667a1 1 0 011 1.037l-.266 7.276a1.059 1.059 0 01-2.116 0l-.265-7.276a1 1 0 01.963-1.036h.684z" fill="currentColor" /></symbol>'})),Ug=!0)}var Hg=function(e){return Do((function(){Wg()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Lg,id:Rg,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};Hg.mountIcon=Wg;const qg=Hg,Zg=({reason:e})=>{const n=function(e){const{lang:n}=wi();return"peer_deleted"===e?n.use("me_composer_can_write_peer_deleted"):n.use("me_composer_can_write_unknown")}(e);return po().createElement("div",{className:"FCConvoPrivacyStub"},po().createElement(qg,{className:"FCConvoPrivacyStub__icon"}),po().createElement("span",{className:"FCConvoPrivacyStub__message"},n))};var Vg="0 0 24 24",Yg="phone_outline_24",Gg=!1;function $g(){Gg||(ko(new(Eo())({id:Yg,viewBox:Vg,content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="phone_outline_24"><g fill="none"><path d="M0 0h24v24H0z" /><path d="M4.477 4.116c-2.924 3.217-1.362 8.196 2.932 12.51 4.204 4.222 9.407 5.8 12.486 2.936 1.685-1.567 1.436-4.343-.645-6.198l-.19-.161c-1.931-1.563-4.734-1.568-6.445-.027l-.088.082-.05-.042c-.187-.16-.43-.381-.724-.673l-.298-.303-.306-.326c-.092-.101-.174-.194-.246-.277l-.124-.147-.07.075c1.69-1.697 1.706-4.72.006-6.75-1.887-2.255-4.75-2.335-6.238-.699zM9.335 5.97c1.18 1.41 1.049 3.371.099 4.325l-.148.14c-.63.567-1.246.901 1.032 3.218 2.458 2.499 2.765 1.622 3.405.952 1.006-1.01 2.975-1.104 4.329.103 1.497 1.334 1.335 2.868.617 3.536-2.222 2.067-6.476.636-9.984-2.888-3.507-3.523-5.064-7.622-2.876-10.03.508-.558 2.101-1.057 3.526.644z" fill="currentColor" /></g></symbol>'})),Gg=!0)}var Xg=function(e){return Do((function(){$g()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Vg,id:Yg,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};Xg.mountIcon=$g;const Kg=Xg;var Qg="0 0 24 24",Jg="fullscreen_24",eC=!1;function nC(){eC||(ko(new(Eo())({id:Jg,viewBox:Qg,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="fullscreen_24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 4.9a.9.9 0 01.9-.9h4.2a.9.9 0 01.9.9v4.2a.9.9 0 11-1.8 0V7.073l-3.664 3.663a.9.9 0 11-1.272-1.272L16.927 5.8H14.9a.9.9 0 01-.9-.9zm-3.264 8.364a.9.9 0 010 1.272L7.073 18.2h2.025a.9.9 0 110 1.8H4.9a.9.9 0 01-.9-.9v-4.2a.9.9 0 011.8 0v2.027l3.664-3.663a.9.9 0 011.272 0z" fill="currentColor" /></symbol>'})),eC=!0)}var tC=function(e){return Do((function(){nC()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Qg,id:Jg,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};tC.mountIcon=nC;const rC=tC;var oC=u(7996),iC={};iC.styleTagTransform=h(),iC.setAttributes=l(),iC.insert=a().bind(null,"head"),iC.domAPI=o(),iC.insertStyleElement=A(),n()(oC.Z,iC),oC.Z&&oC.Z.locals&&oC.Z.locals;var aC="0 0 24 24",sC="pin_outline_24",lC=!1;function cC(){lC||(ko(new(Eo())({id:sC,viewBox:aC,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="pin_outline_24"><path d="M13.158 3.724a.9.9 0 011.52-.46l6.058 6.06a.9.9 0 01-.46 1.518l-1.8.36a.325.325 0 00-.166.09l-2.88 2.88a.324.324 0 00-.094.204l-.347 4.511a1.206 1.206 0 01-2.055.76L9.28 15.994l-4.744 4.744a.9.9 0 01-1.353-1.18l.08-.093 4.744-4.744-3.654-3.653a1.206 1.206 0 01-.088-1.608l.088-.098c.204-.203.473-.327.76-.35l4.512-.346a.324.324 0 00.204-.094l2.88-2.88a.324.324 0 00.09-.166l.36-1.8zm1.435 2.002l-.03.152a2.125 2.125 0 01-.58 1.085l-2.88 2.88a2.125 2.125 0 01-1.34.616l-3.224.248 6.754 6.754.248-3.223c.034-.443.206-.862.489-1.2l.127-.14 2.88-2.88a2.124 2.124 0 011.086-.58l.151-.031-3.681-3.681z" fill="currentColor" /></symbol>'})),lC=!0)}var uC=function(e){return Do((function(){cC()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:aC,id:sC,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};uC.mountIcon=cC;const dC=uC,AC=po().memo((({pinnedMessage:e,isHidden:n,onUnpinMessage:t,onPinnedMessageHide:r})=>{const o=fi(),{lang:i}=wi(),a=We(o,e.authorId),[s,l]=(0,Ao.useState)("message");(0,Ao.useEffect)((()=>{n||l("message")}),[n]);const c=()=>{t(e.peerId)};return"message"===s&&n?null:po().createElement("div",{className:"FCConvoPinnedMessage"},po().createElement("div",{className:"FCConvoPinnedMessage__content"},(()=>{switch(s){case"message":return po().createElement(po().Fragment,null,po().createElement("div",{className:"FCConvoPinnedMessage__pinIcon"},po().createElement(dC,null)),po().createElement("div",{className:"FCConvoPinnedMessage__info"},po().createElement("div",{className:"FCConvoPinnedMessage__title"},po().createElement(Gi,{href:je(a),className:"FCConvoPinnedMessage__authorLink",target:"_blank",rel:"noreferrer"},Oe(a)),po().createElement("span",{className:"FCConvoPinnedMessage__messageDate"},po().createElement(Dd,{timestamp:e.sentAt,variant:"date"}))),po().createElement("div",{className:"FCConvoPinnedMessage__message"},e.chunks.length?po().createElement(zp,{message:e}):po().createElement(bu,{message:e}))));case"actions":return po().createElement("div",{className:"FCConvoPinnedMessage__info FCConvoPinnedMessage__info--unpin"},po().createElement("span",null,i.use("me_fc_hidden_pinned_message")),po().createElement("button",{onClick:c,className:"FCConvoPinnedMessage__unpinButton"},i.use("me_fc_unpin_pinned_message_for_all")));default:return ye()}})(),po().createElement(Zi,{content:i.use("me_fc_hide_pinned_message"),position:"top",align:"center",delay:500},po().createElement(Ji,{onClick:()=>{switch(s){case"message":return r(e.peerId,e.cmid),void l("actions");case"actions":return void l("message");default:return ye()}},label:i.use("me_fc_hide_pinned_message"),className:Ho()("FCConvoPinnedMessage__hideButton",{"FCConvoPinnedMessage__hideButton--unpin":"actions"===s})},po().createElement(da,null)))))})),pC=(e,n,t)=>{const r=ii(),{api:o}=wi();return{handleCallbackButtonClick:(e,t,i)=>function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}l((r=r.apply(e,n||[])).next())}))}(void 0,void 0,void 0,(function*(){const a=yield o.fetch("messages.sendMessageEvent",{peer_id:n.peerId,payload:e,author_id:t,message_id:i});return r({type:"UserHitSendMessageEventRequestCompleted",peerId:n.peerId,eventId:a}),a})),handleKeyboardSend:(0,Ao.useCallback)((o=>{var i,a;const s=function(e,n){return Te(e.peerId)&&n&&"Group"===n.kind?n.screenName:""}(n,t);let l="";"text"===o.type&&(l=s?`@${s} ${o.text}`:o.text),r({type:"UserHitSend",entrypoint:e,text:l,attaches:Object.assign({},"location"===o.type&&{geo:{kind:"Geo",coordinates:{latitude:null===(i=o.geo)||void 0===i?void 0:i.lat,longitude:null===(a=o.geo)||void 0===a?void 0:a.long}}}),timestamp:Date.now(),peerId:n.peerId,extra:{botPayload:o.payload}})}),[r,e,n,t])}},hC=({peerId:e,entrypoint:n,convo:t,hiddenPinnedMessages:r,dispatch:o,onClose:i,initialX:a,initialY:s,initialW:l,initialH:c,isActive:u,onActivate:d,onDragged:A,helloStickers:p})=>{var h,m;const{lang:f,calls:g}=wi(),C=fi(),v=bi(),E=vi(),[_,b]=(0,Ao.useState)([]),y=(0,Ao.useCallback)((e=>{"Queued"!==e.kind&&b((n=>n.includes(e.id)?n.filter((n=>n!==e.id)):[...n,e.id]))}),[]),B=(0,Ao.useCallback)((n=>{o({type:"UserSeenMessage",cmid:n,peerId:e})}),[o,e]),w=(0,Ao.useCallback)((n=>{o({type:"UserScrolledConvoHistory",peerId:e,direction:n})}),[o,e]),x=(0,Ao.useCallback)((()=>{o({type:"UserScrolledConvoHistory",peerId:e,direction:"end"})}),[o,e]),k=function(e){const{api:n}=wi(),t=bi(),r=(0,Ao.useRef)();return(0,Ao.useEffect)((()=>()=>{r.current&&clearTimeout(r.current)}),[]),(0,Ao.useCallback)((()=>{if(r.current)return;const o=e=>{r.current&&clearTimeout(r.current),r.current=window.setTimeout((()=>{r.current=void 0}),e)};o(12e4),n.fetch("messages.setActivity",{user_id:t.id,peer_id:e,type:"typing"}).then((()=>{o(5e3)})).catch((()=>{}))}),[n,t.id,e])}(t.peerId),D=(0,Ao.useCallback)(((t,r,i)=>{o({type:"UserHitSend",entrypoint:n,text:t,attaches:r,timestamp:Date.now(),peerId:e,extra:i})}),[o,e,n]),{handleKeyboardSend:S,handleCallbackButtonClick:I}=pC(n,t,t.currentKeyboard&&We(C,null===(h=t.currentKeyboard)||void 0===h?void 0:h.authorId)),F=(0,Ao.useCallback)((e=>{o({type:"UserHitUnpinMessage",peerId:e})}),[o]),M=(0,Ao.useCallback)(((e,n)=>{o({type:"UserHitUnpinMessageHide",peerId:e,cmid:n})}),[o]),T=(0,Ao.useCallback)((()=>{g&&g.callPeer(e)}),[g,e]),P=We(C,e),O=g&&"Group"!==P.kind&&P.canCall,z=v.id===P.id;return function(e){const{vkcom_keyboard:n,navigate:t}=wi(),r=ii();(0,Ao.useEffect)((()=>{const t=new Set;for(let[r,o]of e.messageEvents)if("fullfilled"===o.status){switch(o.type){case"open_app":n.openApp({appId:o.appId,hash:o.hash,type:o.type,ownerId:o.ownerId});break;case"show_snackbar":n.showNotification({text:o.text,title:o.title,photo:o.photo});break;case"open_link":n.openLink(o.link,o.title);break;default:return ye()}t.add(r)}return t.size&&r({type:"UserHitSendMessageEventFullfilled",eventIds:t,peerId:e.peerId}),()=>{const n=new Set(e.messageEvents.keys());n.size&&r({type:"UserHitSendMessageEventFullfilled",eventIds:n,peerId:e.peerId})}}),[n,e.messageEvents,r,e.peerId,t])}(t),po().createElement(ta,{id:e,title:po().createElement("div",{className:"FCConvo__header"},z?po().createElement(Bs,{size:24}):po().createElement(La,{peer:P,size:24,withOnline:!0}),po().createElement("div",{className:"FCConvo__title"},po().createElement(es,{peer:P,isMuted:Ct(t)}))),onClose:i,initialX:a,initialY:s,initialW:l,initialH:c,isActive:u,onActivate:d,onDragged:A,actions:po().createElement(po().Fragment,null,O&&po().createElement(Zi,{content:f.use("me_fc_convo_call"),position:"top",align:"center",delay:500},po().createElement(Ji,{label:f.use("me_fc_convo_call"),onClick:T},po().createElement(Kg,null))),po().createElement(Zi,{content:f.use("me_fc_convo_open_me"),position:"top",align:"center",delay:500},po().createElement(ea,{label:f.use("me_fc_convo_open_me"),href:`/im?sel=${t.peerId}`},po().createElement(rC,null)))),footer:t.canWrite.allowed?po().createElement(zg,{members:"ChatConvo"!==t.kind||null===(m=t.members)||void 0===m?void 0:m.map((e=>We(C,e))),keyboard:t.currentKeyboard,messageEvents:t.messageEvents,onTyping:k,onSend:D,onKeyboardSend:S,onCallbackButtonClick:I,helloStickers:wt(t)?p:void 0}):po().createElement(Zg,{reason:t.canWrite.reason}),className:"FCConvo"},po().createElement("div",{className:"FCConvo__content"},vt(t)?po().createElement(po().Fragment,null,"ChatConvo"===t.kind&&t.pinnedMessage&&E.me_fc_pinned_message&&po().createElement(AC,{pinnedMessage:t.pinnedMessage,onUnpinMessage:F,onPinnedMessageHide:M,isHidden:r.has(e)}),po().createElement(zf,{convo:t,selected:_,onSelectMessage:y,onLoadMore:w,onEndReached:x,isCompactView:!0,onMessageRead:B,onKeyboardSend:S,onCallbackButtonClick:I})):po().createElement("div",{className:"FCConvo__spinner"},po().createElement(mo.Spinner,{size:"small"}))))},mC=({children:e,env:n,featureFlags:t,state:r,dispatch:o,viewer:i})=>{const a=(0,Ao.useCallback)((e=>{o(Object.assign({type:"CacheUpdateReceived"},e))}),[o]);return po().createElement(ki,{value:n},po().createElement(si,{value:o},po().createElement(_i,{value:t},po().createElement(ui,{value:r.userSettings},po().createElement(oi,{value:r.onlines},po().createElement(pi,{value:r.typings},po().createElement(Ci,{value:r.peers},po().createElement(Bi,{value:i},po().createElement(Ti,{value:a},e)))))))))},fC=({store:e,env:n,isCollapsedInitially:t})=>{const[r,o]=(0,Ao.useState)(e.getState());if((0,Ao.useEffect)((()=>e.subscribe(o)),[e]),0===r.viewerId)return null;const i=We(r.peers,r.viewerId);return po().createElement(ho.ErrorBoundary,{fallbackRender:()=>null,onError:e=>n.logger.error("[FCApp] Error",e)},po().createElement(mC,{env:n,state:r,dispatch:e.dispatch,featureFlags:e.featureFlags,viewer:i},po().createElement(gC,{state:r,dispatch:e.dispatch,isCollapsedInitially:t})))},gC=({state:e,dispatch:n,isCollapsedInitially:t=!1})=>{const r=wi(),[o,i]=(0,Ao.useState)(null),{thumbs:a,addThumb:s,removeThumb:l,setShouldEmerge:c}=function({state:e}){const n=ii(),{api:t,storage:r,logger:o}=wi(),i=(0,Ao.useCallback)((({add:e=[],remove:n=[]})=>{const t=r.get("fc-heads"),o=t?t.filter((e=>!n.includes(e))).reduce(((e,n)=>(e.includes(n)||e.push(n),e)),e).slice(0,7):e;t&&t.join("_")===o.join("_")||r.set("fc-heads",o)}),[r]),a=(0,Ao.useCallback)((n=>!Ct(n)&&n.canWrite.allowed&&n.peerId!==e.viewerId),[e.viewerId]),[s,l]=(0,Ao.useState)(null);return(0,Ao.useEffect)((()=>{var i;const s=Array.from(e.folders.all.peerIds,(n=>Ut(e.convos,n))).sort(((e,n)=>n.minorSortId-e.minorSortId)),c=r.get("fc-heads");if(l({shouldEmerge:!0,minorSortId:(null===(i=s[0])||void 0===i?void 0:i.minorSortId)||0,peerIds:c?c.map(Ie):s.filter(a).slice(0,3).map((e=>e.peerId))}),!c)return;const u=c.map(Ie).filter((n=>!e.convos.has(n)));0!==u.length&&t.fetch("messages.getConversationsById",{peer_ids:u.join(",")},{retries:2}).then((e=>{n({type:"CacheUpdateReceived",profiles:e.profiles,groups:e.groups,conversations:e.items})})).catch((()=>{l((n=>n&&Object.assign(Object.assign({},n),{peerIds:n.peerIds.filter((n=>e.convos.has(n)))}))),o.error("Не удалось загрузить сохраненные головы!")}))}),[]),(0,Ao.useEffect)((()=>{const n=Array.from(e.folders.all.peerIds).map((n=>Ut(e.convos,n))).sort(((e,n)=>n.minorSortId-e.minorSortId));let t;l((e=>{var r;if(!e)return e;t=e.shouldEmerge?n.filter((n=>n.minorSortId>e.minorSortId&&a(n)&&n.unreadCount>0&&!e.peerIds.includes(n.peerId))).map((e=>e.peerId)):[];const o=[...t,...e.peerIds].slice(0,7);return{shouldEmerge:e.shouldEmerge,minorSortId:(null===(r=n[0])||void 0===r?void 0:r.minorSortId)||e.minorSortId,peerIds:o}})),t&&t.length>0&&i({add:t})}),[e.folders.all.peerIds,e.convos,i,a]),{thumbs:s&&s.peerIds,addThumb:(0,Ao.useCallback)((e=>{s&&!s.peerIds.includes(e)&&(l(Object.assign(Object.assign({},s),{peerIds:[e,...s.peerIds].slice(0,7)})),i({add:[e]}))}),[s,i]),removeThumb:(0,Ao.useCallback)((e=>{s&&(l(Object.assign(Object.assign({},s),{peerIds:s.peerIds.filter((n=>n!==e))})),i({remove:[e]}))}),[s,i]),setShouldEmerge:(0,Ao.useCallback)((e=>s&&s.shouldEmerge!==e&&l(Object.assign(Object.assign({},s),{shouldEmerge:e}))),[s])}}({state:e});(0,Ao.useEffect)((()=>r.player.subscribe(i)),[r.player]);const[u,d]=function(e,n,t){const[r,o]=(0,Ao.useState)(null);(0,Ao.useEffect)((()=>{if(null!==r)return;const t=e.get(n)||!1;null!==t&&o(t)}));const i=(0,Ao.useCallback)((t=>{try{e.set(n,t)}catch(e){}finally{o(t)}}),[e,n]);return[r,i]}(r.storage,"fc-panel-wide"),[A,p]=(0,Ao.useState)(t),{activeWindow:h,windowsState:m,add:f,remove:g,activate:C,drag:v}=function(e={}){const{width:n,height:t,indent:r,layoutIndent:o,onRemoved:i,onAdded:a}=Object.assign(Object.assign({},{width:350,height:460,indent:10,layoutIndent:0,onRemoved:()=>{},onAdded:()=>{}}),e),[s]=Di({debounced:!0}),[l,c]=(0,Ao.useState)({flow:new Map,windows:new Map}),[u,d]=(0,Ao.useState)(null),A=(0,Ao.useMemo)((()=>Math.min(Math.floor((.5*s-o)/(n+r))-1,2)),[s,o,n,r]),p=(0,Ao.useCallback)((e=>{if(e.flow.size===A+1)return A;for(let n=0;n<=A;n++)if(!e.flow.has(n))return n;return A}),[A]),h=(0,Ao.useCallback)(((e,i,s=!0)=>{c(ve((a=>{const s=p(a),l=s*(n+r)+o,c=a.flow.get(s);a.flow.set(s,e),c&&a.windows.delete(c),a.windows.set(e,{id:e,coords:[l,0],initialX:l,initialY:0,size:[n,t],place:s,entrypoint:i})}))),s&&d(e),a([e])}),[p,t,r,o,n,a]),m=(0,Ao.useCallback)((e=>{const n=Array.isArray(e)?e:[e];c(ve((e=>{n.forEach((n=>{const t=e.windows.get(n);t&&null!==t.place&&e.flow.delete(t.place),e.windows.delete(n)}))})));const t=xe(n);t&&i(t)}),[i]),f=(0,Ao.useCallback)((e=>d(e)),[]),g=(0,Ao.useCallback)(((e,n)=>{const t=l.windows.get(e);c((r=>ve(r,(r=>{t&&null!==t.place&&r.flow.delete(t.place),r.windows.set(e,Object.assign(Object.assign({},r.windows.get(e)),{place:null,coords:n}))}))))}),[l.windows]);(0,Ao.useLayoutEffect)((()=>{c((e=>0===e.flow.size?e:ve(e,(t=>{e.flow.forEach((i=>{const a=e.windows.get(i);if(!a||null===a.place)return;if(a.place>A)return t.flow.delete(a.place),void t.windows.delete(i);const s=a.place*(n+r)+o;t.windows.set(i,Object.assign(Object.assign({},a),{coords:[s,0],initialX:s,initialY:0}))}))}))))}),[o,r,A,n]);const C=ei(l.windows);return(0,Ao.useEffect)((()=>{const e=xe([...l.windows.keys()].filter((e=>!C||!C.has(e))));e&&i(e)}),[C,l.windows,i]),{activeWindow:u,windowsState:l,add:h,remove:m,activate:f,drag:g}}({layoutIndent:u?184:88,onRemoved:(0,Ao.useCallback)((e=>{e.forEach((e=>{var t;"list"!==e&&((null===(t=null==o?void 0:o.currentTrack)||void 0===t?void 0:t.peerId)===e&&r.player.stop(),n({type:"UserClosedConvo",peerId:e}))}))}),[n,r.player,o]),onAdded:(0,Ao.useCallback)((e=>{e.forEach((e=>{"list"!==e&&n({type:"UserOpenedConvo",peerId:e})}))}),[n])}),E=(0,Ao.useCallback)(((e,n)=>{if(m.windows.has(e))return C(e);s(e),m.flow.size>0&&g([...m.flow.values()]),f(e,n)}),[m,f,g,C,s]),_=(0,Ao.useCallback)((e=>E(e,"fastchats_thumbs")),[E]),b=(0,Ao.useCallback)((e=>{l(e),g(e)}),[g,l]),y=(0,Ao.useCallback)((e=>{"list"===e?m.windows.get("list")&&g("list"):g(e)}),[g,m.windows]),B=(0,Ao.useCallback)((()=>{if(m.windows.get("list"))return g("list");m.flow.size>0&&g([...m.flow.values()]),f("list","fastchats_thumbs")}),[m,g,f]),w=(0,Ao.useCallback)((()=>{d(!u)}),[u,d]),x=(0,Ao.useCallback)((e=>{n(Object.assign({type:"CacheUpdateReceived"},e))}),[n]);return(0,Ao.useEffect)((()=>{return r.externalEvents.subscribe((t={"change-should-emerge":_C(CC,c),"select-peer":_C(vC,(t=>{if(!t)return;const{peerId:o,entrypoint:i}=t;e.convos.get(o)||r.api.fetch("messages.getConversationsById",{peer_ids:o.toString()},{retries:3}).then((e=>{x({profiles:e.profiles,groups:e.groups,conversations:e.items}),n({type:"UserOpenedConvo",peerId:o})})).catch((()=>{r.logger.error("Не удалось загрузить открытую извне беседу")})),E(o,i)})),"change-is-collapsed":_C(EC,p)},o=r.logger,(e,n)=>{const r=t[e];if(!r)return;const[i,a]=r,s=i(n);void 0!==s?a(s):o.error(`Некорректные данные для внешнего события ${e}`,n)}));var t,o}),[r.api,r.logger,r.externalEvents,n,e.convos,E,c,x]),a&&null!==u?po().createElement(mo.ConfigProvider,{platform:mo.Platform.VKCOM,scheme:"inherit"},po().createElement(mo.AdaptivityProvider,null,po().createElement("div",{className:"FCApp MEConfig vkui__root"},po().createElement(Zc,null),po().createElement(Aa,{isListOpened:!!m.windows.get("list"),isWide:u,isCollapsed:A,onListToggle:B,onWidthToggle:w},a.map((n=>{const t=e.convos.get(n);return t?po().createElement(Wc,{key:n,convo:t,isSelected:!1,isWide:u,onClick:_,onClose:b}):po().createElement("section",{key:n,className:"FCApp__thumbStub"},po().createElement(mo.Spinner,{size:"small"}))}))),[...m.windows.values()].map((t=>{const r={key:t.id.toString(),isActive:h===t.id,initialX:t.initialX,initialY:t.initialY,initialW:t.size[0],initialH:t.size[1],onActivate:C,onDragged:v,onClose:y};if("list"===t.id)return po().createElement(Bc,Object.assign({windowId:"list",dispatch:n,onSelect:E,folders:e.folders,convosCache:e.convos,convosSearchIndex:e.convosSearchIndex},r));const o=e.convos.get(t.id);return o?po().createElement(hC,Object.assign({dispatch:n,peerId:t.id,entrypoint:t.entrypoint,convo:o,hiddenPinnedMessages:e.hiddenPinnedMessages,helloStickers:e.emptyConvoHelloStickers},r)):po().createElement(ta,Object.assign({id:t.id,title:po().createElement(po().Fragment,null,"...")},r),po().createElement("div",{className:"FCApp__convoStub"},po().createElement(mo.Spinner,{size:"small"})))}))))):null};function CC(e){return"boolean"==typeof e?Boolean(e):void 0}function vC(e){if("number"!=typeof(null==e?void 0:e.peerId)||"string"!=typeof(null==e?void 0:e.entrypoint))return;const{entrypoint:n,peerId:t}=e;return function(e){return["top_messenger_list_all","top_messenger_list_unread","global_search","notifications"].includes(e)}(n)?{peerId:Ie(Number(t)),entrypoint:n}:void 0}function EC(e){return"boolean"==typeof e?Boolean(e):void 0}function _C(e,n){return[e,n]}var bC=u(4399),yC={};yC.styleTagTransform=h(),yC.setAttributes=l(),yC.insert=a().bind(null,"head"),yC.domAPI=o(),yC.insertStyleElement=A(),n()(bC.Z,yC),bC.Z&&bC.Z.locals&&bC.Z.locals;var BC="0 0 20 20",wC="search_20",xC=!1;function kC(){xC||(ko(new(Eo())({id:wC,viewBox:BC,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="search_20"><path clip-rule="evenodd" d="M9.5 4.5a5 5 0 100 10 5 5 0 000-10zM3 9.5a6.5 6.5 0 1111.596 4.035l3.184 3.185a.75.75 0 11-1.06 1.06l-3.185-3.184A6.5 6.5 0 013 9.5z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),xC=!0)}var DC=function(e){return Do((function(){kC()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:BC,id:wC,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?20:+e.height}))};DC.mountIcon=kC;const SC=DC;var IC="0 0 16 16",FC="cancel_circle_16",MC=!1;function TC(){MC||(ko(new(Eo())({id:FC,viewBox:IC,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="cancel_circle_16"><path d="M8 0a8 8 0 110 16A8 8 0 018 0zm2.466 4.26L8 6.727 5.536 4.26a.9.9 0 10-1.273 1.273l2.465 2.468-2.465 2.469a.9.9 0 001.273 1.273L8 9.275l2.466 2.468a.9.9 0 101.273-1.273L9.271 8.001l2.466-2.468a.9.9 0 10-1.272-1.273z" fill="currentColor" /></symbol>'})),MC=!0)}var PC=function(e){return Do((function(){TC()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:IC,id:FC,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};PC.mountIcon=TC;const OC=PC;var zC=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},NC=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),jC=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},LC=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n},RC=void 0;RC="undefined"!=typeof window?window:"undefined"!=typeof self?self:u.g;var UC=null,WC=null,HC=RC.clearTimeout,qC=RC.setTimeout,ZC=RC.cancelAnimationFrame||RC.mozCancelAnimationFrame||RC.webkitCancelAnimationFrame,VC=RC.requestAnimationFrame||RC.mozRequestAnimationFrame||RC.webkitRequestAnimationFrame;null==ZC||null==VC?(UC=HC,WC=function(e){return qC(e,20)}):(UC=function(e){var n=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e,2),t=n[0],r=n[1];ZC(t),HC(r)},WC=function(e){var n=VC((function(){HC(t),e()})),t=qC((function(){ZC(n),e()}),20);return[n,t]});var YC=function(e){function n(){var e,t,r;zC(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=LC(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,n=e.disableHeight,t=e.disableWidth,o=e.onResize;if(r._parentNode){var i=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,d=parseInt(s.paddingBottom,10)||0,A=i-u-d,p=a-l-c;(!n&&r.state.height!==A||!t&&r.state.width!==p)&&(r.setState({height:i-u-d,width:a-l-c}),o({height:i,width:a}))}},r._setRef=function(e){r._autoSizer=e},LC(r,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),NC(n,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=function(e){var n=void 0,t=void 0,r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,l="undefined"!=typeof document&&document.attachEvent;if(!l){a=function(e){var n=e.__resizeTriggers__,t=n.firstElementChild,r=n.lastElementChild,o=t.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=t.offsetWidth+1+"px",o.style.height=t.offsetHeight+1+"px",t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight},i=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var n=this;a(this),this.__resizeRAF__&&UC(this.__resizeRAF__),this.__resizeRAF__=WC((function(){i(n)&&(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach((function(t){t.call(n,e)})))}))}};var c=!1,u="";r="animationstart";var d="Webkit Moz O ms".split(" "),A="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p=document.createElement("fakeelement");if(void 0!==p.style.animationName&&(c=!0),!1===c)for(var h=0;h<d.length;h++)if(void 0!==p.style[d[h]+"AnimationName"]){u="-"+d[h].toLowerCase()+"-",r=A[h],c=!0;break}n="@"+u+"keyframes "+(t="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",o=u+"animation: 1ms "+t+"; "}return{addResizeListener:function(i,c){if(l)i.attachEvent("onresize",c);else{if(!i.__resizeTriggers__){var u=i.ownerDocument,d=RC.getComputedStyle(i);d&&"static"===d.position&&(i.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var r=(n||"")+".resize-triggers { "+(o||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(t.createTextNode(r)),i.appendChild(a)}}(u),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=u.createElement("div")).className="resize-triggers";var A=u.createElement("div");A.className="expand-trigger",A.appendChild(u.createElement("div"));var p=u.createElement("div");p.className="contract-trigger",i.__resizeTriggers__.appendChild(A),i.__resizeTriggers__.appendChild(p),i.appendChild(i.__resizeTriggers__),a(i),i.addEventListener("scroll",s,!0),r&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName===t&&a(i)},i.__resizeTriggers__.addEventListener(r,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(c)}},removeResizeListener:function(e,n){if(l)e.detachEvent("onresize",n);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(n),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.className,r=e.disableHeight,o=e.disableWidth,i=e.style,a=this.state,s=a.height,l=a.width,c={overflow:"visible"},u={},d=!1;return r||(0===s&&(d=!0),c.height=0,u.height=s),o||(0===l&&(d=!0),c.width=0,u.width=l),(0,Ao.createElement)("div",{className:t,ref:this._setRef,style:jC({},c,i)},!d&&n(u))}}]),n}(Ao.PureComponent);YC.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};const GC=YC;var $C=u(5958),XC={};XC.styleTagTransform=h(),XC.setAttributes=l(),XC.insert=a().bind(null,"head"),XC.domAPI=o(),XC.insertStyleElement=A(),n()($C.Z,XC),$C.Z&&$C.Z.locals&&$C.Z.locals;const KC=({convo:e,peer:n,isFocused:t,onClick:r})=>{const o=bi().id===n.id;return po().createElement("button",{key:n.id,className:"SearchResult",role:"tab",tabIndex:t?0:-1,"aria-selected":t,onClick:()=>r(e.peerId)},o?po().createElement(Bs,{size:40}):po().createElement(La,{peer:n,size:40,withOnline:!0}),po().createElement(es,{peer:n,isMuted:Ct(e)}),_t(e)&&po().createElement("div",{className:"SearchResult__icons"},po().createElement(_s,{count:e.unreadCount,isMuted:Ct(e)})))};var QC=u(5940),JC={};JC.styleTagTransform=h(),JC.setAttributes=l(),JC.insert=a().bind(null,"head"),JC.domAPI=o(),JC.insertStyleElement=A(),n()(QC.Z,JC),QC.Z&&QC.Z.locals&&QC.Z.locals;var ev="0 0 16 16",nv="clock_outline_16",tv=!1;function rv(){tv||(ko(new(Eo())({id:nv,viewBox:ev,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="clock_outline_16"><g fill="currentColor"><path d="M8 4.75a.75.75 0 00-1.5 0v4a.75.75 0 00.44.683l2.75 1.25a.75.75 0 00.62-1.366L8 8.267z" /><path clip-rule="evenodd" d="M16 8A8 8 0 110 8a8 8 0 0116 0zm-1.5 0a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z" fill-rule="evenodd" /></g></symbol>'})),tv=!0)}var ov=function(e){return Do((function(){rv()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:ev,id:nv,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};ov.mountIcon=rv;const iv=ov,av=({convo:e,isSelected:n,onClick:t})=>{const{lang:r}=wi(),o=bi(),i=fi(),a=xt(e),s=function(e){const{lang:n}=wi(),t=mi();if(!e)return;const r=6e4,o=36e5,i=864e5,a=6048e5,s=24192e5,l=t-e;switch(!0){case l<r:return;case l<o:return n.use("me_convo_list_date_mins",{values:{time:Math.round(l%o/r)}});case l<i:return n.use("me_convo_list_date_hours",{values:{time:Math.round(l%i/o)}});case l<a:return n.use("me_convo_list_date_days",{values:{time:Math.round(l%a/i)}});case l<s:return n.use("me_convo_list_date_weeks",{values:{time:Math.round(l%s/a)}});default:return n.formatDate(e,{now:t,variant:"datetime"})}}(null==a?void 0:a.sentAt),l=We(i,e.peerId),c=o.id===l.id;let u;if("ChatConvo"===e.kind&&a&&"Service"!==a.kind){const e=We(i,a.authorId);u=po().createElement("span",{className:"TCLConvoListItem__author"},e.id===o.id?r.use("me_convo_list_author_you"):r.use("me_convo_list_author_name",{values:{name:ze(e)}})," ")}const d=di(l.id,"compact","ChatConvo"===e.kind?2:0),A="ChatConvo"===e.kind&&e.activeCall?e.activeCall.participants.count>0?"filled":"empty":void 0;return po().createElement("article",{className:Ho()("TCLConvoListItem",{"TCLConvoListItem--selected":n,"TCLConvoListItem--archived":e.isArchived,"TCLConvoListItem--muted":Ct(e)&&!e.isArchived}),role:"tab",tabIndex:0,"aria-selected":n,onClick:()=>t(e.peerId),onKeyDown:n=>"Enter"===n.key&&t(e.peerId)},po().createElement("div",{className:"TCLConvoListItem__avatar"},c?po().createElement(Bs,{size:40}):po().createElement(La,{peer:l,size:40,withOnline:!0,activeCall:A})),po().createElement("header",{className:"TCLConvoListItem__header"},po().createElement(es,{peer:l,isMuted:Ct(e)})),po().createElement("div",{className:"TCLConvoListItem__message"},d?po().createElement("span",{className:"TCLConvoListItem__typing"},po().createElement("span",{className:"TCLConvoListItem__typingText"},d.text),po().createElement(Uc,{className:"TCLConvoListItem__typingIndicator",type:d.type})):po().createElement(po().Fragment,null,po().createElement("span",{className:"TCLConvoListItem__text"},u,a&&po().createElement(bu,{message:a})),po().createElement("span",{className:"TCLConvoListItem__date"},s?"· "+s:""))),po().createElement("div",{className:"TCLConvoListItem__icons"},bt(e)&&po().createElement("div",{className:"TCLConvoListItem__unreadOut"}),_t(e)&&po().createElement(po().Fragment,null,yt(e)&&po().createElement("div",{className:"TCLConvoListItem__bombIcon"},po().createElement(as,null)),Bt(e)&&po().createElement("div",{className:"TCLConvoListItem__mentionIcon"},po().createElement(As,null)),po().createElement(_s,{count:e.unreadCount,isMuted:Ct(e),size:18})),!bt(e)&&a&&"Queued"===a.kind&&po().createElement("div",{className:"TCLConvoListItem__clockIcon"},po().createElement(iv,null)),!bt(e)&&!_t(e)&&Et(e)&&po().createElement("div",{className:"TCLConvoListItem__pinIcon"},po().createElement(Cs,null)),e.isArchived&&po().createElement("div",{className:"TCLConvoListItem__archiveIcon","aria-label":r.use("me_convo_archived")})))},sv=({dispatch:e,folders:n,convosCache:t,convosSearchIndex:r,onItemClick:o,onShowAllClick:i})=>{const{lang:a}=wi(),s=fi(),{selectedFolder:l,setSelectedFolder:c}=function(e,n){const[t,r]=(0,Ao.useState)("unread");return{selectedFolder:(0,Ao.useMemo)((()=>({id:t,convos:Array.from(n[t].peerIds,(n=>Ut(e,n))).sort(It),hasMore:n[t].hasMore})),[n,t,e]),setSelectedFolder:r}}(t,n),u=(0,Ao.useRef)(null);(0,Ao.useLayoutEffect)((()=>{u.current&&u.current.recomputeRowHeights()}),[l.id]);const{query:d,onChange:A,onKeyDown:p,onFocus:h,onBlur:m,results:f,reset:g}=Ii({requestType:"convos",searchIndex:r,dispatch:e,onSelect:(0,Ao.useCallback)((e=>{o(e,"top_messenger_list_all")}),[o]),defaultResults:(0,Ao.useMemo)((()=>new Set(l.convos.map((e=>e.peerId)))),[l])});(0,Ao.useEffect)((()=>{g()}),[g,l.id]);const C=(0,Ao.useCallback)((e=>{let n;switch(l.id){case"all":n="top_messenger_list_all";break;case"unread":n="top_messenger_list_unread";break;default:ye(l.id)}o(e,n)}),[o,l.id]),v=(0,Ao.useCallback)((({index:e})=>{const n=l.convos[e],t=l.convos[e-1];return n&&t&&Et(t)&&!Et(n)?69:56}),[l]),E=(0,Ao.useCallback)((({index:n,style:t})=>{if(n>l.convos.length-1)return po().createElement("div",{key:"loader",className:"TCLConvoList__itemsLoader",style:t},po().createElement(zl,{className:"TCLConvoList__loader",onIntersection:()=>e({type:"MoreConvosNeeded",folder:l.id})}));const r=l.convos[n],o=l.convos[n-1];if(!r)return null;const i=o&&Et(o)&&!Et(r);return po().createElement("div",{key:r.peerId,style:t,className:Ho()("TCLConvoList__item",{"TCLConvoList__item--separator":i})},po().createElement(av,{convo:r,isSelected:!1,onClick:C}))}),[e,l,C]);return po().createElement("div",{className:"TCLConvoList"},po().createElement("div",{className:"TCLConvoList__header"},po().createElement("div",{className:Ho()("TCLConvoList__search",{"TCLConvoList__search--active":d.length>0})},po().createElement("div",{className:"TCLConvoList__searchIcon"},po().createElement(SC,{width:18,height:18})),po().createElement("input",{className:"TCLConvoList__searchInput",type:"search",placeholder:a.use("me_convo_list_search_placeholder"),value:d||"",onChange:A,onKeyDown:p,onFocus:h,onBlur:m,autoFocus:!0}),po().createElement("div",{className:"TCLConvoList__cancelIcon",onClick:()=>g()},po().createElement(OC,{width:14,height:14})))),po().createElement("div",{className:"TCLConvoList__items"},(()=>{if(""!==d)switch(f){case"loading":return po().createElement(zl,{className:"TCLConvoList__loader",onIntersection:()=>e({type:"MoreConvosNeeded",folder:l.id})});case"empty":return po().createElement(Cl,null);default:return po().createElement(po().Fragment,null,[...f.values()].map(((e,n)=>{const r=We(s,e),o=Ut(t,r.id);return po().createElement(KC,{key:r.id,convo:o,peer:r,isFocused:!1,onClick:C})})))}return 0===l.convos.length?l.hasMore?po().createElement(zl,{className:"TCLConvoList__loader",onIntersection:()=>e({type:"MoreConvosNeeded",folder:l.id})}):po().createElement(Tl,{folder:l.id,onFolderChange:c}):po().createElement(GC,{disableWidth:!0},(e=>po().createElement(ml,{ref:u,className:"TCLConvoList__virtual",height:e.height,width:350,overscanRowCount:10,rowCount:l.hasMore?l.convos.length+1:l.convos.length,rowHeight:v,rowRenderer:E})))})()),po().createElement("div",{className:"TCLConvoList__footer"},""===d?po().createElement("button",{className:"TCLConvoList__folder",onClick:()=>{switch(l.id){case"unread":c("all");break;case"all":c("unread");break;default:ye(l.id)}}},{all:a.use("me_tcl_convo_list_folder_unread"),unread:a.use("me_tcl_convo_list_folder_all")}[l.id]):po().createElement("div",null),po().createElement(Gi,{href:"/im",className:"TCLConvoList__showAll",onClick:i},a.use("me_tcl_convo_list_show_all"))))},lv=({store:e,env:n,onItemClick:t,onShowAllClick:r})=>{const[o,i]=(0,Ao.useState)(e.getState());if((0,Ao.useEffect)((()=>e.subscribe(i)),[e]),0===o.viewerId)return null;const a=We(o.peers,o.viewerId);return po().createElement(ho.ErrorBoundary,{fallbackRender:()=>null,onError:e=>n.logger.error("[TCLApp] Error",e)},po().createElement(mC,{env:n,state:o,dispatch:e.dispatch,featureFlags:e.featureFlags,viewer:a},po().createElement(cv,{state:o,dispatch:e.dispatch,onItemClick:t,onShowAllClick:r})))},cv=({state:e,dispatch:n,onItemClick:t,onShowAllClick:r})=>po().createElement(mo.ConfigProvider,{platform:mo.Platform.VKCOM,scheme:"inherit"},po().createElement(mo.AdaptivityProvider,null,po().createElement("div",{className:"TCLApp MEConfig vkui__root"},po().createElement(Zc,null),po().createElement(sv,{dispatch:n,folders:e.folders,convosCache:e.convos,convosSearchIndex:e.convosSearchIndex,onItemClick:t,onShowAllClick:r}))));var uv=u(7438),dv={};dv.styleTagTransform=h(),dv.setAttributes=l(),dv.insert=a().bind(null,"head"),dv.domAPI=o(),dv.insertStyleElement=A(),n()(uv.Z,dv),uv.Z&&uv.Z.locals&&uv.Z.locals;var Av=u(8067),pv={};pv.styleTagTransform=h(),pv.setAttributes=l(),pv.insert=a().bind(null,"head"),pv.domAPI=o(),pv.insertStyleElement=A(),n()(Av.Z,pv),Av.Z&&Av.Z.locals&&Av.Z.locals;const hv=(0,Ao.forwardRef)((function({content:e,placement:n=mv,coords:t,className:r,onMouseEnter:o,onMouseLeave:i},a){const s=(0,Ao.useRef)(null),[l,c]=(0,Ao.useState)({side:n.side||mv.side,style:{top:0,left:0}});return(0,Ao.useLayoutEffect)((()=>{s.current&&c(function(e,n,t){const{side:r=mv.side,targetAlign:o=mv.targetAlign,popoverAlign:i=mv.popoverAlign,offset:a=mv.offset}=e,{targetOffset:s,targetRect:l,containerRect:c}=n,u=function(e){if(!document)return e;const n=[200,0,80,0],{clientWidth:t,clientHeight:r}=document.documentElement,o=Math.min(Math.max(e.top,n[0]),r),i=Math.min(Math.max(e.left,n[3]),t);return{top:o,left:i,width:Math.min(e.width,t-i-n[1]),height:Math.min(e.height,r-o-n[2])}}(c),d=t.getBoundingClientRect();let A=r,p=Cv(A,l,d,o,i),h=Ev(l,d,p),m=vv(h,u,a);if(!m)return{style:fv(s,p),side:A};const f={top:{opposite:"bottom",sidePlus:"left",sideMinus:"right"},bottom:{opposite:"top",sidePlus:"left",sideMinus:"right"},left:{opposite:"right",sidePlus:"top",sideMinus:"bottom"},right:{opposite:"left",sidePlus:"top",sideMinus:"bottom"}},g={top:0,left:0};if(m[A]>0){const e=A,n=p,t=m[A];A=f[A].opposite,p=Cv(A,l,d,o,i),h=Ev(l,d,p),m=vv(h,u,a),m&&m[A]>t&&(A=e,p=n)}if(m){const{sidePlus:e,sideMinus:n}=f[A];g[e]=m[e]-m[n]}return{style:fv(s,p,g),side:A}}(n,t,s.current))}),[t,n]),po().createElement("div",{ref:a,className:"Popover__wrapper",onMouseEnter:o,onMouseLeave:i,onBlur:i},po().createElement("div",{ref:s,style:l.style,className:`Popover Popover--${l.side}`},po().createElement("div",{className:Ho()("Popover__content",r)},e)))})),mv={side:"top",targetAlign:"50%",popoverAlign:"50%",offset:12};function fv(...e){return e.reduce(((e,{top:n,left:t})=>({top:e.top+n,left:e.left+t})),{top:0,left:0})}function gv(e,n){const t=function(e){if("number"==typeof e)return{number:e,unit:"px"};const n=/(-)?(\d*\.?\d*)(px|%)?/.exec(e);return Array.isArray(n)&&n[2]&&n[3]?{number:Boolean(n[1])?-parseFloat(n[2]):parseFloat(n[2]),unit:"%"===n[2]?"%":"px"}:null}(n);if(t){const{number:n,unit:r}=t;let o=Math.abs(n);return"%"===r&&(o=e*Math.abs(n)*.01),n<0?e-o:o}return 0}function Cv(e,n,t,r,o){return{top:{top:-t.height,left:gv(n.width,r)-gv(t.width,o)},bottom:{top:n.height,left:gv(n.width,r)-gv(t.width,o)},left:{top:gv(n.height,r)-gv(t.height,o),left:-t.width},right:{top:gv(n.height,r)-gv(t.height,o),left:n.width}}[e]||{top:0,left:0}}function vv(e,n,t){const r=function(e,n){let t={top:mv.offset,left:mv.offset,width:-mv.offset,height:-mv.offset};return"number"==typeof n?t={top:n,left:n,width:-n,height:-n}:2===n.length?t={top:n[0],left:n[1],width:-n[1],height:-n[0]}:4===n.length&&(t={top:n[0],left:n[3],width:-n[1],height:-n[2]}),function(...e){return e.reduce(((e,{top:n,left:t,width:r,height:o})=>({top:e.top+n,left:e.left+t,width:e.width+r,height:e.height+o})),{top:0,left:0,width:0,height:0})}(e,t)}(n,t),o=Math.abs(Math.min(e.top-r.top,0)),i=Math.abs(Math.min(n.top+r.height-e.top-e.height,0)),a=Math.abs(Math.min(e.left-r.left,0)),s=Math.abs(Math.min(n.left+r.width-e.left-e.width,0));return 0===o&&0===i&&0===a&&0===s?null:{top:o,bottom:i,left:a,right:s}}function Ev(e,n,t){return Object.assign(Object.assign({},fv(e,t)),{width:n.width,height:n.height})}const _v=({store:e,env:n,data:t,onConvoOpen:r})=>{const[o,i]=(0,Ao.useState)(e.getState());if((0,Ao.useEffect)((()=>e.subscribe(i)),[e]),0===o.viewerId)return null;const a=We(o.peers,o.viewerId);return po().createElement(ho.ErrorBoundary,{fallbackRender:()=>null,onError:e=>n.logger.error("[ProfileInfoTTApp] Error",e)},po().createElement(mC,{env:n,state:o,dispatch:e.dispatch,featureFlags:e.featureFlags,viewer:a},po().createElement(bv,{data:t,onConvoOpen:r})))},bv=({data:e,onConvoOpen:n})=>{const t=bi(),[r,o]=(0,Ao.useState)(new Map);return(0,Ao.useEffect)((()=>{e?e.peerId!==t.id&&o(me((n=>{n.set(e.id,e)}))):o(new Map)}),[e,t]),po().createElement(mo.ConfigProvider,{platform:mo.Platform.VKCOM,scheme:"inherit"},po().createElement(mo.AdaptivityProvider,null,po().createElement(mo.AppRoot,{mode:"partial",noLegacyClasses:!0},po().createElement("div",{className:"MEConfig vkui__root"},0===r.size?null:Array.from(r.values()).map((e=>po().createElement(yv,{key:e.id,popover:e,onConvoOpen:n,onTerminate:()=>{return n=e.id,void o(me((e=>{e.delete(n)})));var n}})))))))},yv=({popover:e,onConvoOpen:n,onTerminate:t})=>{const[r,o]=(0,Ao.useState)("opening"),i=(0,Ao.useRef)(null),a=Ie(e.peerId),s=Ie(e.convoId),l=function(e){const n=fi(),{api:t}=wi(),r=Pi(),o=e&&n.get(e);if((0,Ao.useEffect)((()=>{!o&&e&&(Me(e)&&t.fetch("users.get",{user_ids:e.toString()},{retries:2}).then((e=>{r({profiles:e})})),Pe(e)&&t.fetch("groups.getById",{group_ids:(-e).toString()},{retries:2}).then((e=>{r({groups:e.groups})})))}),[t,r,o,e]),"User"===(null==o?void 0:o.kind)||"Group"===(null==o?void 0:o.kind))return o}(a),c=Tp(l),u=(0,Ao.useCallback)((()=>{if("opening"===r)return t();o("closing")}),[r,o,t]),d=(0,Ao.useCallback)((()=>{o("opened")}),[]);return(0,Ao.useEffect)((()=>{const n=e=>{i.current&&e.target instanceof Node&&i.current.contains(e.target)||t()},r=e=>{"Escape"===e.key&&t()};document.addEventListener("keyup",r),document.addEventListener("click",n);const o=e.subscribeMouseLeave(u);return()=>{document.removeEventListener("click",n),document.removeEventListener("keyup",r),o()}}),[e,u,t]),l&&c?po().createElement(Mp,{nodeRef:i,in:"opening"===r||"opened"===r,addEndListener:e=>{var n;return null===(n=i.current)||void 0===n?void 0:n.addEventListener("transitionend",e,!1)},appear:!0,classNames:"ProfileInfoTTApp__popover-",onEntered:d,onExited:t},po().createElement(hv,{ref:i,className:"ProfileInfoTTApp__popover",placement:{side:"top",targetAlign:0,popoverAlign:64,offset:[12,12,40,12]},coords:e.coords,content:po().createElement(Cp,{peer:l,mutualFriends:c,convoId:s,onConvoOpen:n,onTerminate:t}),onMouseEnter:()=>{o((e=>"closing"===e?"opened":"opening"))},onMouseLeave:u,onBlur:t})):null};var Bv=u(2405),wv={};wv.styleTagTransform=h(),wv.setAttributes=l(),wv.insert=a().bind(null,"head"),wv.domAPI=o(),wv.insertStyleElement=A(),n()(Bv.Z,wv),Bv.Z&&Bv.Z.locals&&Bv.Z.locals;var xv=u(5630),kv={};kv.styleTagTransform=h(),kv.setAttributes=l(),kv.insert=a().bind(null,"head"),kv.domAPI=o(),kv.insertStyleElement=A(),n()(xv.Z,kv),xv.Z&&xv.Z.locals&&xv.Z.locals;var Dv=u(8099),Sv={};Sv.styleTagTransform=h(),Sv.setAttributes=l(),Sv.insert=a().bind(null,"head"),Sv.domAPI=o(),Sv.insertStyleElement=A(),n()(Dv.Z,Sv),Dv.Z&&Dv.Z.locals&&Dv.Z.locals;const Iv=({icon:e,title:n,description:t,control:r})=>po().createElement("li",{className:"SettingsListItem"},po().createElement("div",{className:"SettingsListItem__icon"},e),po().createElement("div",{className:"SettingsListItem__info"},po().createElement("div",{className:"SettingsListItem__title"},n),t&&po().createElement("div",{className:"SettingsListItem__description"},t)),po().createElement("div",{className:"SettingsListItem__control"},r));var Fv="0 0 28 28",Mv="send_circle_fill_gray_28",Tv=!1;function Pv(){Tv||(ko(new(Eo())({id:Mv,viewBox:Fv,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="send_circle_fill_gray_28"><linearGradient id="send_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#send_circle_fill_gray_28_a)" /><path d="M10.16 16.628c-.458 1.298-.745 2.21-.863 2.737-.368 1.653-.637 2.026.738 1.24 1.375-.786 8.031-4.679 9.516-5.544 1.936-1.128 1.962-1.04-.104-2.237-1.573-.912-8.15-4.703-9.412-5.447-1.26-.745-1.106-.414-.738 1.24.12.533.41 1.453.875 2.761.324.915 1.079 1.586 1.992 1.772l3.843.781a.07.07 0 01.052.083.068.068 0 01-.052.055l-3.852.78c-.916.186-1.673.86-1.996 1.779z" fill="#fff" /></symbol>'})),Tv=!0)}var Ov=function(e){return Do((function(){Pv()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Fv,id:Mv,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};Ov.mountIcon=Pv;const zv=Ov;var Nv="0 0 28 28",jv="volume_circle_fill_gray_28",Lv=!1;function Rv(){Lv||(ko(new(Eo())({id:jv,viewBox:Nv,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="volume_circle_fill_gray_28"><linearGradient id="volume_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#volume_circle_fill_gray_28_a)" /><path clip-rule="evenodd" d="M6.923 11.5H9l3.293-3.293A1 1 0 0114 8.914v10.172a1 1 0 01-1.707.707L9 16.5H6.923c-.669 0-.911-.07-1.156-.2-.244-.131-.436-.323-.567-.567s-.2-.487-.2-1.156v-1.154c0-.669.07-.911.2-1.156.131-.244.323-.436.567-.567.245-.13.487-.2 1.156-.2zm9.526-.788a.9.9 0 011.27.097A4.885 4.885 0 0118.9 14c0 1.216-.444 2.33-1.177 3.186a.9.9 0 11-1.367-1.17A3.084 3.084 0 0017.1 14c0-.772-.28-1.476-.747-2.018a.9.9 0 01.096-1.27zm4.044-2.39a.9.9 0 10-1.251 1.294A6.08 6.08 0 0121.1 14a6.08 6.08 0 01-1.859 4.384.9.9 0 001.252 1.294A7.88 7.88 0 0022.9 14a7.88 7.88 0 00-2.407-5.677z" fill="#fff" fill-rule="evenodd" /></symbol>'})),Lv=!0)}var Uv=function(e){return Do((function(){Rv()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Nv,id:jv,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};Uv.mountIcon=Rv;const Wv=Uv;var Hv="0 0 28 28",qv="users_circle_fill_gray_28",Zv=!1;function Vv(){Zv||(ko(new(Eo())({id:qv,viewBox:Hv,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="users_circle_fill_gray_28"><linearGradient id="users_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#users_circle_fill_gray_28_a)" /><path d="M10.5 15c2.25 0 4.5.9 4.5 2.846v.134c0 .295-.04.447-.114.585a.773.773 0 01-.32.321c-.14.075-.29.114-.586.114H7.02c-.295 0-.447-.04-.585-.114a.773.773 0 01-.321-.32c-.075-.14-.114-.29-.114-.586v-.134C6 15.9 8.25 15 10.5 15zm7 0c2.25 0 4.5.9 4.5 2.846v.134c0 .295-.04.447-.114.585a.773.773 0 01-.32.321c-.14.075-.29.114-.586.114H16.6c.084-.248.13-.508.144-.797l.006-.223v-.134c0-1.069-.358-1.957-.971-2.659A7.74 7.74 0 0117.5 15zm-7-6a2.25 2.25 0 110 4.5 2.25 2.25 0 010-4.5zm7 0a2.25 2.25 0 110 4.5 2.25 2.25 0 010-4.5z" fill="#fff" /></symbol>'})),Zv=!0)}var Yv=function(e){return Do((function(){Vv()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:Hv,id:qv,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};Yv.mountIcon=Vv;const Gv=Yv;var $v="0 0 28 28",Xv="message_unread_circle_fill_gray_28",Kv=!1;function Qv(){Kv||(ko(new(Eo())({id:Xv,viewBox:$v,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="message_unread_circle_fill_gray_28"><linearGradient id="message_unread_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#message_unread_circle_fill_gray_28_a)" /><g fill="#fff"><path d="M19.87 12.17a3 3 0 01-4.09-3.935A6.77 6.77 0 0013.999 8c-3.314 0-6 2.359-6 5.269 0 1.406.628 2.684 1.653 3.63a11.487 11.487 0 01-.404 1.688c-.055.173-.13.376-.224.606a.578.578 0 00.017.475.606.606 0 00.801.273l.159-.076c.152-.075.286-.145.401-.21a12 12 0 001.895-1.333c.54.14 1.11.215 1.702.215 3.314 0 6-2.359 6-5.268 0-.377-.045-.745-.13-1.099z" /><path d="M20 9.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" /></g></symbol>'})),Kv=!0)}var Jv=function(e){return Do((function(){Qv()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:$v,id:Xv,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};Jv.mountIcon=Qv;const eE=Jv;var nE="0 0 28 28",tE="archive_circle_fill_gray_28",rE=!1;function oE(){rE||(ko(new(Eo())({id:tE,viewBox:nE,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="archive_circle_fill_gray_28"><linearGradient id="archive_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#archive_circle_fill_gray_28_a)" /><g fill="#fff"><path d="M6.568 8.482c-.068.255-.068.565-.068 1.185 0 .31 0 .465.034.592a1 1 0 00.707.707c.127.034.282.034.592.034h12.334c.31 0 .465 0 .592-.034a1 1 0 00.707-.707c.034-.127.034-.282.034-.592 0-.62 0-.93-.068-1.185a2 2 0 00-1.414-1.414C19.763 7 19.453 7 18.833 7H9.167c-.62 0-.93 0-1.185.068a2 2 0 00-1.414 1.414z" /><path clip-rule="evenodd" d="M8 14.1c0-.56 0-.84.109-1.054a1 1 0 01.437-.437C8.76 12.5 9.04 12.5 9.6 12.5h8.8c.56 0 .84 0 1.054.109a1 1 0 01.437.437C20 13.26 20 13.54 20 14.1v2.1c0 1.68 0 2.52-.327 3.162a3 3 0 01-1.311 1.311C17.72 21 16.88 21 15.2 21h-2.4c-1.68 0-2.52 0-3.162-.327a3 3 0 01-1.311-1.311C8 18.72 8 17.88 8 16.2zm3.5.65a.75.75 0 01.75-.75h3.5a.75.75 0 010 1.5h-3.5a.75.75 0 01-.75-.75z" fill-rule="evenodd" /></g></symbol>'})),rE=!0)}var iE=function(e){return Do((function(){oE()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:nE,id:tE,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};iE.mountIcon=oE;const aE=iE;var sE="0 0 28 28",lE="notification_circle_fill_gray_28",cE=!1;function uE(){cE||(ko(new(Eo())({id:lE,viewBox:sE,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="notification_circle_fill_gray_28"><linearGradient id="notification_circle_fill_gray_28_a" gradientUnits="userSpaceOnUse" x1="-14" x2="14" y1="14" y2="42"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14z" fill="url(#notification_circle_fill_gray_28_a)" /><path d="M15.817 19.5a1.85 1.85 0 01-3.634 0zM9.5 18c-1 0-1.5-.333-1.5-1 0-1 1.5-1 1.5-2.5v-3a4.501 4.501 0 013.7-4.43V7a.8.8 0 011.6 0v.071a4.501 4.501 0 013.7 4.429v3C18.5 16 20 16 20 17c0 .667-.5 1-1.5 1z" fill="#fff" /></symbol>'})),cE=!0)}var dE=function(e){return Do((function(){uE()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:sE,id:lE,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};dE.mountIcon=uE;const AE=dE;var pE="0 0 12 8",hE="dropdown_12",mE=!1;function fE(){mE||(ko(new(Eo())({id:hE,viewBox:pE,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 8" id="dropdown_12"><path clip-rule="evenodd" d="M2.156 2.295a.75.75 0 011.051-.137L6 4.306l2.793-2.148a.75.75 0 11.914 1.189l-3.25 2.5a.75.75 0 01-.914 0l-3.25-2.5a.75.75 0 01-.137-1.052z" fill="currentColor" fill-rule="evenodd" /></symbol>'})),mE=!0)}var gE=function(e){return Do((function(){fE()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:pE,id:hE,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?8:+e.height}))};gE.mountIcon=fE;const CE=gE;var vE="0 0 12 12",EE="chevron_12",_E=!1;function bE(){_E||(ko(new(Eo())({id:EE,viewBox:vE,content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="chevron_12"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.22 2.47a.75.75 0 011.06 0l3 3a.75.75 0 010 1.06l-3 3a.75.75 0 01-1.06-1.06L6.69 6 4.22 3.53a.75.75 0 010-1.06z" fill="currentColor" /></symbol>'})),_E=!0)}var yE=function(e){return Do((function(){bE()}),[]),po().createElement(Oo,(0,_o.assign)({},e,{viewBox:vE,id:EE,width:isNaN(e.width)?12:+e.width,height:isNaN(e.height)?12:+e.height}))};yE.mountIcon=bE;const BE=yE;function wE(){return(wE=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var xE={_noConflict:!1,_isSet:!1,get noConflict(){return this._noConflict},set noConflict(e){this._isSet&&e!==this.noConflict&&setTimeout((function(){throw new Error("[vkui]: Single VKUI instance can not have different globalClassName settings")}),0),this._noConflict=e,this._isSet=!0}},kE=/\b(?=[A-Z])/g,DE={},SE={};function IE(e){var n=xE.noConflict,t=n?DE:SE;if(t[e])return t[e];var r=e.replace(kE,"vkui"),o=n||e===r?r:r+" "+e;return t[e]=o,o}function FE(e){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&"vkuiClass"!==t&&(n[t]=e[t]);if(e.vkuiClass){var r=e.className,o=function(e){if("string"==typeof e)return IE(e);for(var n="",t=0;t<e.length;t++)n+=(n?" ":"")+IE(e[t]);return n}(e.vkuiClass);n.className=r?r+" "+o:o}return n}function ME(e,n){var t=arguments;if(!n||!("vkuiClass"in n))return Ao.createElement.apply(void 0,t);var r=t.length,o=new Array(r);o[0]=t[0],o[1]=FE(n);for(var i=2;i<r;i++)o[i]=t[i];return Ao.createElement.apply(null,o)}ME.Fragment=Ao.Fragment;var TE=ME,PE=!("undefined"==typeof window||!window.document||!window.document.createElement),OE=PE&&!!window.addEventListener,zE={supported:!1,name:"animationend"},NE={supported:!1,name:"transitionend"};PE&&("undefined"!=typeof AnimationEvent?zE.supported=!0:"undefined"!=typeof WebKitAnimationEvent&&(zE.supported=!0,zE.name="webkitAnimationEnd"),"undefined"!=typeof TransitionEvent?NE.supported=!0:"undefined"!=typeof WebKitTransitionEvent&&(NE.supported=!0,NE.name="webkitTransitionEnd"));var jE=function(){};if(OE)try{var LE=Object.defineProperty({},"passive",{get:function(){}});window.addEventListener("test",jE,LE),window.removeEventListener("test",jE,LE)}catch(e){}!function(){if(!PE)return!1;try{document.createElement("div").scrollTo({top:0,get behavior(){return"smooth"}})}catch(e){}}();var RE,UE,WE,HE,qE,ZE=function(e){e||(e=PE?navigator.userAgent.toLowerCase():"");var n=function(e){if(!PE)return!1;var n=!/ipad|iphone|ipod/.test(e);return!(!/mac os/.test(e)||!n||"boolean"!=typeof navigator.standalone)}(e),t=n||-1!==e.indexOf("ipad"),r=!t&&-1!==e.search(/iphone|ipod/),o=r||t,i=o&&e.match(/OS ([\d_]+) like Mac OS X/i),a=0,s=0;n?(a=13,s=0):i&&(a=+(i=i[1].split("_"))[0],s=+i[1]),i=null;var l=a<13&&!(11===a&&s<3),c=o&&function(e){if(!PE)return!1;var n=window.webkit;if(n&&n.messageHandlers)return!0;var t=/constructor/i.test(String(window.HTMLElement)),r=!!window.indexedDB;if(-1===e.indexOf("safari")||-1===e.indexOf("version")||navigator.standalone)if(!r&&t||!window.statusbar||!window.statusbar.visible);else if(!t||r)return!0;return!1}(e),u=!1;return PE&&(u=o&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:t,isIPhone:r,isIOS:o,isIPadOS:n,iosMajor:a,iosMinor:s,isWKWebView:c,isScrollBasedViewport:l,isIPhoneX:u,isIOSChrome:-1!==e.search(/crios/i)}}(),VE=(ZE.isIPad,ZE.isIPhone,ZE.isIOS),YE=ZE.isIPadOS;if(ZE.iosMajor,ZE.iosMinor,ZE.isWKWebView,ZE.isScrollBasedViewport,ZE.isIPhoneX,ZE.isIOSChrome,PE)if(VE&&!YE)RE=!1,UE=!1;else if("ontouchstart"in document||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0){var GE=!/android|mobile|tablet/i.test(navigator.userAgent);UE=(RE=window.matchMedia&&matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:GE)&&(window.matchMedia&&matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:GE)}else RE=!0,UE=!0;else RE=!1,UE=!1;!function(e){e.COMPACT="compact",e.REGULAR="regular"}(WE||(WE={})),function(e){e[e.SMALL_MOBILE=1]="SMALL_MOBILE",e[e.MOBILE=2]="MOBILE",e[e.SMALL_TABLET=3]="SMALL_TABLET",e[e.TABLET=4]="TABLET",e[e.DESKTOP=5]="DESKTOP"}(HE||(HE={})),function(e){e[e.EXTRA_SMALL=1]="EXTRA_SMALL",e[e.SMALL=2]="SMALL",e[e.MEDIUM=3]="MEDIUM"}(qE||(qE={}));var $E=Ao.createContext({sizeX:WE.COMPACT,sizeY:WE.REGULAR,hasMouse:RE,deviceHasHover:UE}),XE=Ao.createContext({portalRoot:null}),KE=function(e){var n,t=e.children,r=e.className,o=e.forcePortal,i=Ao.useContext(XE),a=i.portalRoot,s=i.mode;return o=null!==(n=o)&&void 0!==n?n:"full"!==s,a&&o?(0,Li.createPortal)(TE("div",{className:r},t),a):TE(Ao.Fragment,null,t)},QE=Ao.createContext({window:PE?window:null,document:PE?document:null}),JE=["popout","modal","viewWidth","viewHeight","hasMouse","children","getRootRef"],e_=function(e){var n=e.popout,t=e.modal,r=e.viewWidth,o=e.viewHeight,i=e.hasMouse,a=e.children,s=e.getRootRef,l=function(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,JE),c=Ao.useContext(QE).document,u=r>=HE.SMALL_TABLET&&(i||o>=qE.MEDIUM);return Ao.useEffect((function(){n&&function(e){e&&e.activeElement&&e.activeElement.blur()}(c)}),[!!n]),TE("div",wE({},l,{vkuiClass:"PopoutRoot",ref:s}),a,TE(KE,null,!!n&&TE("div",{vkuiClass:u?"PopoutRoot--absolute":"PopoutRoot__popout"},n),!!t&&TE("div",{vkuiClass:"PopoutRoot__modal"},t)))};e_.displayName="PopoutRoot";var n_,t_,r_=(n_=e_,t_={viewWidth:!0,viewHeight:!0,hasMouse:!0},function(e){var n=Ao.useContext($E),t=!1;(e.sizeX||e.sizeY)&&(t=!0);var r=e.sizeX||n.sizeX,o=e.sizeY||n.sizeY,i=n.viewWidth,a=n.viewHeight,s=n.hasMouse,l=n.deviceHasHover,c={};t_.sizeX&&(c.sizeX=r),t_.sizeY&&(c.sizeY=o),t_.viewWidth&&(c.viewWidth=i),t_.viewHeight&&(c.viewHeight=a),t_.hasMouse&&(c.hasMouse=s),t_.deviceHasHover&&(c.deviceHasHover=l);var u=TE(n_,wE({},e,c));return t?TE($E.Provider,{value:{sizeX:r,sizeY:o,viewWidth:i,viewHeight:a,hasMouse:s,deviceHasHover:l}},u):u});const o_=({isLoading:e})=>{const{lang:n,browserNotifications:t}=wi(),r=li(),o=ii(),i=vi();return po().createElement("ul",{className:"Settings"},e&&po().createElement(zl,{className:"Settings__loader"}),po().createElement(Iv,{icon:po().createElement(zv,null),title:n.use("me_settings_message_submit"),control:po().createElement(i_,{isCtrSubmitSelected:r.ctrSubmit,onChange:e=>o({type:"UserChangedSetting",setting:"ctrSubmit",value:e})})}),po().createElement(Iv,{icon:po().createElement(Wv,null),title:n.use("me_settings_sound_notifications"),control:po().createElement(mo.Switch,{className:"Settings__switch",checked:r.soundNotifications,onChange:e=>o({type:"UserChangedSetting",setting:"soundNotifications",value:Boolean(e.target.checked)})})}),po().createElement(Iv,{icon:po().createElement(Gv,null),title:n.use("me_settings_show_recommendations"),control:po().createElement(mo.Switch,{className:"Settings__switch",checked:r.showRecommendations,onChange:e=>o({type:"UserChangedSetting",setting:"showRecommendations",value:Boolean(e.target.checked)})})}),po().createElement(Iv,{icon:po().createElement(eE,null),title:n.use("me_settings_count_not_muted"),description:n.use("me_settings_count_not_muted_note"),control:po().createElement(mo.Switch,{className:"Settings__switch",checked:!r.countOnlyNotMuted,onChange:e=>o({type:"UserChangedSetting",setting:"countOnlyNotMuted",value:!Boolean(e.target.checked)})})}),i.me_fc_archive&&po().createElement(Iv,{icon:po().createElement(aE,null),title:n.use("me_settings_auto_unarchive"),description:n.use("me_settings_auto_unarchive_note"),control:po().createElement(mo.Switch,{className:"Settings__switch",checked:r.autoUnarchive,onChange:e=>o({type:"UserChangedSetting",setting:"autoUnarchive",value:Boolean(e.target.checked)})})}),t&&po().createElement(Iv,{icon:po().createElement(AE,null),title:n.use("me_settings_browser_notifications"),control:po().createElement(a_,{browserNotifications:t})}))},i_=({isCtrSubmitSelected:e,onChange:n})=>{const{lang:t}=wi(),r=(0,Ao.useRef)(null),[o,i]=(0,Ao.useState)(!1),a=(0,Ao.useCallback)((e=>{if(!(e.target instanceof HTMLInputElement))return;const t=Boolean(Number(e.target.value));n(t)}),[n]),s=e?t.use("me_settings_message_submit_option_ctr"):t.use("me_settings_message_submit_option_default");return po().createElement("div",{className:"Settings__select"},po().createElement(r_,{popout:o?po().createElement(mo.ActionSheet,{onClose:()=>i(!1),toggleRef:r,popupDirection:"bottom"},po().createElement(mo.ActionSheetItem,{autoclose:!0,subtitle:t.use("me_settings_message_submit_option_default_note"),selectable:!0,checked:!e,value:"0",onChange:a},t.use("me_settings_message_submit_option_default")),po().createElement(mo.ActionSheetItem,{autoclose:!0,subtitle:t.use("me_settings_message_submit_option_ctr_note"),selectable:!0,checked:e,value:"1",onChange:a},t.use("me_settings_message_submit_option_ctr"))):null},po().createElement("button",{className:"Settings__button",ref:r,onClick:()=>i(!0)},s,po().createElement("span",{className:"Settings__buttonChevron"},po().createElement(CE,null)))))},a_=({browserNotifications:e})=>{const[n,t]=(0,Ao.useState)(e.getState()),{lang:r}=wi();return"external"===n?po().createElement("button",{className:"Settings__button",onClick:e.onExternal},r.use("me_settings_browser_notifications_external"),po().createElement("span",{className:"Settings__buttonChevron"},po().createElement(BE,null))):po().createElement(mo.Switch,{className:"Settings__switch",checked:n,onChange:n=>e.onChange(Boolean(n.target.checked)).then((e=>t(e)))})},s_=({store:e,env:n})=>{const[t,r]=(0,Ao.useState)(e.getState());(0,Ao.useEffect)((()=>e.subscribe(r)),[e]);const o=0===t.pts,i=We(t.peers,t.viewerId);return po().createElement(ho.ErrorBoundary,{fallbackRender:()=>null,onError:e=>n.logger.error("[SettingsApp] Error",e)},po().createElement("div",{className:"SettingsApp vkui__root"},po().createElement(mC,{env:n,state:t,dispatch:e.dispatch,featureFlags:e.featureFlags,viewer:i},po().createElement(mo.ConfigProvider,{platform:mo.Platform.VKCOM,scheme:"inherit"},po().createElement(mo.AdaptivityProvider,null,po().createElement(o_,{isLoading:o}))))))};function l_(){K(),fe(!1);const e=u(1954),n=u(8327);e.shim(),n.shim()}})(),d})())},184723:(e,n,t)=>{"use strict";t.d(n,{Api:()=>c});var r=t(570655),o=t(559653),i=t(891047),a=t(262643),s=t(206566),l=["messages.getLongPollServer","messages.getLongPollHistory","queue.subscribe","account.getCounters","account.getInfo"],c=function(){function e(n){var t=this;this.request=function(e,n){return(0,a.api)(e,n,{version:o.API_VERSION})},this.fetch=function(e,n,o){return void 0===o&&(o={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,i,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if("queue.subscribe"===e)return[2,Promise.resolve({base_url:"mock",queues:[]})];n=this.enrichParams(e,n),t=o.retries||0,i=500,r.label=1;case 1:0,r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.fetchWithCache(e,n)];case 3:return[2,r.sent()];case 4:if(a=r.sent(),0===t)throw a;return t--,[4,u(i)];case 5:return r.sent(),i=Math.min(2*i,2e4),[3,6];case 6:return[3,1];case 7:return[2]}}))}))},this.enrichParams=function(e,n){var t=e.slice(0,e.indexOf(".")),i={messages:Array.from(new Set((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(o.API_USER_FIELDS)),(0,r.__read)(o.API_GROUP_FIELDS)))).join(","),users:o.API_USER_FIELDS.join(","),groups:o.API_GROUP_FIELDS.join(",")}[t];return(0,r.__assign)((0,r.__assign)({},n),{extended:1,fields:i})},this.fetchWithCache=function(e,n){var r=l.includes(e);return new Promise((function(e){if(!window.curNotifier||window.curNotifier.is_server||s.browser.safari)return e();var n,t;setTimeout(e,(n=500,t=1500,Math.random()*(t-n+1)+n))})).then((function(){return t.checkCache})).then((function(o){if(!r||!o)return t.request(e,n);var a=e+" "+JSON.stringify(n);return i.get(a,t.cache).then((function(r){return void 0!==r&&r.expiresAt>=Date.now()?(setTimeout((function(){i.del(a,t.cache).catch((function(){}))}),Date.now()-r.expiresAt),r.response):t.request(e,n).then((function(e){return i.set(a,{response:e,expiresAt:Date.now()+3e3},t.cache).then((function(){setTimeout((function(){i.del(a,t.cache).catch((function(){}))}),3e3)})).catch((function(){})),e}))}),(function(r){return console.error(r),t.request(e,n)}))}))},this.cache=i.createStore(e.CACHE_DB_NAME,"api-cache-"+n),this.checkCache=i.get("test",this.cache).then((function(){return!0})).catch((function(){return!1}))}return e.prototype.fetchMany=function(e){var n,t,o=[],i=Object.keys(e);try{for(var a=(0,r.__values)(i),s=a.next();!s.done;s=a.next()){var l=s.value;o.push("'"+l+"': API."+l+"("+JSON.stringify(this.enrichParams(l,e[l]))+")")}}catch(e){n={error:e}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(n)throw n.error}}var c="return { "+o.join(",")+" };";return this.fetch("execute",{code:c})},e.CACHE_DB_NAME="reforged-db-v1",e}();function u(e){return new Promise((function(n){return setTimeout(n,e)}))}},472206:(e,n,t)=>{"use strict";t.d(n,{BrowserNotifications:()=>o});var r=t(636600),o=function(){var e=this;this.getState=function(){var n;return(null===(n=window.pushNotifier)||void 0===n?void 0:n.loadEndpoint())||window.ls.get("im_ui_notify_off")?"external":e.isBrowserNotificationsEnabled()},this.onChange=function(n){return n&&!e.isBrowserNotificationsEnabled()?new Promise((function(n){window.DesktopNotifications.requestPermission((function(){e.statlogsBrowserNotificationsOn(),n("external")}))})):!n&&e.isBrowserNotificationsEnabled()?(window.ls.set("im_ui_notify_off",1),e.statlogsBrowserNotificationsOff(),Promise.resolve(!1)):Promise.resolve(n)},this.onExternal=function(){return window.nav.go("/settings?act=notify")},this.isBrowserNotificationsEnabled=function(){return window.DesktopNotifications.supported()&&!window.DesktopNotifications.checkPermissionNeeded()&&!window.ls.get("im_ui_notify_off")},this.statlogsBrowserNotificationsOn=function(){(0,r.statlogsProbValueEvent)(1,"im_browser_notifications_on",1)},this.statlogsBrowserNotificationsOff=function(){(0,r.statlogsProbValueEvent)(1,"im_browser_notifications_off",1)}}},407085:(e,n,t)=>{"use strict";t.d(n,{Logger:()=>i});var r=t(570655),o=t(89722),i=function(){var e=this;this.visible=!1,this.info=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];e.visible&&console.log.apply(console,(0,r.__spreadArray)([],(0,r.__read)(n)))},this.error=function(e,n){n?console.error(e,n):console.error(e);var t=function(e){(0,o.logError)(e,{environment:"messenger"})};if(n instanceof Error){var r=new Error(e+" "+n.message);return r.name=n.name,r.stack=n.stack,t(r)}if("string"==typeof n)return t(new Error(e+" "+n));if(n&&"api_error"===n.type){var i=JSON.stringify(n.error);return t(new Error(e+" "+i))}return t(new Error(e))},this.show=function(){e.visible=!0},this.hide=function(){e.visible=!1}}},798922:(e,n,t)=>{"use strict";t.d(n,{Player:()=>u});var r=t(570655),o=t(559653),i=t(659397),a=t(660058),s=t(709961),l=t(469433),c=t(311046),u=function(){function e(n){var t=this;this.logger=n,this.player=(0,l.getAudioPlayer)(),this.listeners=[],this.state=e.initial(),this.play=function(n,r){return void 0===r&&(r=0),Promise.resolve().then((function(){if("Audio"===n.kind){t.reforgedPlayer.stop();var o=e.toAudio(n),i=new a.WebPlayerAdapter(t.player).getPlaylistId()?t.player.getCurrentPlaylist():t.player.getPlaylist(c.AudioPlaylist.TYPE_TEMP,window.vk.id,"im"+(n.peerId||""));i.mergeWith({list:[o]}),t.player.play(o,i,"im"),r>0&&t.player.seek(r)}else if("Voice"===n.kind)return t.player.stop(),window.Notifier.pauseGlobalMedia(),t.reforgedPlayer.play(n,r)}))},this.pause=function(){"playing"===t.state.status&&("Audio"===t.state.currentTrack.kind?t.player.pause():"Voice"===t.state.currentTrack.kind&&t.reforgedPlayer.pause())},this.resume=function(){"paused"===t.state.status&&("Audio"===t.state.currentTrack.kind?t.player.play():"Voice"===t.state.currentTrack.kind&&t.reforgedPlayer.resume())},this.stop=function(){t.player.stop()},this.subscribe=function(e){return t.listeners.push(e),function(){t.listeners=t.listeners.filter((function(n){return n!==e}))}},this.timeLeft=function(e){var n=e?t.state.voiceDuration:t.state.duration,r=e?t.state.voiceTime:t.state.time,o=Math.floor(n-r);return"-"+(0,i.formatDuration)(o)};var r=Symbol();this.reforgedPlayer=new o.Player(n),this.player.on(this,s.events.PLAY_REQUESTED,(function(n){t.setState({status:"loading",currentVoice:t.state.currentVoice||null,currentTrack:e.toTrack(n),progress:0,duration:n[5],time:0,voiceProgress:t.state.voiceProgress||0,voiceDuration:t.state.voiceDuration||0,voiceTime:t.state.voiceTime||0})})),this.player.on(r,s.events.PLAY,(function(n){t.setState({status:"playing",currentVoice:t.state.currentVoice||null,currentTrack:e.toTrack(n),progress:0,duration:n[5],time:0,voiceProgress:t.state.voiceProgress||0,voiceDuration:t.state.voiceDuration||0,voiceTime:t.state.voiceTime||0})})),this.player.on(this,s.events.PAUSE,(function(){"stopped"!==t.state.status&&t.setState({status:"paused",currentVoice:t.state.currentVoice||null,currentTrack:t.state.currentTrack,progress:t.state.progress||0,duration:t.state.duration||0,time:t.state.time||0,voiceProgress:t.state.voiceProgress||0,voiceDuration:t.state.voiceDuration||0,voiceTime:t.state.voiceTime||0})})),this.player.on(this,[s.events.STOP,s.events.ENDED],(function(){t.setState(e.initial())})),this.player.on(this,s.events.PROGRESS,(function(n,r){var o=n[5];t.setState({status:"playing",currentVoice:t.state.currentVoice||null,currentTrack:e.toTrack(n),progress:r,duration:o,time:r*o,voiceProgress:t.state.voiceProgress||0,voiceDuration:t.state.voiceDuration||0,voiceTime:t.state.voiceTime||0})})),this.reforgedPlayer.subscribe((function(e){t.setState(e),"stopped"!==e.status&&"ended"!==e.status||window.Notifier.resumeGlobalMedia()})),window.Notifier.addRecvClbk("video_start","fastchats",this.pause),window.Notifier.addRecvClbk("audio_start","fastchats",this.pause),window.Notifier.addRecvClbk("stories_video_start","fastchats",this.pause),window.Notifier.addRecvClbk("logged_off","fastchats",(function(){t.player.stop(),t.reforgedPlayer.stop()}))}return e.prototype.setState=function(e){var n=this;this.state=e,this.listeners.forEach((function(e){return e(n.state)}))},e.initial=function(){return{status:"stopped",currentVoice:null,currentTrack:null,progress:0,duration:0,time:0,voiceProgress:0,voiceDuration:0,voiceTime:0}},e.toTrack=function(e){var n=(0,r.__read)(e,26),t=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[15],d=n[16],A=n[17],p=n[18],h=n[19],m=n[20],f=n[21],g=n[22],C=n[24],v=n[25];return{kind:"Audio",id:t,ownerId:o,url:i,title:a,artist:s,duration:l,albumId:c,ads:u,subtitle:d,mainArtists:A||void 0,featuredArtists:p||void 0,album:h?{owner_id:h[0],id:h[1],access_key:h[2],title:""}:void 0,trackCode:m,contentRestricted:f,albumPartNumber:g,accessKey:C,chartInfo:v||void 0,peerId:null}},e.toAudio=function(e){var n=e.id,t=e.ownerId,r=e.url,o=e.title,i=e.artist,a=e.duration,s=e.albumId,l=e.ads,c=e.subtitle,u=e.mainArtists,d=e.featuredArtists,A=e.album,p=e.trackCode,h=e.contentRestricted,m=e.albumPartNumber,f=e.accessKey,g=e.chartInfo;return[n,t,r,o,i,a,s||0,0,"",0,0,"im","[]","/////"+f+"/","",l||{},c||"",u||"",d||"",!!A&&[A.owner_id,A.id,A.access_key],p||"",h||0,m||0,0,f||"",g||!1]},e}()},143468:(e,n,t)=>{"use strict";t.d(n,{ProxyStorage:()=>o});var r=t(559653),o=function(e){var n=this;this.identify=function(e){n.storage.identify(e)},this.get=function(e){return"settings-sound-notifications-on"===e?!window.ls.get("sound_notify_off"):n.storage.get(e)},this.set=function(e,t){"settings-sound-notifications-on"!==e?n.storage.set(e,t):window.ls.set("sound_notify_off",Number(!t))},this.del=function(e){"settings-sound-notifications-on"!==e?n.storage.del(e):window.ls.remove("sound_notify_off")},this.storage=new r.Storage(e),this.dbName=e}},180508:(e,n,t)=>{"use strict";t.d(n,{SharedEngine:()=>o});var r=t(559653),o=function(e,n){var t=this;if(this.logger=e,this.isMaster=n,this.queued={kind:"Buffer",buffer:[]},this.ts=0,this.pts=0,this.connect=function(e){return t.ts=e.ts,t.pts=e.pts,t.engine.connect(e)},this.poll=function(){return t.engine.poll()},this.isConnected=function(){return t.engine.isConnected()},this.skipWaiting=function(){if(t.isMaster)return t.engine.skipWaiting();t.broadcast&&t.broadcast({type:"skip-waiting"})},this.switch=function(e){if(t.broadcast)switch(t.logger.info("[SHARED ENGINE] switch to",e),e){case"master":switch(t.queued.kind){case"Callback":t.queued.cancel();break;case"Buffer":t.queued.buffer=[]}return void(t.isMaster=!0);case"slave":return void(t.isMaster=!1)}},this.fetch=function(e,n){return Promise.resolve().then((function(){if(!t.isMaster)return t.fetchSlave();var r=+(new URL(e).searchParams.get("ts")||1/0);return t.logger.info("[SHARED ENIGNE]",t.ts,r),r>t.ts?Promise.resolve({failed:1}):t.fetchMaster(e,n)})).then((function(e){return"ts"in e&&(t.ts=e.ts,t.pts=e.pts),e}))},this.fetchMaster=function(e,n){t.logger.info("[SHARED ENGINE] fetch master",e);var r,o=window.AbortController?new AbortController:void 0;return n&&o&&(r=window.setTimeout((function(){return o.abort()}),n)),fetch(e,{method:"POST",signal:null==o?void 0:o.signal,headers:{Connection:"keep-alive"}}).then((function(e){return e.json()})).then((function(e){var n=t.ts;return setTimeout((function(){t.broadcast&&t.broadcast({type:"updates",payload:{tsOld:n,data:e}})})),e})).finally((function(){r&&clearTimeout(r)}))},this.fetchSlave=function(){if("Callback"===t.queued.kind)return Promise.reject(new Error("vkcom engine slave double fetch error"));t.logger.info("[SHARED ENGINE] fetch slave");var e=t.queued.buffer.shift();return(e?Promise.resolve(e):new Promise((function(e){t.queued={kind:"Callback",push:function(n){t.queued={kind:"Buffer",buffer:[]},e(n)},cancel:function(){t.queued={kind:"Buffer",buffer:[]},e({tsOld:t.ts,data:{ts:t.ts,pts:t.pts,updates:[]}})}}}))).then((function(e){return e.tsOld>t.ts?(t.queued={kind:"Buffer",buffer:[]},Promise.resolve({failed:1})):e.data}))},this.engine=new r.Engine(this.logger,this.fetch),this.version=this.engine.version,void 0!==window.BroadcastChannel){var o=new BroadcastChannel("messenger-shared-engine");this.broadcast=function(e){return o.postMessage(e)},o.onmessage=function(e){switch(e.data.type){case"updates":var n=e.data.payload;if(t.isMaster)return;if(t.logger.info("[SHARED ENGINE] broadcast received",n),!t.isConnected())return;return"Callback"===t.queued.kind?void t.queued.push(n):void t.queued.buffer.push(n);case"skip-waiting":return void t.engine.skipWaiting();default:t.logger.error("[SHARED ENGINE] Неизвестный бродкаст")}}}}},167109:(e,n,t)=>{"use strict";t.d(n,{SharedQueue:()=>r});var r=function(){function e(){var e=this;this.MAX_BUFFER_SIZE=50,this.unsubscribe=null,this.empty=function(){return{kind:"Buffer",buffer:[]}},this.poll=function(){if("Callback"===e.queued.kind)return e.queued.reject("Queue.poll вызван дважды!"),new Promise((function(n,t){e.queued={kind:"Callback",resolve:n,reject:t}}));var n=e.queued.buffer.shift();if(n)return Promise.resolve(n);if(!e.isConnected())throw new Error("Queue.connect еще не был вызван!");return new Promise((function(n,t){e.queued={kind:"Callback",resolve:n,reject:t}}))},this.disconnect=function(){switch(e.unsubscribe&&e.unsubscribe(),e.unsubscribe=null,e.queued.kind){case"Callback":e.queued.resolve({kind:"Disconnected",reason:"manual"}),e.queued=e.empty();break;case"Buffer":e.queued.buffer.push({kind:"Disconnected",reason:"manual"});break;default:e.queued}},this.isConnected=function(){return!!e.unsubscribe},this.queued=this.empty()}return e.prototype.connect=function(){var e=this;if(!this.isConnected()){this.queued=this.empty();var n=window.Notifier.getEventQueueInstance();this.unsubscribe=n.subscribe((function(n){var t={kind:"Batch",ts:"1",events:[n]};if("Callback"===e.queued.kind){var r=e.queued.resolve;return e.queued=e.empty(),void r(t)}if(e.queued.buffer.length>=e.MAX_BUFFER_SIZE)return e.unsubscribe&&e.unsubscribe(),e.unsubscribe=null,void e.queued.buffer.push({kind:"Disconnected",reason:"backpressure"});e.queued.buffer.push(t)}))}},e}()},599015:(e,n,t)=>{"use strict";t.d(n,{Stats:()=>a});var r=t(62372),o=t(849771),i=t(819945),a=function(){this.logEvent=function(e,n){!function(e,n){switch(e){case"type_action":var t=n;switch(t.type){case"type_ab_custom_metrics_item":r.customMetricsCollector.logEvent(t.type_ab_custom_metrics_item);break;case"type_messaging_action_item":o.messagingActionItemStatCollector.logEvent(t.type_messaging_action_item);break;case"type_messaging_audio_message_item":i.audioMessageStatCollector.logEvent(t.type_messaging_audio_message_item)}}}(e,n)}}}}]);try{stManager.done("dist/11cdaa76d93e3e29e182f89ef3670afb.0a3a67fc32d9a6263d82.js")}catch(e){}